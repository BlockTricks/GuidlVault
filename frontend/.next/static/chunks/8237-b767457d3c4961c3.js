(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8237],{7387:(e,t,a)=>{"use strict";a.d(t,{b:()=>I,Z:()=>S});var n=a(69432),r=a(67622),i=a(16303),s=a(90340),o=a(60930),c=a(29695),l=a(79731),d=a(54335),u=a(53369),p=a(80204),h=a(88579),m=a(36444),f=a(7441),g=a(76339),C=a(30445),E=a(42264),y=a(81757),_=a(87094),w=a(93727),v=a(27493);function A(e){let{chainId:t,maxPriorityFeePerGas:a,maxFeePerGas:n,to:r}=e;if(t<=0)throw new C.qD({chainId:t});if(r&&!(0,y.P)(r))throw new m.M({address:r});if(n&&n>h.Ao)throw new E.BG({maxFeePerGas:n});if(a&&n&&a>n)throw new E.lN({maxFeePerGas:n,maxPriorityFeePerGas:a})}var N=a(96887),b=a(63625);function I(e,t){let a=(0,N.L)(e);return"eip1559"===a?function(e,t){let{chainId:a,gas:n,nonce:i,to:s,value:o,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:p,data:h}=e;A(e);let m=(0,b.f)(p),f=[(0,r.cK)(a),i?(0,r.cK)(i):"0x",d?(0,r.cK)(d):"0x",c?(0,r.cK)(c):"0x",n?(0,r.cK)(n):"0x",s??"0x",o?(0,r.cK)(o):"0x",h??"0x",m,...S(e,t)];return(0,l.aP)(["0x02",(0,u.EQ)(f)])}(e,t):"eip2930"===a?function(e,t){let{chainId:a,gas:n,data:i,nonce:s,to:o,value:c,accessList:d,gasPrice:p}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:a,gasPrice:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new C.qD({chainId:t});if(i&&!(0,y.P)(i))throw new m.M({address:i});if(a||r)throw new f.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>h.Ao)throw new E.BG({maxFeePerGas:n})}(e);let g=(0,b.f)(d),_=[(0,r.cK)(a),s?(0,r.cK)(s):"0x",p?(0,r.cK)(p):"0x",n?(0,r.cK)(n):"0x",o??"0x",c?(0,r.cK)(c):"0x",i??"0x",g,...S(e,t)];return(0,l.aP)(["0x01",(0,u.EQ)(_)])}(e,t):"eip4844"===a?function(e,t){let{chainId:a,gas:n,nonce:d,to:h,value:m,maxFeePerBlobGas:f,maxFeePerGas:C,maxPriorityFeePerGas:E,accessList:y,data:N}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new g.zF;for(let e of t){let t=(0,_.E)(e),a=(0,v.ME)((0,w.di)(e,0,1));if(32!==t)throw new g.uP({hash:e,size:t});if(a!==p.E)throw new g.PK({hash:e,version:a})}}A(e)}(e);let I=e.blobVersionedHashes,T=e.sidecars;if(e.blobs&&(void 0===I||void 0===T)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,r.My)(e)),a=e.kzg,n=(0,i.S)({blobs:t,kzg:a});if(void 0===I&&(I=(0,o.d)({commitments:n})),void 0===T){let e=(0,s.t)({blobs:t,commitments:n,kzg:a});T=(0,c.T)({blobs:t,commitments:n,proofs:e})}}let R=(0,b.f)(y),O=[(0,r.cK)(a),d?(0,r.cK)(d):"0x",E?(0,r.cK)(E):"0x",C?(0,r.cK)(C):"0x",n?(0,r.cK)(n):"0x",h??"0x",m?(0,r.cK)(m):"0x",N??"0x",R,f?(0,r.cK)(f):"0x",I??[],...S(e,t)],k=[],P=[],U=[];if(T)for(let e=0;e<T.length;e++){let{blob:t,commitment:a,proof:n}=T[e];k.push(t),P.push(a),U.push(n)}return(0,l.aP)(["0x03",T?(0,u.EQ)([O,k,P,U]):(0,u.EQ)(O)])}(e,t):"eip7702"===a?function(e,t){let{authorizationList:a,chainId:n,gas:i,nonce:s,to:o,value:c,maxFeePerGas:d,maxPriorityFeePerGas:p,accessList:h,data:f}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{chainId:t}=e,a=e.address;if(!(0,y.P)(a))throw new m.M({address:a});if(t<0)throw new C.qD({chainId:t})}A(e)}(e);let g=(0,b.f)(h),E=function(e){if(!e||0===e.length)return[];let t=[];for(let a of e){let{chainId:e,nonce:n,...i}=a,s=a.address;t.push([e?(0,r.nj)(e):"0x",s,n?(0,r.nj)(n):"0x",...S({},i)])}return t}(a);return(0,l.aP)(["0x04",(0,u.EQ)([(0,r.cK)(n),s?(0,r.cK)(s):"0x",p?(0,r.cK)(p):"0x",d?(0,r.cK)(d):"0x",i?(0,r.cK)(i):"0x",o??"0x",c?(0,r.cK)(c):"0x",f??"0x",g,E,...S(e,t)])])}(e,t):function(e,t){let{chainId:a=0,gas:i,data:s,nonce:o,to:c,value:l,gasPrice:p}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:a,gasPrice:n,maxFeePerGas:r,to:i}=e;if(i&&!(0,y.P)(i))throw new m.M({address:i});if(void 0!==t&&t<=0)throw new C.qD({chainId:t});if(a||r)throw new f.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>h.Ao)throw new E.BG({maxFeePerGas:n})}(e);let g=[o?(0,r.cK)(o):"0x",p?(0,r.cK)(p):"0x",i?(0,r.cK)(i):"0x",c??"0x",l?(0,r.cK)(l):"0x",s??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(a>0)return BigInt(2*a)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new n.zW({v:t.v});return e})(),i=(0,d.B)(t.r),s=(0,d.B)(t.s);g=[...g,(0,r.cK)(e),"0x00"===i?"0x":i,"0x00"===s?"0x":s]}else a>0&&(g=[...g,(0,r.cK)(a),"0x","0x"]);return(0,u.EQ)(g)}(e,t)}function S(e,t){let a=t??e,{v:n,yParity:i}=a;if(void 0===a.r||void 0===a.s||void 0===n&&void 0===i)return[];let s=(0,d.B)(a.r),o=(0,d.B)(a.s);return["number"==typeof i?i?(0,r.cK)(1):"0x":0n===n?"0x":1n===n?(0,r.cK)(1):27n===n?"0x":(0,r.cK)(1),"0x00"===s?"0x":s,"0x00"===o?"0x":o]}},9894:(e,t,a)=>{"use strict";function n(e){return e}a.d(t,{U:()=>n})},12878:e=>{"use strict";var t=Object.prototype.hasOwnProperty,a="~";function n(){}function r(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function i(e,t,n,i,s){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new r(n,i||e,s),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(a=!1)),o.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(a?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=a?a+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,s=Array(i);r<i;r++)s[r]=n[r].fn;return s},o.prototype.listenerCount=function(e){var t=a?a+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,r,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var c,l,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,i),!0;case 6:return d.fn.call(d.context,t,n,r,i,s),!0}for(l=1,c=Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,h=d.length;for(l=0;l<h;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,r);break;default:if(!c)for(p=1,c=Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},o.prototype.on=function(e,t,a){return i(this,e,t,a,!1)},o.prototype.once=function(e,t,a){return i(this,e,t,a,!0)},o.prototype.removeListener=function(e,t,n,r){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||s(this,i);else{for(var c=0,l=[],d=o.length;c<d;c++)(o[c].fn!==t||r&&!o[c].once||n&&o[c].context!==n)&&l.push(o[c]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o},20068:(e,t,a)=>{"use strict";a.d(t,{YC:()=>d,bQ:()=>l});var n=a(36444),r=a(81757),i=a(79731),s=a(67622),o=a(53369),c=a(7387);function l(e,t){var a;return"deposit"===(a=e).type||void 0!==a.sourceHash?function(e){!function(e){let{from:t,to:a}=e;if(t&&!(0,r.P)(t))throw new n.M({address:t});if(a&&!(0,r.P)(a))throw new n.M({address:a})}(e);let{sourceHash:t,data:a,from:c,gas:l,isSystemTx:d,mint:u,to:p,value:h}=e,m=[t,c,p??"0x",u?(0,s.nj)(u):"0x",h?(0,s.nj)(h):"0x",l?(0,s.nj)(l):"0x",d?"0x1":"0x",a??"0x"];return(0,i.aP)(["0x7e",(0,o.EQ)(m)])}(e):(0,c.b)(e,t)}let d={transaction:l}},26715:(e,t,a)=>{"use strict";a.d(t,{Ht:()=>s});var n=a(12115),r=a(95155),i=n.createContext(void 0),s=e=>{let{client:t,children:a}=e;return n.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,r.jsx)(i.Provider,{value:t,children:a})}},29412:e=>{e.exports={style:{fontFamily:"'GeistSans', 'GeistSans Fallback'"},className:"__className_fb8f2c",variable:"__variable_fb8f2c"}},37200:(e,t,a)=>{"use strict";a.d(t,{r:()=>n});let n=(0,a(22732).x)({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:0x16041f6},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xdb04c1}}})},40194:(e,t,a)=>{"use strict";a.d(t,{r:()=>n});let n="3.0.0"},42744:(e,t,a)=>{"use strict";a.d(t,{E:()=>B});var n={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},r=new class{#e=n;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},i="undefined"==typeof window||"Deno"in globalThis;function s(){}function o(e,t){return"function"==typeof e?e(t):e}function c(e,t){let{type:a="all",exact:n,fetchStatus:r,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==d(s,t.options))return!1}else if(!p(t.queryKey,s))return!1}if("all"!==a){let e=t.isActive();if("active"===a&&!e||"inactive"===a&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!r||r===t.state.fetchStatus)&&(!i||!!i(t))}function l(e,t){let{exact:a,status:n,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(a){if(u(t.options.mutationKey)!==u(i))return!1}else if(!p(t.options.mutationKey,i))return!1}return(!n||t.state.status===n)&&(!r||!!r(t))}function d(e,t){return(t?.queryKeyHashFn||u)(e)}function u(e){return JSON.stringify(e,(e,t)=>f(t)?Object.keys(t).sort().reduce((e,a)=>(e[a]=t[a],e),{}):t)}function p(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(a=>p(e[a],t[a]))}var h=Object.prototype.hasOwnProperty;function m(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function f(e){if(!g(e))return!1;let t=e.constructor;if(void 0===t)return!0;let a=t.prototype;return!!(g(a)&&a.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(e)===Object.prototype}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function C(e,t,a=0){let n=[...e,t];return a&&n.length>a?n.slice(1):n}function E(e,t,a=0){let n=[t,...e];return a&&n.length>a?n.slice(0,-1):n}var y=Symbol();function _(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==y?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}var w=function(e){setTimeout(e,0)},v=function(){let e=[],t=0,a=e=>{e()},n=e=>{e()},r=w,i=n=>{t?e.push(n):r(()=>{a(n)})},s=()=>{let t=e;e=[],t.length&&r(()=>{n(()=>{t.forEach(e=>{a(e)})})})};return{batch:e=>{let a;t++;try{a=e()}finally{--t||s()}return a},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{a=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{r=e}}}(),A=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},N=new class extends A{#a;#n;#r;constructor(){super(),this.#r=e=>{if(!i&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#n||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#r=e,this.#n?.(),this.#n=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#a!==e&&(this.#a=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#a?this.#a:globalThis.document?.visibilityState!=="hidden"}},b=new class extends A{#i=!0;#n;#r;constructor(){super(),this.#r=e=>{if(!i&&window.addEventListener){let t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#n||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#r=e,this.#n?.(),this.#n=e(this.setOnline.bind(this))}setOnline(e){this.#i!==e&&(this.#i=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#i}};function I(e){return Math.min(1e3*2**e,3e4)}function S(e){return(e??"online")!=="online"||b.isOnline()}var T=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function R(e){let t,a=!1,n=0,s=function(){let e,t;let a=new Promise((a,n)=>{e=a,t=n});function n(e){Object.assign(a,e),delete a.resolve,delete a.reject}return a.status="pending",a.catch(()=>{}),a.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},a.reject=e=>{n({status:"rejected",reason:e}),t(e)},a}(),o=()=>"pending"!==s.status,c=()=>N.isFocused()&&("always"===e.networkMode||b.isOnline())&&e.canRun(),l=()=>S(e.networkMode)&&e.canRun(),d=e=>{o()||(t?.(),s.resolve(e))},u=e=>{o()||(t?.(),s.reject(e))},p=()=>new Promise(a=>{t=e=>{(o()||c())&&a(e)},e.onPause?.()}).then(()=>{t=void 0,o()||e.onContinue?.()}),h=()=>{let t;if(o())return;let s=0===n?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(d).catch(t=>{if(o())return;let s=e.retry??3*!i,l=e.retryDelay??I,d="function"==typeof l?l(n,t):l,m=!0===s||"number"==typeof s&&n<s||"function"==typeof s&&s(n,t);if(a||!m){u(t);return}n++,e.onFail?.(n,t),new Promise(e=>{r.setTimeout(e,d)}).then(()=>c()?void 0:p()).then(()=>{a?u(t):h()})})};return{promise:s,status:()=>s.status,cancel:t=>{if(!o()){let a=new T(t);u(a),e.onCancel?.(a)}},continue:()=>(t?.(),s),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1},canStart:l,start:()=>(l()?h():p().then(h),s)}}var O=class{#s;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#s=r.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(i?1/0:3e5))}clearGcTimeout(){this.#s&&(r.clearTimeout(this.#s),this.#s=void 0)}},k=class extends O{#o;#c;#l;#d;#u;#p;#h;constructor(e){super(),this.#h=!1,this.#p=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#d=e.client,this.#l=this.#d.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=U(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){if(this.options={...this.#p,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=U(this.options);void 0!==e.data&&(this.setState(P(e.data,e.dataUpdatedAt)),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#l.remove(this)}setData(e,t){var a,n;let r=(a=this.state.data,"function"==typeof(n=this.options).structuralSharing?n.structuralSharing(a,e):!1!==n.structuralSharing?function e(t,a){if(t===a)return t;let n=m(t)&&m(a);if(!n&&!(f(t)&&f(a)))return a;let r=(n?t:Object.keys(t)).length,i=n?a:Object.keys(a),s=i.length,o=n?Array(s):{},c=0;for(let l=0;l<s;l++){let s=n?l:i[l],d=t[s],u=a[s];if(d===u){o[s]=d,(n?l<r:h.call(t,s))&&c++;continue}if(null===d||null===u||"object"!=typeof d||"object"!=typeof u){o[s]=u;continue}let p=e(d,u);o[s]=p,p===d&&c++}return r===s&&c===r?t:o}(a,e):e);return this.#m({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#m({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(s).catch(s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>{var t;return!1!==("function"==typeof(t=e.options.enabled)?t(this):t)})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===y||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===o(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Math.max(this.state.dataUpdatedAt+(e||0)-Date.now(),0))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#l.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#u&&(this.#h?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#l.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#m({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&this.#u?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let a=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#h=!0,a.signal)})},r=()=>{let e=_(this.options,t),a=(()=>{let e={client:this.#d,queryKey:this.queryKey,meta:this.meta};return n(e),e})();return(this.#h=!1,this.options.persister)?this.options.persister(e,a,this):e(a)},i=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#d,state:this.state,fetchFn:r};return n(e),e})();this.options.behavior?.onFetch(i,this),this.#c=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#m({type:"fetch",meta:i.fetchOptions?.meta}),this.#u=R({initialPromise:t?.initialPromise,fn:i.fetchFn,onCancel:e=>{e instanceof T&&e.revert&&this.setState({...this.#c,fetchStatus:"idle"}),a.abort()},onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:()=>{this.#m({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0});try{let e=await this.#u.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#l.config.onSuccess?.(e,this),this.#l.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof T){if(e.silent)return this.#u.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#m({type:"error",error:e}),this.#l.config.onError?.(e,this),this.#l.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#m(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":var a;return{...t,...(a=t.data,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S(this.options.networkMode)?"fetching":"paused",...void 0===a&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":let n={...t,...P(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#c=e.manual?n:void 0,n;case"error":let r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),v.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#l.notify({query:this,type:"updated",action:e})})}};function P(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function U(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,a=void 0!==t,n=a?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var x=class extends A{constructor(e={}){super(),this.config=e,this.#f=new Map}#f;build(e,t,a){let n=t.queryKey,r=t.queryHash??d(n,t),i=this.get(r);return i||(i=new k({client:e,queryKey:n,queryHash:r,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#f.has(e.queryHash)||(this.#f.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#f.get(e.queryHash);t&&(e.destroy(),t===e&&this.#f.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){v.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#f.get(e)}getAll(){return[...this.#f.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>c(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>c(e,t)):t}notify(e){v.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){v.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){v.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},D=class extends O{#d;#g;#C;#u;constructor(e){super(),this.#d=e.client,this.mutationId=e.mutationId,this.#C=e.mutationCache,this.#g=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#g.includes(e)||(this.#g.push(e),this.clearGcTimeout(),this.#C.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#g=this.#g.filter(t=>t!==e),this.scheduleGc(),this.#C.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#g.length||("pending"===this.state.status?this.scheduleGc():this.#C.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#m({type:"continue"})},a={client:this.#d,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#u=R({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#C.canRun(this)});let n="pending"===this.state.status,r=!this.#u.canStart();try{if(n)t();else{this.#m({type:"pending",variables:e,isPaused:r}),await this.#C.config.onMutate?.(e,this,a);let t=await this.options.onMutate?.(e,a);t!==this.state.context&&this.#m({type:"pending",context:t,variables:e,isPaused:r})}let i=await this.#u.start();return await this.#C.config.onSuccess?.(i,e,this.state.context,this,a),await this.options.onSuccess?.(i,e,this.state.context,a),await this.#C.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,e,this.state.context,a),this.#m({type:"success",data:i}),i}catch(t){try{throw await this.#C.config.onError?.(t,e,this.state.context,this,a),await this.options.onError?.(t,e,this.state.context,a),await this.#C.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,t,e,this.state.context,a),t}finally{this.#m({type:"error",error:t})}}finally{this.#C.runNext(this)}}#m(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),v.batch(()=>{this.#g.forEach(t=>{t.onMutationUpdate(e)}),this.#C.notify({mutation:this,type:"updated",action:e})})}},M=class extends A{constructor(e={}){super(),this.config=e,this.#E=new Set,this.#y=new Map,this.#_=0}#E;#y;#_;build(e,t,a){let n=new D({client:e,mutationCache:this,mutationId:++this.#_,options:e.defaultMutationOptions(t),state:a});return this.add(n),n}add(e){this.#E.add(e);let t=L(e);if("string"==typeof t){let a=this.#y.get(t);a?a.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#E.delete(e)){let t=L(e);if("string"==typeof t){let a=this.#y.get(t);if(a){if(a.length>1){let t=a.indexOf(e);-1!==t&&a.splice(t,1)}else a[0]===e&&this.#y.delete(t)}}}this.notify({type:"removed",mutation:e})}canRun(e){let t=L(e);if("string"!=typeof t)return!0;{let a=this.#y.get(t),n=a?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=L(e);if("string"!=typeof t)return Promise.resolve();{let a=this.#y.get(t)?.find(t=>t!==e&&t.state.isPaused);return a?.continue()??Promise.resolve()}}clear(){v.batch(()=>{this.#E.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#E.clear(),this.#y.clear()})}getAll(){return Array.from(this.#E)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>l(t,e))}findAll(e={}){return this.getAll().filter(t=>l(e,t))}notify(e){v.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return v.batch(()=>Promise.all(e.map(e=>e.continue().catch(s))))}};function L(e){return e.options.scope?.id}function F(e){return{onFetch:(t,a)=>{let n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[],o={pages:[],pageParams:[]},c=0,l=async()=>{let a=!1,l=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?a=!0:t.signal.addEventListener("abort",()=>{a=!0}),t.signal)})},d=_(t.options,t.fetchOptions),u=async(e,n,r)=>{if(a)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let i=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:r?"backward":"forward",meta:t.options.meta};return l(e),e})(),s=await d(i),{maxPages:o}=t.options,c=r?E:C;return{pages:c(e.pages,s,o),pageParams:c(e.pageParams,n,o)}};if(r&&i.length){let e="backward"===r,t={pages:i,pageParams:s},a=(e?function(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}:j)(n,t);o=await u(t,a,e)}else{let t=e??i.length;do{let e=0===c?s[0]??n.initialPageParam:j(n,o);if(c>0&&null==e)break;o=await u(o,e),c++}while(c<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=l}}}function j(e,{pages:t,pageParams:a}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,a[n],a):void 0}var B=class{#w;#C;#p;#v;#A;#N;#b;#I;constructor(e={}){this.#w=e.queryCache||new x,this.#C=e.mutationCache||new M,this.#p=e.defaultOptions||{},this.#v=new Map,this.#A=new Map,this.#N=0}mount(){this.#N++,1===this.#N&&(this.#b=N.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onFocus())}),this.#I=b.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onOnline())}))}unmount(){this.#N--,0===this.#N&&(this.#b?.(),this.#b=void 0,this.#I?.(),this.#I=void 0)}isFetching(e){return this.#w.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#C.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),a=this.#w.build(this,t),n=a.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(o(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#w.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,a){let n=this.defaultQueryOptions({queryKey:e}),r=this.#w.get(n.queryHash),i=r?.state.data,s="function"==typeof t?t(i):t;if(void 0!==s)return this.#w.build(this,n).setData(s,{...a,manual:!0})}setQueriesData(e,t,a){return v.batch(()=>this.#w.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,a)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state}removeQueries(e){let t=this.#w;v.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let a=this.#w;return v.batch(()=>(a.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let a={revert:!0,...t};return Promise.all(v.batch(()=>this.#w.findAll(e).map(e=>e.cancel(a)))).then(s).catch(s)}invalidateQueries(e,t={}){return v.batch(()=>(this.#w.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let a={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(v.batch(()=>this.#w.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,a);return a.throwOnError||(t=t.catch(s)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(s)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let a=this.#w.build(this,t);return a.isStaleByTime(o(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(s).catch(s)}fetchInfiniteQuery(e){return e.behavior=F(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(s).catch(s)}ensureInfiniteQueryData(e){return e.behavior=F(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return b.isOnline()?this.#C.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#w}getMutationCache(){return this.#C}getDefaultOptions(){return this.#p}setDefaultOptions(e){this.#p=e}setQueryDefaults(e,t){this.#v.set(u(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#v.values()],a={};return t.forEach(t=>{p(e,t.queryKey)&&Object.assign(a,t.defaultOptions)}),a}setMutationDefaults(e,t){this.#A.set(u(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#A.values()],a={};return t.forEach(t=>{p(e,t.mutationKey)&&Object.assign(a,t.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#p.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=d(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===y&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#p.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#w.clear(),this.#C.clear()}}},45677:(e,t,a)=>{"use strict";let n,r,i,s;function o(e){let t=e.state.current,a=e.state.connections.get(t),n=a?.accounts,r=n?.[0],i=e.chains.find(e=>e.id===a?.chainId),s=e.state.status;switch(s){case"connected":return{address:r,addresses:n,chain:i,chainId:a?.chainId,connector:a?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:r,addresses:n,chain:i,chainId:a?.chainId,connector:a?.connector,isConnected:!!r,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:r,addresses:n,chain:i,chainId:a?.chainId,connector:a?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}a.d(t,{D:()=>sc});var c,l,d,u,p=a(98078);let h=e=>(t,a,n)=>{let r=n.subscribe;return n.subscribe=(e,t,a)=>{let i=e;if(t){let r=(null==a?void 0:a.equalityFn)||Object.is,s=e(n.getState());i=a=>{let n=e(a);if(!r(s,n)){let e=s;t(s=n,e)}},(null==a?void 0:a.fireImmediately)&&t(s,s)}return r(i)},e(t,a,n)},m=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>m(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>m(t)(e)}}},f=(e,t)=>(a,n,r)=>{let i,s={storage:function(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),r=null!=(t=a.getItem(e))?t:null;return r instanceof Promise?r.then(n):n(r)},setItem:(e,t)=>a.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>a.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=new Set,l=new Set,d=s.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),a(...e)},n,r);let u=()=>{let e=s.partialize({...n()});return d.setItem(s.name,{state:e,version:s.version})},p=r.setState;r.setState=(e,t)=>{p(e,t),u()};let h=e((...e)=>{a(...e),u()},n,r);r.getInitialState=()=>h;let f=()=>{var e,t;if(!d)return;o=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:h)});let r=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=n())?e:h))||void 0;return m(d.getItem.bind(d))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate)return[!0,s.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[r,o]=e;if(a(i=s.merge(o,null!=(t=n())?t:h),!0),r)return u()}).then(()=>{null==r||r(i,void 0),i=n(),o=!0,l.forEach(e=>e(i))}).catch(e=>{null==r||r(void 0,e)})};return r.persist={setOptions:e=>{s={...s,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},s.skipHydration||f(),i||h},g=e=>{let t;let a=new Set,n=(e,n)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=n?n:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,i={setState:n,getState:r,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e))},s=t=e(n,r,i);return i},C=e=>e?g(e):g;var E=a(35883),y=a(81379),_=a(78519),w=a(42142),v=a(67622),A=a(77752),N=a(90113),b=a(9894);function I(e={}){let t,a,n,r;let{shimDisconnect:i=!0,unstable_shimAsyncInject:s}=e;function o(){let t=e.target;if("function"==typeof t){let e=t();if(e)return e}return"object"==typeof t?t:"string"==typeof t?{...S[t]??{id:t,name:`${t[0].toUpperCase()}${t.slice(1)}`,provider:`is${t[0].toUpperCase()}${t.slice(1)}`}}:{id:"injected",name:"Injected",provider:e=>e?.ethereum}}return(0,b.U)(c=>({get icon(){return o().icon},get id(){return o().id},get name(){return o().name},type:I.type,async setup(){let a=await this.getProvider();a?.on&&e.target&&(n||(n=this.onConnect.bind(this),a.on("connect",n)),t||(t=this.onAccountsChanged.bind(this),a.on("accountsChanged",t)))},async connect({chainId:s,isReconnecting:o,withCapabilities:l}={}){let d=await this.getProvider();if(!d)throw new N.N;let u=[];if(o)u=await this.getAccounts().catch(()=>[]);else if(i)try{let e=await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});(u=e[0]?.caveats?.[0]?.value?.map(e=>E.b(e))).length>0&&(u=await this.getAccounts())}catch(e){if(e.code===y.vx.code)throw new y.vx(e);if(e.code===y.qZ.code)throw e}try{u?.length||o||(u=(await d.request({method:"eth_requestAccounts"})).map(e=>(0,E.b)(e))),n&&(d.removeListener("connect",n),n=void 0),t||(t=this.onAccountsChanged.bind(this),d.on("accountsChanged",t)),a||(a=this.onChainChanged.bind(this),d.on("chainChanged",a)),r||(r=this.onDisconnect.bind(this),d.on("disconnect",r));let p=await this.getChainId();if(s&&p!==s){let e=await this.switchChain({chainId:s}).catch(e=>{if(e.code===y.vx.code)throw e;return{id:p}});p=e?.id??p}return i&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:l?u.map(e=>({address:e,capabilities:{}})):u,chainId:p}}catch(e){if(e.code===y.vx.code)throw new y.vx(e);if(e.code===y.qZ.code)throw new y.qZ(e);throw e}},async disconnect(){let t=await this.getProvider();if(!t)throw new N.N;a&&(t.removeListener("chainChanged",a),a=void 0),r&&(t.removeListener("disconnect",r),r=void 0),n||(n=this.onConnect.bind(this),t.on("connect",n));try{await (0,_.w)(()=>t.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}i&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){let e=await this.getProvider();if(!e)throw new N.N;return(await e.request({method:"eth_accounts"})).map(e=>(0,E.b)(e))},async getChainId(){let e=await this.getProvider();if(!e)throw new N.N;return Number(await e.request({method:"eth_chainId"}))},async getProvider(){let e;if("undefined"==typeof window)return;let t=o();return(e="function"==typeof t.provider?t.provider(window):"string"==typeof t.provider?T(window,t.provider):t.provider)&&!e.removeListener&&("off"in e&&"function"==typeof e.off?e.removeListener=e.off:e.removeListener=()=>{}),e},async isAuthorized(){try{if(i&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==s&&!1!==s){let e=async()=>("undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",e),!!await this.getProvider()),t="number"==typeof s?s:1e3;if(await Promise.race([..."undefined"!=typeof window?[new Promise(t=>window.addEventListener("ethereum#initialized",()=>t(e()),{once:!0}))]:[],new Promise(a=>setTimeout(()=>a(e()),t))]))return!0}throw new N.N}return!!(await (0,w.b)(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let a=await this.getProvider();if(!a)throw new N.N;let n=c.chains.find(e=>e.id===t);if(!n)throw new y.ch(new A.nk);let r=new Promise(e=>{let a=n=>{"chainId"in n&&n.chainId===t&&(c.emitter.off("change",a),e())};c.emitter.on("change",a)});try{return await Promise.all([a.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,v.cK)(t)}]}).then(async()=>{await this.getChainId()===t&&c.emitter.emit("change",{chainId:t})}),r]),n}catch(i){if(4902===i.code||i?.data?.originalError?.code===4902)try{let i,s;let{default:o,...l}=n.blockExplorers??{};e?.blockExplorerUrls?i=e.blockExplorerUrls:o&&(i=[o.url,...Object.values(l).map(e=>e.url)]),s=e?.rpcUrls?.length?e.rpcUrls:[n.rpcUrls.default?.http[0]??""];let d={blockExplorerUrls:i,chainId:(0,v.cK)(t),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:s};return await Promise.all([a.request({method:"wallet_addEthereumChain",params:[d]}).then(async()=>{if(await this.getChainId()===t)c.emitter.emit("change",{chainId:t});else throw new y.vx(Error("User rejected switch after adding network."))}),r]),n}catch(e){throw new y.vx(e)}if(i.code===y.vx.code)throw new y.vx(i);throw new y.ch(i)}},async onAccountsChanged(e){if(0===e.length)this.onDisconnect();else if(c.emitter.listenerCount("connect")){let e=(await this.getChainId()).toString();this.onConnect({chainId:e}),i&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:e.map(e=>(0,E.b)(e))})},onChainChanged(e){let t=Number(e);c.emitter.emit("change",{chainId:t})},async onConnect(e){let i=await this.getAccounts();if(0===i.length)return;let s=Number(e.chainId);c.emitter.emit("connect",{accounts:i,chainId:s});let o=await this.getProvider();o&&(n&&(o.removeListener("connect",n),n=void 0),t||(t=this.onAccountsChanged.bind(this),o.on("accountsChanged",t)),a||(a=this.onChainChanged.bind(this),o.on("chainChanged",a)),r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)))},async onDisconnect(e){let t=await this.getProvider();(!e||1013!==e.code||!t||!(await this.getAccounts()).length)&&(c.emitter.emit("disconnect"),t&&(a&&(t.removeListener("chainChanged",a),a=void 0),r&&(t.removeListener("disconnect",r),r=void 0),n||(n=this.onConnect.bind(this),t.on("connect",n))))}}))}I.type="injected";let S={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:e=>e?.coinbaseWalletExtension?e.coinbaseWalletExtension:T(e,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:e=>T(e,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;for(let t of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"])if(e[t])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:e=>e?.phantom?.ethereum?e.phantom?.ethereum:T(e,"isPhantom")}};function T(e,t){function a(e){return"function"==typeof t?t(e):"string"!=typeof t||e[t]}let n=e.ethereum;return n?.providers?n.providers.find(e=>a(e)):n&&a(n)?n:void 0}var R=a(12878);class O{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new R})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){let a=t[0];this._emitter.emit(e,{uid:this.uid,...a})}listenerCount(e){return this._emitter.listenerCount(e)}}function k(e,t){return JSON.parse(e,(e,a)=>{let n=a;return n?.__type==="bigint"&&(n=BigInt(n.value)),n?.__type==="Map"&&(n=new Map(n.value)),t?.(e,n)??n})}function P(e,t){return e.slice(0,t).join(".")||"."}function U(e,t){let{length:a}=e;for(let n=0;n<a;++n)if(e[n]===t)return n+1;return 0}function x(e,t,a,n){return JSON.stringify(e,function(e,t){let a="function"==typeof e,n="function"==typeof t,r=[],i=[];return function(s,o){if("object"==typeof o){if(r.length){let e=U(r,this);0===e?r[r.length]=this:(r.splice(e),i.splice(e)),i[i.length]=s;let a=U(r,o);if(0!==a)return n?t.call(this,s,o,P(i,a)):`[ref=${P(i,a)}]`}else r[0]=o,i[0]=s}return a?e.call(this,s,o):o}}((e,a)=>{let n=a;return"bigint"==typeof n&&(n={__type:"bigint",value:a.toString()}),n instanceof Map&&(n={__type:"Map",value:Array.from(a.entries())}),t?.(e,n)??n},n),a??void 0)}let D={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},M=256;var L=a(40194),F=a(50541);function j(e,t,a){let n=e[t.name];if("function"==typeof n)return n;let r=e[a];return"function"==typeof r?r:a=>t(e,a)}function B(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){let a,n;if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t)){if((a=e.length)!==t.length)return!1;for(n=a;0!=n--;)if(!B(e[n],t[n]))return!1;return!0}if("function"==typeof e.valueOf&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if("function"==typeof e.toString&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();let r=Object.keys(e);if((a=r.length)!==Object.keys(t).length)return!1;for(n=a;0!=n--;)if(!Object.hasOwn(t,r[n]))return!1;for(n=a;0!=n--;){let a=r[n];if(a&&!B(e[a],t[a]))return!1}return!0}return e!=e&&t!=t}let W=[];function H(e){let t=[...e.state.connections.values()];return"reconnecting"===e.state.status||B(W,t)?W:(W=t,t)}var K=a(19405),q=a(50431);async function $(e,{account:t=e.account,message:a}){if(!t)throw new q.T({docsPath:"/docs/actions/wallet/signMessage"});let n=(0,K.J)(t);if(n.signMessage)return n.signMessage({message:a});let r="string"==typeof a?(0,v.i3)(a):a.raw instanceof Uint8Array?(0,v.nj)(a.raw):a.raw;return e.request({method:"personal_sign",params:[r,n.address]},{retryCount:0})}var V=a(54315);async function G(e,t={}){let a;let{assertChainId:n=!0}=t;if(t.connector){let{connector:n}=t;if("reconnecting"===e.state.status&&!n.getAccounts&&!n.getChainId)throw new A.HF({connector:n});let[r,i]=await Promise.all([n.getAccounts().catch(e=>{if(null===t.account)return[];throw e}),n.getChainId()]);a={accounts:r,chainId:i,connector:n}}else a=e.state.connections.get(e.state.current);if(!a)throw new A.gC;let r=t.chainId??a.chainId,i=await a.connector.getChainId();if(n&&i!==r)throw new A.xU({connectionChainId:r,connectorChainId:i});let s=a.connector;if(s.getClient)return s.getClient({chainId:r});let o=(0,K.J)(t.account??a.accounts[0]);if(o&&(o.address=(0,E.b)(o.address)),t.account&&!a.accounts.some(e=>e.toLowerCase()===o.address.toLowerCase()))throw new A.aj({address:o.address,connector:s});let c=e.chains.find(e=>e.id===r),l=await a.connector.getProvider({chainId:r});return(0,p.U)({account:o,chain:c,name:"Connector Client",transport:e=>(function(e,t={}){let{key:a="custom",methods:n,name:r="Custom Provider",retryDelay:i}=t;return({retryCount:s})=>(0,V.o)({key:a,methods:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:i,type:"custom"})})(l)({...e,retryCount:0})})}async function Z(e,t){let a;let{account:n,connector:r,...i}=t;return j("object"==typeof n&&"local"===n.type?e.getClient():await G(e,{account:n,connector:r}),$,"signMessage")({...i,...n?{account:n}:{}})}var Y=a(82700);async function J(e,t){let{account:a,chainId:n,...r}=t,i=a??o(e).address;return j(e.getClient({chainId:n}),Y.ft,"prepareTransactionRequest")({...r,...i?{account:i}:{}})}var z=a(7441),X=a(38597),Q=a(30445),ee=a(5112),et=a(7671),ea=a(76743),en=a(34524),er=a(65003),ei=a(84062),es=a(926),eo=a(2806);let ec=new er.A(128);async function el(e,t){let{account:a=e.account,chain:n=e.chain,accessList:r,authorizationList:i,blobs:s,data:o,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:p,nonce:h,type:m,value:f,...g}=t;if(void 0===a)throw new q.T({docsPath:"/docs/actions/wallet/sendTransaction"});let C=a?(0,K.J)(a):null;try{(0,ei.c)(t);let a=await (async()=>t.to?t.to:null!==t.to&&i&&i.length>0?await (0,X.g)({authorization:i[0]}).catch(()=>{throw new z.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(C?.type==="json-rpc"||null===C){let t;null!==n&&(t=await (0,en.T)(e,es.T,"getChainId")({}),function({chain:e,currentChainId:t}){if(!e)throw new Q.jF;if(t!==e.id)throw new Q.EH({chain:e,currentChainId:t})}({currentChainId:t,chain:n}));let E=e.chain?.formatters?.transactionRequest?.format,y=(E||ea.Bv)({...(0,et.o)(g,{format:E}),accessList:r,account:C,authorizationList:i,blobs:s,chainId:t,data:o,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:p,nonce:h,to:a,type:m,value:f},"sendTransaction"),_=ec.get(e.uid);try{return await e.request({method:_?"wallet_sendTransaction":"eth_sendTransaction",params:[y]},{retryCount:0})}catch(t){if(!1===_)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[y]},{retryCount:0}).then(t=>(ec.set(e.uid,!0),t)).catch(a=>{if("MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name)throw ec.set(e.uid,!1),t;throw a});throw t}}if(C?.type==="local"){let t=await (0,en.T)(e,Y.ft,"prepareTransactionRequest")({account:C,accessList:r,authorizationList:i,blobs:s,chain:n,data:o,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:p,nonce:h,nonceManager:C.nonceManager,parameters:[...Y.MM,"sidecars"],type:m,value:f,...g,to:a}),E=n?.serializers?.transaction,y=await C.signTransaction(t,{serializer:E});return await (0,en.T)(e,eo.L,"sendRawTransaction")({serializedTransaction:y})}if(C?.type==="smart")throw new q.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new q.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:C?.type})}catch(e){if(e instanceof q.Z)throw e;throw(0,ee.p)(e,{...t,account:C,chain:t.chain||void 0})}}async function ed(e,t){let a;let{account:n,chainId:r,connector:i,...s}=t,o=j("object"==typeof n&&n?.type==="local"?e.getClient({chainId:r}):await G(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:i}),el,"sendTransaction");return await o({...s,...n?{account:n}:{},chain:r?{id:r}:null,gas:s.gas??void 0})}var eu=a(27493),ep=a(84014),eh=a(30106),em=a(77079);async function ef(e,t){let{chainId:a,timeout:n=0,...r}=t,i=e.getClient({chainId:a}),s=j(i,ep.n,"waitForTransactionReceipt"),o=await s({...r,timeout:n});if("reverted"===o.status){let e=j(i,eh.x,"getTransaction"),{from:t,...a}=await e({hash:o.transactionHash}),n=j(i,em.T,"call"),r=await n({...a,account:t,data:a.input,gasPrice:"eip1559"!==a.type?a.gasPrice:void 0,maxFeePerGas:"eip1559"===a.type?a.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===a.type?a.maxPriorityFeePerGas:void 0});throw Error(r?.data?(0,eu.IQ)(`0x${r.data.substring(138)}`):"unknown reason")}return{...o,chainId:i.chain.id}}var eg=a(60367),eC=a(54842);async function eE(e,t){return eE.internal(e,el,"sendTransaction",t)}async function ey(e,t){let a;let{account:n,chainId:r,connector:i,...s}=t,o=j("object"==typeof n&&n?.type==="local"?e.getClient({chainId:r}):await G(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:i}),eE,"writeContract");return await o({...s,...n?{account:n}:{},chain:r?{id:r}:null})}(eE||(eE={})).internal=async function(e,t,a,n){let{abi:r,account:i=e.account,address:s,args:o,dataSuffix:c,functionName:l,...d}=n;if(void 0===i)throw new q.T({docsPath:"/docs/contract/writeContract"});let u=i?(0,K.J)(i):null,p=(0,eg.p)({abi:r,args:o,functionName:l});try{return await (0,en.T)(e,t,a)({data:`${p}${c?c.replace("0x",""):""}`,to:s,account:u,...d})}catch(e){throw(0,eC.j)(e,{abi:r,address:s,args:o,docsPath:"/docs/contract/writeContract",functionName:l,sender:u?.address})}};var e_=a(16712);async function ew(e,t){let a;let{chainId:n,connector:r,...i}=t;return a=t.account?t.account:(await G(e,{account:t.account,assertChainId:!1,chainId:n,connector:r})).account,j(e.getClient({chainId:n}),e_.Q,"estimateGas")({...i,account:a})}let ev=!1;async function eA(e,t={}){let a;if(ev)return[];ev=!0,e.setState(e=>({...e,status:e.current?"reconnecting":"connecting"}));let n=[];if(t.connectors?.length)for(let a of t.connectors){let t;t="function"==typeof a?e._internal.connectors.setup(a):a,n.push(t)}else n.push(...e.connectors);try{a=await e.storage?.getItem("recentConnectorId")}catch{}let r={};for(let[,t]of e.state.connections)r[t.connector.id]=1;a&&(r[a]=0);let i=Object.keys(r).length>0?[...n].sort((e,t)=>(r[e.id]??10)-(r[t.id]??10)):n,s=!1,o=[],c=[];for(let t of i){let a=await t.getProvider().catch(()=>void 0);if(!a||c.some(e=>e===a)||!await t.isAuthorized())continue;let n=await t.connect({isReconnecting:!0}).catch(()=>null);n&&(t.emitter.off("connect",e._internal.events.connect),t.emitter.on("change",e._internal.events.change),t.emitter.on("disconnect",e._internal.events.disconnect),e.setState(e=>{let a=new Map(s?e.connections:new Map).set(t.uid,{accounts:n.accounts,chainId:n.chainId,connector:t});return{...e,current:s?e.current:t.uid,connections:a}}),o.push({accounts:n.accounts,chainId:n.chainId,connector:t}),c.push(a),s=!0)}return("reconnecting"===e.state.status||"connecting"===e.state.status)&&(s?e.setState(e=>({...e,status:"connected"})):e.setState(e=>({...e,connections:new Map,current:null,status:"disconnected"}))),ev=!1,o}async function eN(e,t){let a;if((a="function"==typeof t.connector?e._internal.connectors.setup(t.connector):t.connector).uid===e.state.current)throw new A.nM;try{e.setState(e=>({...e,status:"connecting"})),a.emitter.emit("message",{type:"connecting"});let{connector:n,...r}=t,i=await a.connect(r);return a.emitter.off("connect",e._internal.events.connect),a.emitter.on("change",e._internal.events.change),a.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",a.id),e.setState(e=>({...e,connections:new Map(e.connections).set(a.uid,{accounts:r.withCapabilities?i.accounts.map(e=>"object"==typeof e?e.address:e):i.accounts,chainId:i.chainId,connector:a}),current:a.uid,status:"connected"})),{accounts:r.withCapabilities?i.accounts.map(e=>"object"==typeof e?e:{address:e,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(t){throw e.setState(e=>({...e,status:e.current?"connected":"disconnected"})),t}}async function eb(e,t){let{addEthereumChainParameter:a,chainId:n}=t,r=e.state.connections.get(t.connector?.uid??e.state.current);if(r){let e=r.connector;if(!e.switchChain)throw new N.V({connector:e});return await e.switchChain({addEthereumChainParameter:a,chainId:n})}let i=e.chains.find(e=>e.id===n);if(!i)throw new A.nk;return e.setState(e=>({...e,chainId:n})),i}var eI=a(59742);async function eS(e,t){let{address:a,blockNumber:n,blockTag:r,chainId:i}=t,s=e.getClient({chainId:i}),o=j(s,eI.r,"getBalance"),c=await o(n?{address:a,blockNumber:n}:{address:a,blockTag:r}),l=e.chains.find(e=>e.id===i)??s.chain;return{decimals:l.nativeCurrency.decimals,symbol:l.nativeCurrency.symbol,value:c}}async function eT(e,t={}){let a;if(t.connector)a=t.connector;else{let{connections:t,current:n}=e.state,r=t.get(n);a=r?.connector}let n=e.state.connections;a&&(await a.disconnect(),a.emitter.off("change",e._internal.events.change),a.emitter.off("disconnect",e._internal.events.disconnect),a.emitter.on("connect",e._internal.events.connect),n.delete(a.uid)),e.setState(e=>{if(0===n.size)return{...e,connections:new Map,current:null,status:"disconnected"};let t=n.values().next().value;return{...e,connections:new Map(n),current:t.connector.uid}});{let t=e.state.current;if(!t)return;let a=e.state.connections.get(t)?.connector;if(!a)return;await e.storage?.setItem("recentConnectorId",a.id)}}class eR extends z.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}var eO=a(1405);let ek={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if("object"==typeof e&&null!==e){let t="string"==typeof e.message,a="number"==typeof e.code;return t&&a}return!1}catch{return!1}},isUserRejectedMessage:e=>e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled"),isUserRejectedRequestError(e){if(ek.isRpcProviderError(e)){let t=e.code===ek.RPC_ERROR_CODE.USER_REJECTED_REQUEST,a=e.code===ek.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||a||ek.isUserRejectedMessage(e.message)}return e instanceof Error&&ek.isUserRejectedMessage(e.message)}};class eP extends Error{constructor(e,t){super(t.message,{cause:e}),this.name=ek.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=t.code}}class eU extends eP{constructor(e){super(e,{code:ek.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=ek.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}var ex=a(49509);let eD={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(void 0!==ex&&void 0!==ex.env?ex.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:void 0!==ex&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},eM={caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"==typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>e?.filter(e=>e.chainNamespace===t)||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;let a=e.find(e=>e.caipNetworkId===t);if(a)return a.name;let[n]=t.split(":");return eD.CHAIN_NAME_MAP?.[n]||void 0}},eL=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];a(75086),a(77226),a(24630),a(40662);var eF=a(44134).hp;function ej(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let eB="[object String]",eW="[object Number]",eH="[object Boolean]",eK="[object Arguments]";function eq(e,t,a,n=new Map,r){var i,s;let o=r?.(e,t,a,n);if(null!=o)return o;if(null==(i=e)||"object"!=typeof i&&"function"!=typeof i)return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=eq(e[i],i,a,n,r);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[i,s]of(n.set(e,t),e))t.set(i,eq(s,i,a,n,r));return t}if(e instanceof Set){let t=new Set;for(let i of(n.set(e,t),e))t.add(eq(i,void 0,a,n,r));return t}if("u">typeof eF&&eF.isBuffer(e))return e.subarray();if(ArrayBuffer.isView(s=e)&&!(s instanceof DataView)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=eq(e[i],i,a,n,r);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),e$(t,e,a,n,r),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),e$(t,e,a,n,r),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),e$(t,e,a,n,r),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,e$(t,e,a,n,r),t}if("object"==typeof e&&function(e){switch(ej(e)){case eK:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case eH:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case eW:case"[object Object]":case"[object RegExp]":case"[object Set]":case eB:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),e$(t,e,a,n,r),t}return e}function e$(e,t,a=e,n,r){var i;let s=[...Object.keys(t),...Object.getOwnPropertySymbols(i=t).filter(e=>Object.prototype.propertyIsEnumerable.call(i,e))];for(let i=0;i<s.length;i++){let o=s[i],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=eq(t[o],o,a,n,r))}}let eV="call_status";var eG=Object.defineProperty,eZ=Object.defineProperties,eY=Object.getOwnPropertyDescriptors,eJ=Object.getOwnPropertySymbols,ez=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,eQ=(e,t,a)=>t in e?eG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,e0=(e,t)=>{for(var a in t||(t={}))ez.call(t,a)&&eQ(e,a,t[a]);if(eJ)for(var a of eJ(t))eX.call(t,a)&&eQ(e,a,t[a]);return e},e1=(e,t)=>eZ(e,eY(t)),e5=Object.defineProperty,e3=(Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty),e2=Object.defineProperty,e4=Object.defineProperties,e9=Object.getOwnPropertyDescriptors,e6=Object.getOwnPropertySymbols,e7=Object.prototype.hasOwnProperty,e8=Object.prototype.propertyIsEnumerable,te=(e,t,a)=>t in e?e2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,tt=Object.defineProperty,ta=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty),tn=Object.defineProperty,tr=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,a(16389)),ti=a(70799);let ts={validateCaipAddress(e){if(e.split(":")?.length!==3)throw Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(3!==t.length)throw Error(`Invalid CAIP-10 address: ${e}`);let[a,n,r]=t;if(!a||!n||!r)throw Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:a,chainId:n,address:r}},parseCaipNetworkId(e){let t=e.split(":");if(2!==t.length)throw Error(`Invalid CAIP-2 network id: ${e}`);let[a,n]=t;if(!a||!n)throw Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:a,chainId:n}}};var to=a(49509);let tc=(void 0!==to&&void 0!==to.env?to.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||"https://secure.walletconnect.org/sdk",tl=(void 0!==to&&void 0!==to.env?to.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",td=(void 0!==to&&void 0!==to.env?to.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",tu={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},tp={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},th={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},tm={checkIfAllowedToTriggerEmail(){let e=tf.get(tu.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4){let e=Math.ceil((3e4-t)/1e3);throw Error(`Please try again after ${e} seconds`)}}},getTimeToNextEmailLogin(){let e=tf.get(tu.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4)return Math.ceil((3e4-t)/1e3)}return 0},checkIfRequestExists:e=>tp.NOT_SAFE_RPC_METHODS.includes(e.method)||tp.SAFE_RPC_METHODS.includes(e.method),getResponseType:e=>"string"==typeof e&&(e?.match(th.transactionHash)||e?.match(th.signedMessage))?tu.RPC_RESPONSE_TYPE_TX:tu.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:e=>tp.SAFE_RPC_METHODS.includes(e.method),isClient:"undefined"!=typeof window},tf={set(e,t){tm.isClient&&localStorage.setItem(`${tu.STORAGE_KEY}${e}`,t)},get:e=>tm.isClient?localStorage.getItem(`${tu.STORAGE_KEY}${e}`):null,delete(e,t){tm.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${tu.STORAGE_KEY}${e}`))}};var tg=a(14493),tC=a(49509);let tE=(void 0!==tC&&void 0!==tC.env?tC.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",ty={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:tE,SECURE_SITE_DASHBOARD:`${tE}/dashboard`,SECURE_SITE_FAVICON:`${tE}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD0"]},BALANCE_SUPPORTED_CHAINS:[eD.CHAIN.EVM,eD.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[eD.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[eD.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[eD.CHAIN.EVM,eD.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[eD.CHAIN.EVM,eD.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[eD.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[eD.CHAIN.EVM,eD.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},t_={ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function tw(e){if(!e)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}let tv={setItem(e,t){tA()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(tA())return localStorage.getItem(e)||void 0},removeItem(e){tA()&&localStorage.removeItem(e)},clear(){tA()&&localStorage.clear()}};function tA(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}let tN={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){let e=tN.getActiveNamespace(),t=tN.getActiveCaipNetworkId(),a=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:a?isNaN(Number(a))?a:Number(a):void 0}},setWalletConnectDeepLink({name:e,href:t}){try{tv.setItem(t_.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=tv.getItem(t_.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{tv.removeItem(t_.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{tv.setItem(t_.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{tv.setItem(t_.ACTIVE_CAIP_NETWORK_ID,e),tN.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return tv.getItem(t_.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{tv.removeItem(t_.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=tw(e);tv.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=tN.getRecentWallets();t.find(t=>t.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),tv.setItem(t_.RECENT_WALLETS,JSON.stringify(t)),tv.setItem(t_.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=tv.getItem(t_.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let e=tv.getItem(t_.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{tv.removeItem(t_.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{let a=tw(e);tv.setItem(a,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return tv.getItem(t_.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=tw(e);return tv.getItem(t)}catch(t){console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{tv.setItem(t_.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return tv.getItem(t_.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{tv.removeItem(t_.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return tv.getItem(t_.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let e=tv.getItem(t_.ACTIVE_CAIP_NETWORK_ID);return e?.split(":")?.[1]},setConnectionStatus(e){try{tv.setItem(t_.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return tv.getItem(t_.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=tv.getItem(t_.CONNECTED_NAMESPACES);if(!e?.length)return[];return e.split(",")}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));tv.setItem(t_.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=tN.getConnectedNamespaces();t.includes(e)||(t.push(e),tN.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=tN.getConnectedNamespaces(),a=t.indexOf(e);a>-1&&(t.splice(a,1),tN.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return tv.getItem(t_.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{tv.setItem(t_.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{tv.removeItem(t_.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=tv.getItem(t_.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=tN.getBalanceCache();tv.setItem(t_.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let t=tN.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;tN.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=tN.getBalanceCache();t[e.caipAddress]=e,tv.setItem(t_.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=tv.getItem(t_.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=tN.getBalanceCache();tv.setItem(t_.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let t=tN.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),tN.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=tN.getNativeBalanceCache();t[e.caipAddress]=e,tv.setItem(t_.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=tv.getItem(t_.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let t=tN.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;tN.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=tN.getEnsCache();t[e.address]=e,tv.setItem(t_.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=tN.getEnsCache();tv.setItem(t_.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=tv.getItem(t_.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let t=tN.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;tN.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=tN.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},tv.setItem(t_.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=tN.getIdentityCache();tv.setItem(t_.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{let e=tv.getItem(t_.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;tN.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{let t=tN.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=new Date().getTime(),t.wallets=e,tv.setItem(t_.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{tv.removeItem(t_.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{tv.removeItem(t_.PORTFOLIO_CACHE),tv.removeItem(t_.NATIVE_BALANCE_CACHE),tv.removeItem(t_.ENS_CACHE),tv.removeItem(t_.IDENTITY_CACHE),tv.removeItem(t_.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{tv.setItem(t_.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=tv.getItem(t_.PREFERRED_ACCOUNT_TYPES);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{let a=tN.getConnections(),n=a[t]??[],r=new Map;for(let e of n)r.set(e.connectorId,{...e});for(let t of e){let e=r.get(t.connectorId),a=t.connectorId===eD.CONNECTOR_ID.AUTH;if(e&&!a){let a=new Set(e.accounts.map(e=>e.address.toLowerCase())),n=t.accounts.filter(e=>!a.has(e.address.toLowerCase()));e.accounts.push(...n)}else r.set(t.connectorId,{...t})}let i={...a,[t]:Array.from(r.values())};tv.setItem(t_.CONNECTIONS,JSON.stringify(i))}catch(e){console.error("Unable to sync connections to storage",e)}},getConnections(){try{let e=tv.getItem(t_.CONNECTIONS);if(!e)return{};return JSON.parse(e)}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:a}){try{let n=tN.getConnections(),r=n[a]??[],i=new Map(r.map(e=>[e.connectorId,e])),s=i.get(e);if(s){let a=s.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase());0===a.length?i.delete(e):i.set(e,{...s,accounts:s.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase())})}tv.setItem(t_.CONNECTIONS,JSON.stringify({...n,[a]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${a}"`)}},getDisconnectedConnectorIds(){try{let e=tv.getItem(t_.DISCONNECTED_CONNECTOR_IDS);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let a=tN.getDisconnectedConnectorIds(),n=a[t]??[];n.push(e),tv.setItem(t_.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...a,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let a=tN.getDisconnectedConnectorIds(),n=a[t]??[];n=n.filter(t=>t.toLowerCase()!==e.toLowerCase()),tv.setItem(t_.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...a,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(tN.getDisconnectedConnectorIds()[t]??[]).some(t=>t.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=tv.getItem(t_.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let a=tN.getTransactionsCache(),n=a[e]?.[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;tN.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:a,transactions:n}){try{let r=tN.getTransactionsCache();r[e]={...r[e],[t]:{timestamp:a,transactions:n}},tv.setItem(t_.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(r))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:a,transactions:n})}},removeTransactionsCache({address:e,chainId:t}){try{let a=tN.getTransactionsCache(),{[t]:n,...r}=a?.[e]||{};tv.setItem(t_.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...a,[e]:r}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=tv.getItem(t_.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let t=tN.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;tN.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=tN.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},tv.setItem(t_.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=tN.getTokenPriceCache();tv.setItem(t_.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;if(t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion))return t}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=tv.getItem(t_.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=tN.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,tv.setItem(t_.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},tb={getWindow(){if("undefined"!=typeof window)return window},isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(e,t="")=>e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return tb.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:e=>!e||e-Date.now()<=ty.TEN_SEC_MS,isAllowedRetry:(e,t=ty.ONE_SEC_MS)=>Date.now()-e>=t,copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch(e){return!1}},isSafeApp(){if(tb.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0];if(e){let t=new URL(e),a=new URL("https://app.safe.global");return t.hostname===a.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+ty.FOUR_MINUTES_MS,getNetworkId:e=>e?.split(":")[1],getPlainAddress:e=>e?.split(":")[2],wait:async e=>new Promise(t=>{setTimeout(t,e)}),debounce(e,t=500){let a;return(...n)=>{a&&clearTimeout(a),a=setTimeout(function(){e(...n)},t)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t,a=null){if(tb.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e,r=a;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),r&&!r?.endsWith("/")&&(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let i=encodeURIComponent(t);return{redirect:`${n}wc?uri=${i}`,redirectUniversalLink:r?`${r}wc?uri=${i}`:void 0,href:n}},formatUniversalUrl(e,t){if(!tb.isHttpUrl(e))return this.formatNativeUrl(e,t);let a=e;a.endsWith("/")||(a=`${a}/`);let n=encodeURIComponent(t);return{redirect:`${a}wc?uri=${n}`,href:a}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?tN.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,a){window?.open(e,this.getOpenTargetForPlatform(t),a||"noreferrer noopener")},returnOpenHref(e,t,a){return window?.open(e,this.getOpenTargetForPlatform(t),a||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),isPWA(){if("undefined"==typeof window)return!1;let e=!!window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(display-mode: standalone)")?.matches,t=window?.navigator?.standalone;return!!(e||t)},preloadImage:async e=>Promise.race([new Promise((t,a)=>{let n=new Image;n.onload=t,n.onerror=a,n.crossOrigin="anonymous",n.src=e}),tb.wait(2e3)]),parseBalance(e,t){let a="0.000";if("string"==typeof e){let t=Number(e);if(!isNaN(t)){let e=(Math.floor(1e3*t)/1e3).toFixed(3);e&&(a=e)}}let[n,r]=a.split("."),i=n||"0",s=r||"000";return{formattedText:`${i}.${s}${t?` ${t}`:""}`,value:i,decimals:s,symbol:t}},getApiUrl:()=>eD.W3M_API_URL,getBlockchainApiUrl:()=>eD.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>eD.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),parseError:e=>"string"==typeof e?e:"string"==typeof e?.issues?.[0]?.message?e.issues[0].message:e instanceof Error?e.message:"Unknown error",sortRequestedNetworks(e,t=[]){let a={};return t&&e&&(e.forEach((e,t)=>{a[e]=t}),t.sort((e,t)=>{let n=a[e.id],r=a[t.id];return void 0!==n&&void 0!==r?n-r:void 0!==n?-1:+(void 0!==r)})),t},calculateBalance(e){let t=0;for(let a of e)t+=a.value??0;return t},formatTokenBalance(e){let[t,a]=e.toFixed(2).split(".");return{dollars:t,pennies:a}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){let a=new Set;return e.filter(e=>{let n=e[t];return!a.has(n)&&(a.add(n),!0)})},generateSdkVersion(e,t,a){let n=0===e.length?ty.ADAPTER_TYPES.UNIVERSAL:e.map(e=>e.adapterType).join(",");return`${t}-${n}-${a}`},createAccount:(e,t,a,n,r)=>({namespace:e,address:t,type:a,publicKey:n,path:r}),isCaipAddress(e){if("string"!=typeof e)return!1;let t=e.split(":"),a=t[0];return 3===t.filter(Boolean).length&&a in eD.CHAIN_NAME_MAP},getAccount:e=>e?"string"==typeof e?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,a="state=";if("auth.magic.link"===new URL(e).host){let n="provider_authorization_url=",r=e.substring(e.indexOf(n)+n.length),i=this.injectIntoUrl(decodeURIComponent(r),a,t);return e.replace(r,encodeURIComponent(i))}return this.injectIntoUrl(e,a,t)},injectIntoUrl(e,t,a){let n=e.indexOf(t);if(-1===n)throw Error(`${t} parameter not found in the URL: ${e}`);let r=e.indexOf("&",n),i=t.length,s=-1!==r?r:e.length,o=e.substring(0,n+i),c=e.substring(n+i,s);return o+(c+a)+e.substring(r)}};async function tI(...e){let t=await fetch(...e);if(!t.ok)throw Error(`HTTP status code: ${t.status}`,{cause:t});return t}class tS{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:t,cache:a,...n}){let r=this.createUrl(n);return(await tI(r,{method:"GET",headers:e,signal:t,cache:a})).json()}async getBlob({headers:e,signal:t,...a}){let n=this.createUrl(a);return(await tI(n,{method:"GET",headers:e,signal:t})).blob()}async post({body:e,headers:t,signal:a,...n}){let r=this.createUrl(n);return(await tI(r,{method:"POST",headers:t,body:e?JSON.stringify(e):void 0,signal:a})).json()}async put({body:e,headers:t,signal:a,...n}){let r=this.createUrl(n);return(await tI(r,{method:"PUT",headers:t,body:e?JSON.stringify(e):void 0,signal:a})).json()}async delete({body:e,headers:t,signal:a,...n}){let r=this.createUrl(n);return(await tI(r,{method:"DELETE",headers:t,body:e?JSON.stringify(e):void 0,signal:a})).json()}createUrl({path:e,params:t}){let a=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([e,t])=>{t&&a.searchParams.append(e,t)}),this.clientId&&a.searchParams.append("clientId",this.clientId),a}sendBeacon({body:e,...t}){let a=this.createUrl(t);return navigator.sendBeacon(a.toString(),e?JSON.stringify(e):void 0)}}let tT={getFeatureValue(e,t){let a=t?.[e];return void 0===a?ty.DEFAULT_FEATURES[e]:a},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return tb.isTelegram()&&(tb.isIos()&&(t=t.filter(e=>"google"!==e)),tb.isMac()&&(t=t.filter(e=>"x"!==e)),tb.isAndroid()&&(t=t.filter(e=>!["facebook","x"].includes(e)))),tb.isMobile()&&(t=t.filter(e=>"facebook"!==e)),t},isSocialsEnabled:()=>Array.isArray(tO.state.features?.socials)&&tO.state.features?.socials.length>0||Array.isArray(tO.state.remoteFeatures?.socials)&&tO.state.remoteFeatures?.socials.length>0,isEmailEnabled:()=>!!(tO.state.features?.email||tO.state.remoteFeatures?.email)},tR=(0,tr.BX)({features:ty.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ty.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),tO={state:tR,subscribeKey:(e,t)=>(0,ti.u$)(tR,e,t),setOptions(e){Object.assign(tR,e)},setRemoteFeatures(e){if(!e)return;let t={...tR.remoteFeatures,...e};tR.remoteFeatures=t,tR.remoteFeatures?.socials&&(tR.remoteFeatures.socials=tT.filterSocialsByPlatform(tR.remoteFeatures.socials)),tR.features?.pay&&(tR.remoteFeatures.email=!1,tR.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;tR.features||(tR.features=ty.DEFAULT_FEATURES);let t={...tR.features,...e};tR.features=t,tR.features?.pay&&tR.remoteFeatures&&(tR.remoteFeatures.email=!1,tR.remoteFeatures.socials=!1)},setProjectId(e){tR.projectId=e},setCustomRpcUrls(e){tR.customRpcUrls=e},setAllWallets(e){tR.allWallets=e},setIncludeWalletIds(e){tR.includeWalletIds=e},setExcludeWalletIds(e){tR.excludeWalletIds=e},setFeaturedWalletIds(e){tR.featuredWalletIds=e},setTokens(e){tR.tokens=e},setTermsConditionsUrl(e){tR.termsConditionsUrl=e},setPrivacyPolicyUrl(e){tR.privacyPolicyUrl=e},setCustomWallets(e){tR.customWallets=e},setIsSiweEnabled(e){tR.isSiweEnabled=e},setIsUniversalProvider(e){tR.isUniversalProvider=e},setSdkVersion(e){tR.sdkVersion=e},setMetadata(e){tR.metadata=e},setDisableAppend(e){tR.disableAppend=e},setEIP6963Enabled(e){tR.enableEIP6963=e},setDebug(e){tR.debug=e},setEnableWalletGuide(e){tR.enableWalletGuide=e},setEnableAuthLogger(e){tR.enableAuthLogger=e},setEnableWallets(e){tR.enableWallets=e},setPreferUniversalLinks(e){tR.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,a]of Object.entries(ty.SIWX_DEFAULTS))e[t]??=a;tR.siwx=e},setConnectMethodsOrder(e){tR.features={...tR.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){tR.features={...tR.features,walletFeaturesOrder:e}},setSocialsOrder(e){tR.remoteFeatures={...tR.remoteFeatures,socials:e}},setCollapseWallets(e){tR.features={...tR.features,collapseWallets:e}},setEnableEmbedded(e){tR.enableEmbedded=e},setAllowUnsupportedChain(e){tR.allowUnsupportedChain=e},setManualWCControl(e){tR.manualWCControl=e},setEnableNetworkSwitch(e){tR.enableNetworkSwitch=e},setEnableMobileFullScreen(e){tR.enableMobileFullScreen=tb.isMobile()&&e},setEnableReconnect(e){tR.enableReconnect=e},setCoinbasePreference(e){tR.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([e,t])=>{t&&(tR.defaultAccountTypes[e]=t)})},setUniversalProviderConfigOverride(e){tR.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:()=>tR.universalProviderConfigOverride,getSnapshot:()=>(0,tr.P9)(tR)},tk=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),tP=(0,tr.BX)({...tk}),tU={state:tP,subscribeKey:(e,t)=>(0,ti.u$)(tP,e,t),showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=tb.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){tP.message=tk.message,tP.variant=tk.variant,tP.svg=tk.svg,tP.open=tk.open,tP.autoClose=tk.autoClose},_showMessage({message:e,svg:t,variant:a="success",autoClose:n=tk.autoClose}){tP.open?(tP.open=!1,setTimeout(()=>{tP.message=e,tP.variant=a,tP.svg=t,tP.open=!0,tP.autoClose=n},150)):(tP.message=e,tP.variant=a,tP.svg=t,tP.open=!0,tP.autoClose=n)}},tx={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},tD=tb.getBlockchainApiUrl(),tM=(0,tr.BX)({clientId:null,api:new tS({baseUrl:tD,clientId:null}),supportedChains:{http:[],ws:[]}}),tL={state:tM,async get(e){let{st:t,sv:a}=tL.getSdkProperties(),n=tO.state.projectId,r={...e.params||{},st:t,sv:a,projectId:n};return tM.api.get({...e,params:r})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=tO.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{tM.supportedChains.http.length||await tL.getSupportedNetworks()}catch(e){return!1}return tM.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await tL.get({path:"v1/supported-chains"});return tM.supportedChains=e,e}catch{return tM.supportedChains}},async fetchIdentity({address:e}){let t=tN.getIdentityFromCacheForAddress(e);if(t)return t;let a=await tL.get({path:`/v1/identity/${e}`,params:{sender:aF.state.activeCaipAddress?tb.getPlainAddress(aF.state.activeCaipAddress):void 0}});return tN.updateIdentityCache({address:e,identity:a,timestamp:Date.now()}),a},async fetchTransactions({account:e,cursor:t,signal:a,cache:n,chainId:r}){if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let i=tN.getTransactionsCacheForAddress({address:e,chainId:r});if(i)return i;let s=await tL.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:r},signal:a,cache:n});return tN.updateTransactionsCache({address:e,chainId:r,timestamp:Date.now(),transactions:s}),s},fetchSwapQuote:async({amount:e,userAddress:t,from:a,to:n,gasPrice:r})=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tL.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:a,to:n,gasPrice:r}}):{quotes:[]},fetchSwapTokens:async({chainId:e})=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tL.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]},getAddressBalance:async({caipNetworkId:e,address:t})=>tM.api.post({path:`/v1?chainId=${e}&projectId=${tO.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(e=>e.result),async fetchTokenPrice({addresses:e}){if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};let t=tN.getTokenPriceCacheForAddresses(e);if(t)return t;let a=await tM.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:tO.state.projectId},headers:{"Content-Type":"application/json"}});return tN.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:a}),a},fetchSwapAllowance:async({tokenAddress:e,userAddress:t})=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tL.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:e}){let{st:t,sv:a}=tL.getSdkProperties();if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Gas Price");return tL.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:a}})},async generateSwapCalldata({amount:e,from:t,to:a,userAddress:n,disableEstimate:r}){if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return tM.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:ty.CONVERT_SLIPPAGE_TOLERANCE},projectId:tO.state.projectId,from:t,to:a,userAddress:n,disableEstimate:r}})},async generateApproveCalldata({from:e,to:t,userAddress:a}){let{st:n,sv:r}=tL.getSdkProperties();if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return tL.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:a,from:e,to:t,st:n,sv:r}})},async getBalance(e,t,a){let{st:n,sv:r}=tL.getSdkProperties();if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))return tU.showError("Token Balance Unavailable"),{balances:[]};let i=`${t}:${e}`,s=tN.getBalanceCacheForCaipAddress(i);if(s)return s;let o=await tL.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:a,st:n,sv:r}});return tN.updateBalanceCache({caipAddress:i,balance:o,timestamp:Date.now()}),o},lookupEnsName:async e=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tL.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},async reverseLookupEnsName({address:e}){if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))return[];let t=aF.getAccountData()?.address;return tL.get({path:`/v1/profile/reverse/${e}`,params:{sender:t,apiVersion:"2"}})},getEnsNameSuggestions:async e=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tL.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:e,address:t,message:a,signature:n})=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tM.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:a,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:e,partnerUserId:t,defaultNetwork:a,purchaseAmount:n,paymentAmount:r})=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?(await tM.api.post({path:"/v1/generators/onrampurl",params:{projectId:tO.state.projectId},body:{destinationWallets:e,defaultNetwork:a,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:r}})).url:"",async getOnrampOptions(){if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await tL.get({path:"/v1/onramp/options"})}catch(e){return tx}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:a,network:n}){try{if(!await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId))return null;return await tM.api.post({path:"/v1/onramp/quote",params:{projectId:tO.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:a,network:n}})}catch(e){return{networkFee:{amount:a,currency:t.id},paymentSubtotal:{amount:a,currency:t.id},paymentTotal:{amount:a,currency:t.id},purchaseAmount:{amount:a,currency:t.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async e=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tL.get({path:`/v1/sessions/${e}`}):[],revokeSmartSession:async(e,t,a)=>await tL.isNetworkSupported(aF.state.activeCaipNetwork?.caipNetworkId)?tM.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:tO.state.projectId},body:{pci:t,signature:a}}):{success:!1},setClientId(e){tM.clientId=e,tM.api=new tS({baseUrl:tD,clientId:e})}};function tF(e,t){let a=e?.["--apkt-accent"]??e?.["--w3m-accent"];return"light"===t?{"--w3m-accent":a||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":a||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}let tj={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},tB={handleMobileDeeplinkRedirect(e,t){let a=window.location.href,n=encodeURIComponent(a);if(e===tj.PHANTOM.id&&!("phantom"in window)){let e=a.startsWith("https")?"https":"http",t=a.split("/")[2],r=encodeURIComponent(`${e}://${t}`);window.location.href=`${tj.PHANTOM.url}/ul/browse/${n}?ref=${r}`}if(e!==tj.SOLFLARE.id||"solflare"in window||(window.location.href=`${tj.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),t!==eD.CHAIN.SOLANA||e!==tj.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${tj.COINBASE.url}/dapp?cb_url=${n}`),t===eD.CHAIN.BITCOIN&&e===tj.BINANCE.id&&!("binancew3w"in window)){let e=aF.state.activeCaipNetwork,t=window.btoa("/pages/browser/index"),a=window.btoa(`url=${n}&defaultChainId=${e?.id??1}`),r=new URL(tj.BINANCE.deeplink);r.searchParams.set("appId",tj.BINANCE.appId),r.searchParams.set("startPagePath",t),r.searchParams.set("startPageQuery",a);let i=new URL(tj.BINANCE.url);i.searchParams.set("_dp",window.btoa(r.toString())),window.location.href=i.toString()}}},tW=Object.freeze({enabled:!0,events:[]}),tH=new tS({baseUrl:tb.getAnalyticsUrl(),clientId:null}),tK=(0,tr.BX)({...tW}),tq={state:tK,subscribeKey:(e,t)=>(0,ti.u$)(tK,e,t),async sendError(e,t){if(!tK.enabled)return;let a=Date.now();if(tK.events.filter(e=>a-new Date(e.properties.timestamp||"").getTime()<6e4).length>=5)return;let n={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};tK.events.push(n);try{if("undefined"==typeof window)return;let{projectId:a,sdkType:n,sdkVersion:r}=tO.state;await tH.post({path:"/e",params:{projectId:a,st:n,sv:r||"html-wagmi-4.2.2"},body:{eventId:tb.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){tK.enabled=!0},disable(){tK.enabled=!1},clearEvents(){tK.events=[]}};class t$ extends Error{constructor(e,t,a){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=t,this.originalError=a,a&&a instanceof Error&&(this.originalName=a.name),Object.setPrototypeOf(this,t$.prototype);let n=!1;if(a instanceof Error&&"string"==typeof a.stack&&a.stack){let e=a.stack,t=e.indexOf("\n");if(t>-1){let a=e.substring(t+1);this.stack=`${this.name}: ${this.message}
${a}`,n=!0}}n||(Error.captureStackTrace?Error.captureStackTrace(this,t$):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function tV(e,t){let a="";try{a=e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e?0===Object.keys(e).length?"Unknown error":e?.message||JSON.stringify(e):String(e)}catch(e){a="Unknown error",console.error("Error parsing error message",e)}let n=e instanceof t$?e:new t$(a,t,e);throw tq.sendError(n,n.category),n}function tG(e,t="INTERNAL_SDK_ERROR"){let a={};return Object.keys(e).forEach(n=>{let r=e[n];if("function"==typeof r){let e=r;e="AsyncFunction"===r.constructor.name?async(...e)=>{try{return await r(...e)}catch(e){return tV(e,t)}}:(...e)=>{try{return r(...e)}catch(e){return tV(e,t)}},a[n]=e}else a[n]=r}),a}let tZ=(0,tr.BX)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),tY=tG({state:tZ,subscribeNetworkImages:e=>(0,tr.B1)(tZ.networkImages,()=>e(tZ.networkImages)),subscribeKey:(e,t)=>(0,ti.u$)(tZ,e,t),subscribe:e=>(0,tr.B1)(tZ,()=>e(tZ)),setWalletImage(e,t){tZ.walletImages[e]=t},setNetworkImage(e,t){tZ.networkImages[e]=t},setChainImage(e,t){tZ.chainImages[e]=t},setConnectorImage(e,t){tZ.connectorImages={...tZ.connectorImages,[e]:t}},setTokenImage(e,t){tZ.tokenImages[e]=t},setCurrencyImage(e,t){tZ.currencyImages[e]=t}}),tJ={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},tz=(0,tr.BX)({networkImagePromises:{}}),tX={async fetchWalletImage(e){if(e)return await t4._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(tz.networkImagePromises[e]||(tz.networkImagePromises[e]=t4._fetchNetworkImage(e)),await tz.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return tY.state.walletImages[e]},getWalletImage:e=>e?.image_url?e?.image_url:e?.image_id?tY.state.walletImages[e.image_id]:void 0,getNetworkImage:e=>e?.assets?.imageUrl?e?.assets?.imageUrl:e?.assets?.imageId?tY.state.networkImages[e.assets.imageId]:void 0,getNetworkImageById(e){if(e)return tY.state.networkImages[e]},getConnectorImage:e=>e?.imageUrl?e.imageUrl:e?.info?.icon?e.info.icon:e?.imageId?tY.state.connectorImages[e.imageId]:void 0,getChainImage:e=>tY.state.networkImages[tJ[e]],getTokenImage(e){if(e)return tY.state.tokenImages[e]}},tQ=new tS({baseUrl:tb.getAnalyticsUrl(),clientId:null}),t0=["MODAL_CREATED"],t1=(0,tr.BX)({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),t5={state:t1,subscribe:e=>(0,tr.B1)(t1,()=>e(t1)),getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:a}=tO.state;return{projectId:e,st:t,sv:a||"html-wagmi-4.2.2"}},shouldFlushEvents(){let e=JSON.stringify(t1.pendingEvents).length/1024>45,t=t1.lastFlush+1e4<Date.now();return e||t},_setPendingEvent(e){try{let t=aF.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),t0.includes(e.data.event)||"undefined"==typeof window)return;let a=aF.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:tb.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:a}}}),t1.reportedErrors.FORBIDDEN=!1,t5.shouldFlushEvents()&&t5._submitPendingEvents()}catch(e){console.warn("_setPendingEvent",e)}},sendEvent(e){t1.timestamp=Date.now(),t1.data=e,(tO.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(e.event))&&t5._setPendingEvent(t1),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){t1.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(e=>{let t=e.props.event;return"WALLET_IMPRESSION_V2"!==t})}catch{return e}},_submitPendingEvents(){if(t1.lastFlush=Date.now(),0!==t1.pendingEvents.length||0!==t1.walletImpressions.length)try{let e=t5._transformPendingEventsForBatch(t1.pendingEvents);t1.walletImpressions.length&&e.push({eventId:tb.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...t1.walletImpressions]}}),tQ.sendBeacon({path:"/batch",params:t5.getSdkProperties(),body:e}),t1.reportedErrors.FORBIDDEN=!1,t1.pendingEvents=[],t1.walletImpressions=[]}catch(e){t1.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){!t1.subscribedToVisibilityChange&&"undefined"!=typeof document&&(t1.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{"hidden"===document.visibilityState&&t5._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{t5._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{t5._submitPendingEvents()}),setInterval(()=>{t5._submitPendingEvents()},1e4))}},t3=new tS({baseUrl:tb.getApiUrl(),clientId:null}),t2=(0,tr.BX)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),t4={state:t2,subscribeKey:(e,t)=>(0,ti.u$)(t2,e,t),_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:a}=tO.state;return{projectId:e,st:t||"appkit",sv:a||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>tO.state.isUniversalProvider?e.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):e,async _fetchWalletImage(e){let t=`${t3.baseUrl}/getWalletImage/${e}`,a=await t3.getBlob({path:t,params:t4._getSdkProperties()});tY.setWalletImage(e,URL.createObjectURL(a))},async _fetchNetworkImage(e){let t=`${t3.baseUrl}/public/getAssetImage/${e}`,a=await t3.getBlob({path:t,params:t4._getSdkProperties()});tY.setNetworkImage(e,URL.createObjectURL(a))},async _fetchConnectorImage(e){let t=`${t3.baseUrl}/public/getAssetImage/${e}`,a=await t3.getBlob({path:t,params:t4._getSdkProperties()});tY.setConnectorImage(e,URL.createObjectURL(a))},async _fetchCurrencyImage(e){let t=`${t3.baseUrl}/public/getCurrencyImage/${e}`,a=await t3.getBlob({path:t,params:t4._getSdkProperties()});tY.setCurrencyImage(e,URL.createObjectURL(a))},async _fetchTokenImage(e){let t=`${t3.baseUrl}/public/getTokenImage/${e}`,a=await t3.getBlob({path:t,params:t4._getSdkProperties()});tY.setTokenImage(e,URL.createObjectURL(a))},_filterWalletsByPlatform(e){let t=e.length,a=tb.isMobile()?e?.filter(e=>!!e.mobile_link||!!e.webapp_link||Object.values(tj).map(e=>e.id).includes(e.id)):e,n=t-a.length;return{filteredWallets:a,mobileFilteredOutWalletsLength:n}},fetchProjectConfig:async()=>(await t3.get({path:"/appkit/v1/config",params:t4._getSdkProperties()})).features,async fetchUsage(){try{let{tier:e,isAboveMauLimit:t,isAboveRpcLimit:a}=(await t3.get({path:"/appkit/v1/project-limits",params:t4._getSdkProperties()})).planLimits;t4.state.plan={tier:e,hasExceededUsageLimit:"starter"===e&&(t||a),limits:{isAboveRpcLimit:a,isAboveMauLimit:t}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await t3.get({path:"/projects/v1/origins",params:t4._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===eD.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:e});if(t>=eD.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw Error("SERVER_ERROR",{cause:e})}return[]}},async fetchNetworkImages(){let e=aF.getAllRequestedCaipNetworks(),t=e?.map(({assets:e})=>e?.imageId).filter(Boolean).filter(e=>!tX.getNetworkImageById(e));t&&await Promise.allSettled(t.map(e=>t4._fetchNetworkImage(e)))},async fetchConnectorImages(){let{connectors:e}=ad.state,t=e.map(({imageId:e})=>e).filter(Boolean);await Promise.allSettled(t.map(e=>t4._fetchConnectorImage(e)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(e=>t4._fetchCurrencyImage(e)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(e=>t4._fetchTokenImage(e)))},async fetchWallets(e){let t=e.exclude??[];t4._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(tj).map(e=>e.id));let a=await t3.get({path:"/getWallets",params:{...t4._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:n,mobileFilteredOutWalletsLength:r}=t4._filterWalletsByPlatform(a?.data);return{data:n||[],count:a?.count,mobileFilteredOutWalletsLength:r}},async prefetchWalletRanks(){let e=ad.state.connectors;if(!e?.length)return;let t={page:1,entries:20,badge:"certified"};if(t.names=e.map(e=>e.name).join(","),aF.state.activeChain===eD.CHAIN.EVM){let a=[...e.flatMap(e=>e.connectors?.map(e=>e.info?.rdns)||[]),...e.map(e=>e.info?.rdns)].filter(e=>"string"==typeof e&&e.length>0);a.length&&(t.rdns=a.join(","))}let{data:a}=await t4.fetchWallets(t);t2.explorerWallets=a,ad.extendConnectorsWithExplorerWallets(a);let n=aF.getRequestedCaipNetworkIds().join(",");t2.explorerFilteredWallets=a.filter(e=>e.chains?.some(e=>n.includes(e)))},async fetchFeaturedWallets(){let{featuredWalletIds:e}=tO.state;if(e?.length){let t={...t4._getSdkProperties(),page:1,entries:e?.length??4,include:e},{data:a}=await t4.fetchWallets(t),n=[...a].sort((t,a)=>e.indexOf(t.id)-e.indexOf(a.id)),r=n.map(e=>e.image_id).filter(Boolean);await Promise.allSettled(r.map(e=>t4._fetchWalletImage(e))),t2.featured=n,t2.allFeatured=n}},async fetchRecommendedWallets(){try{t2.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:a}=tO.state,n=[...t??[],...a??[]].filter(Boolean),r=aF.getRequestedCaipNetworkIds().join(","),{data:i,count:s}=await t4.fetchWallets({page:1,entries:4,include:e,exclude:n,chains:r}),o=tN.getRecentWallets(),c=i.map(e=>e.image_id).filter(Boolean),l=o.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...c,...l].map(e=>t4._fetchWalletImage(e))),t2.recommended=i,t2.allRecommended=i,t2.count=s??0}catch{}finally{t2.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:a,featuredWalletIds:n}=tO.state,r=aF.getRequestedCaipNetworkIds().join(","),i=[...t2.recommended.map(({id:e})=>e),...a??[],...n??[]].filter(Boolean),{data:s,count:o,mobileFilteredOutWalletsLength:c}=await t4.fetchWallets({page:e,entries:40,include:t,exclude:i,chains:r});t2.mobileFilteredOutWalletsLength=c+(t2.mobileFilteredOutWalletsLength??0);let l=s.slice(0,20).map(e=>e.image_id).filter(Boolean);await Promise.allSettled(l.map(e=>t4._fetchWalletImage(e))),t2.wallets=tb.uniqueBy([...t2.wallets,...t4._filterOutExtensions(s)],"id").filter(e=>e.chains?.some(e=>r.includes(e))),t2.count=o>t2.count?o:t2.count,t2.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:a}=await t4.fetchWallets(t);a&&a.forEach(e=>{t2.excludedWallets.push({rdns:e.rdns,name:e.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:a,excludeWalletIds:n}=tO.state,r=aF.getRequestedCaipNetworkIds().join(",");t2.search=[];let i={page:1,entries:100,search:e?.trim(),badge_type:t,include:a,exclude:n,chains:r},{data:s}=await t4.fetchWallets(i);t5.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let o=s.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...o.map(e=>t4._fetchWalletImage(e)),tb.wait(300)]),t2.search=t4._filterOutExtensions(s)},initPromise(e,t){let a=t2.promises[e];return a||(t2.promises[e]=t())},prefetch:({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:a=!0,fetchNetworkImages:n=!0,fetchWalletRanks:r=!0}={})=>Promise.allSettled([e&&t4.initPromise("connectorImages",t4.fetchConnectorImages),t&&t4.initPromise("featuredWallets",t4.fetchFeaturedWallets),a&&t4.initPromise("recommendedWallets",t4.fetchRecommendedWallets),n&&t4.initPromise("networkImages",t4.fetchNetworkImages),r&&t4.initPromise("walletRanks",t4.prefetchWalletRanks)].filter(Boolean)),prefetchAnalyticsConfig(){tO.state.features?.analytics&&t4.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await t3.get({path:"/getAnalyticsConfig",params:t4._getSdkProperties()});tO.setFeatures({analytics:e})}catch(e){tO.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){t2.featured=t2.allFeatured,t2.recommended=t2.allRecommended;return}let t=aF.getRequestedCaipNetworkIds().join(",");t2.featured=t2.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),t2.recommended=t2.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),t2.filteredWallets=t2.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))},clearFilterByNamespaces(){t2.filteredWallets=[]},setFilterByNamespace(e){if(!e){t2.featured=t2.allFeatured,t2.recommended=t2.allRecommended;return}let t=aF.getRequestedCaipNetworkIds().join(",");t2.featured=t2.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),t2.recommended=t2.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),t2.filteredWallets=t2.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))}},t9={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){let a=aF.state.activeCaipNetwork,n=aF.state.activeChain,r=an.state.data;if(e.id===a?.id)return;let i=!!aF.getAccountData(n)?.address,s=!!aF.getAccountData(e.chainNamespace)?.address,o=e.chainNamespace!==n,c=ad.getConnectorId(n)===eD.CONNECTOR_ID.AUTH,l=eD.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>t===e.chainNamespace);t||c&&l?an.push("SwitchNetwork",{...r,network:e}):i&&o&&!s?an.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):an.push("SwitchNetwork",{...r,network:e})}},t6=(0,tr.BX)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),t7={state:t6,subscribe:e=>(0,tr.B1)(t6,()=>e(t6)),subscribeOpen:e=>(0,ti.u$)(t6,"open",e),set(e){Object.assign(t6,{...t6,...e})}},t8=(0,tr.BX)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ae=tG({state:t8,subscribe:e=>(0,tr.B1)(t8,()=>e(t8)),subscribeKey:(e,t)=>(0,ti.u$)(t8,e,t),async open(e){let t=e?.namespace,a=aF.state.activeChain,n=t&&t!==a,r=aF.getAccountData(e?.namespace)?.caipAddress,i=aF.state.noAdapters;if(ag.state.wcBasic?t4.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await t4.prefetch(),ad.setFilterByNamespace(e?.namespace),ae.setLoading(!0,t),t&&n){let e=aF.getNetworkData(t)?.caipNetwork||aF.getRequestedCaipNetworks(t)[0];e&&(i?(await aF.switchActiveNetwork(e),an.push("ConnectingWalletConnectBasic")):t9.onSwitchNetwork({network:e,ignoreSwitchConfirmation:!0}))}else tO.state.manualWCControl||i&&!r?tb.isMobile()?an.reset("AllWallets"):an.reset("ConnectingWalletConnectBasic"):e?.view?an.reset(e.view,e.data):r?an.reset("Account"):an.reset("Connect");t8.open=!0,t7.set({open:!0}),t5.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){let e=tO.state.enableEmbedded,t=!!aF.state.activeCaipAddress;t8.open&&t5.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),t8.open=!1,an.reset("Connect"),ae.clearLoading(),e?t?an.replace("Account"):an.push("Connect"):t7.set({open:!1}),ag.resetUri()},setLoading(e,t){t&&t8.loadingNamespaceMap.set(t,e),t8.loading=e,t7.set({loading:e})},clearLoading(){t8.loadingNamespaceMap.clear(),t8.loading=!1,t7.set({loading:!1})},shake(){!t8.shake&&(t8.shake=!0,setTimeout(()=>{t8.shake=!1},500))}}),at=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],aa=(0,tr.BX)({view:"Connect",history:["Connect"],transactionStack:[]}),an=tG({state:aa,subscribeKey:(e,t)=>(0,ti.u$)(aa,e,t),pushTransactionStack(e){aa.transactionStack.push(e)},popTransactionStack(e){let t=aa.transactionStack.pop();if(!t)return;let{onSuccess:a,onError:n,onCancel:r}=t;switch(e){case"success":a?.();break;case"error":n?.(),an.goBack();break;case"cancel":r?.(),an.goBack()}},push(e,t){let a=e,n=t;t4.state.plan.hasExceededUsageLimit&&at.includes(e)&&(a="UsageExceeded",n=void 0),a!==aa.view&&(aa.view=a,aa.history.push(a),aa.data=n)},reset(e,t){aa.view=e,aa.history=[e],aa.data=t},replace(e,t){aa.history.at(-1)!==e&&(aa.view=e,aa.history[aa.history.length-1]=e,aa.data=t)},goBack(){let e=aF.state.activeCaipAddress,t="ConnectingFarcaster"===an.state.view,a=!e&&t;if(aa.history.length>1){aa.history.pop();let[t]=aa.history.slice(-1);t&&(e&&"Connect"===t?aa.view="Account":aa.view=t)}else ae.close();aa.data?.wallet&&(aa.data.wallet=void 0),aa.data?.redirectView&&(aa.data.redirectView=void 0),setTimeout(()=>{if(a){aF.setAccountProp("farcasterUrl",void 0,aF.state.activeChain);let e=ad.getAuthConnector();e?.provider?.reload();let t=(0,tr.P9)(tO.state);e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType})}},100)},goBackToIndex(e){if(aa.history.length>1){aa.history=aa.history.slice(0,e+1);let[t]=aa.history.slice(-1);t&&(aa.view=t)}},goBackOrCloseModal(){an.state.history.length>1?an.goBack():ae.close()}}),ar=(0,tr.BX)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ai={state:ar,subscribe:e=>(0,tr.B1)(ar,()=>e(ar)),setThemeMode(e){ar.themeMode=e;try{let t=ad.getAuthConnector();if(t){let a=ai.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:a,w3mThemeVariables:tF(a,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){ar.themeVariables={...ar.themeVariables,...e};try{let e=ad.getAuthConnector();if(e){let t=ai.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:tF(ar.themeVariables,ar.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,tr.P9)(ar)},as=tG(ai),ao=Object.fromEntries(eL.map(e=>[e,void 0])),ac=Object.fromEntries(eL.map(e=>[e,!0])),al=(0,tr.BX)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:ao,filterByNamespaceMap:ac}),ad=tG({state:al,subscribe:e=>(0,tr.B1)(al,()=>{e(al)}),subscribeKey:(e,t)=>(0,ti.u$)(al,e,t),initialize(e){e.forEach(e=>{let t=tN.getConnectedConnectorId(e);t&&ad.setConnectorId(t,e)})},setActiveConnector(e){e&&(al.activeConnector=(0,tr.KR)(e))},setConnectors(e){e.filter(e=>!al.allConnectors.some(t=>t.id===e.id&&ad.getConnectorName(t.name)===ad.getConnectorName(e.name)&&t.chain===e.chain)).forEach(e=>{"MULTI_CHAIN"!==e.type&&al.allConnectors.push((0,tr.KR)(e))});let t=ad.getEnabledNamespaces(),a=ad.getEnabledConnectors(t);al.connectors=ad.mergeMultiChainConnectors(a)},filterByNamespaces(e){Object.keys(al.filterByNamespaceMap).forEach(e=>{al.filterByNamespaceMap[e]=!1}),e.forEach(e=>{al.filterByNamespaceMap[e]=!0}),ad.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){al.filterByNamespaceMap[e]=t,ad.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=ad.getEnabledNamespaces(),t=ad.getEnabledConnectors(e),a=ad.areAllNamespacesEnabled();al.connectors=ad.mergeMultiChainConnectors(t),a?t4.clearFilterByNamespaces():t4.filterByNamespaces(e)},getEnabledNamespaces:()=>Object.entries(al.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e),getEnabledConnectors:e=>al.allConnectors.filter(t=>e.includes(t.chain)),areAllNamespacesEnabled:()=>Object.values(al.filterByNamespaceMap).every(e=>e),mergeMultiChainConnectors(e){let t=ad.generateConnectorMapByName(e),a=[];return t.forEach(e=>{let t=e[0],n=t?.id===eD.CONNECTOR_ID.AUTH;e.length>1&&t?a.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:n?"AUTH":"MULTI_CHAIN",chain:"eip155",id:t?.id||""}):t&&a.push(t)}),a},generateConnectorMapByName(e){let t=new Map;return e.forEach(e=>{let{name:a}=e,n=ad.getConnectorName(a);if(!n)return;let r=t.get(n)||[];r.find(t=>t.chain===e.chain)||r.push(e),t.set(n,r)}),t},getConnectorName:e=>e&&({"Trust Wallet":"Trust"})[e]||e,getUniqueConnectorsByName(e){let t=[];return e.forEach(e=>{t.find(t=>t.chain===e.chain)||t.push(e)}),t},addConnector(e){if(e.id===eD.CONNECTOR_ID.AUTH){let t=(0,tr.P9)(tO.state),a=as.getSnapshot().themeMode,n=as.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType}),e?.provider?.syncTheme({themeMode:a,themeVariables:n,w3mThemeVariables:tF(n,a)}),ad.setConnectors([e])}else ad.setConnectors([e])},getAuthConnector(e){let t=e||aF.state.activeChain,a=al.connectors.find(e=>e.id===eD.CONNECTOR_ID.AUTH);return a?a?.connectors?.length?a.connectors.find(e=>e.chain===t):a:void 0},getAnnouncedConnectorRdns:()=>al.connectors.filter(e=>"ANNOUNCED"===e.type).map(e=>e.info?.rdns),getConnectorById:e=>al.allConnectors.find(t=>t.id===e),getConnector({id:e,rdns:t,namespace:a}){let n=a||aF.state.activeChain;return al.allConnectors.filter(e=>e.chain===n).find(a=>a.explorerId===e||a.info?.rdns===t)},syncIfAuthConnector(e){if("AUTH"!==e.id)return;let t=(0,tr.P9)(tO.state),a=as.getSnapshot().themeMode,n=as.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,sdkType:t.sdkType,projectId:t.projectId}),e.provider.syncTheme({themeMode:a,themeVariables:n,w3mThemeVariables:tF(n,a)})},getConnectorsByNamespace(e){let t=al.allConnectors.filter(t=>t.chain===e);return ad.mergeMultiChainConnectors(t)},canSwitchToSmartAccount:e=>aF.checkIfSmartAccountEnabled()&&aB(e)===tp.ACCOUNT_TYPES.EOA,selectWalletConnector(e){let t=an.state.data?.redirectView,a=ad.getConnector({id:e.id,rdns:e.rdns});tB.handleMobileDeeplinkRedirect(a?.explorerId||e.id,aF.state.activeChain),a?an.push("ConnectingExternal",{connector:a,wallet:e,redirectView:t}):an.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors:e=>e?ad.getConnectorsByNamespace(e):ad.mergeMultiChainConnectors(al.allConnectors),setFilterByNamespace(e){al.filterByNamespace=e,al.connectors=ad.getConnectors(e),t4.setFilterByNamespace(e)},setConnectorId(e,t){e&&(al.activeConnectorIds={...al.activeConnectorIds,[t]:e},tN.setConnectedConnectorId(t,e))},removeConnectorId(e){al.activeConnectorIds={...al.activeConnectorIds,[e]:void 0},tN.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return al.activeConnectorIds[e]},isConnected:e=>e?!!al.activeConnectorIds[e]:Object.values(al.activeConnectorIds).some(e=>!!e),resetConnectorIds(){al.activeConnectorIds={...ao}},extendConnectorsWithExplorerWallets(e){al.allConnectors.forEach(t=>{let a=e.find(e=>e.id===t.id||e.rdns&&e.rdns===t.info?.rdns);a&&(t.explorerWallet=a)});let t=ad.getEnabledNamespaces(),a=ad.getEnabledConnectors(t);al.connectors=ad.mergeMultiChainConnectors(a)}}),au={getConnectionStatus(e,t){let a=ad.state.activeConnectorIds[t],n=ag.getConnections(t);return a&&e.connectorId===a?"connected":n.some(t=>t.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:e,connectorId:t,addresses:a})=>e.map(e=>{if(t&&e.connectorId.toLowerCase()===t.toLowerCase()&&a){let t=e.accounts.filter(e=>!a.some(t=>t.toLowerCase()===e.address.toLowerCase()));return{...e,accounts:t}}return e}),excludeExistingConnections(e,t){let a=new Set(e);return t.filter(e=>!a.has(e.connectorId))},getConnectionsByConnectorId:(e,t)=>e.filter(e=>e.connectorId.toLowerCase()===t.toLowerCase()),getConnectionsData(e){let t=!!tO.state.remoteFeatures?.multiWallet,a=ad.state.activeConnectorIds[e],n=ag.getConnections(e),r=(ag.state.recentConnections.get(e)??[]).filter(e=>ad.getConnectorById(e.connectorId)),i=au.excludeExistingConnections([...n.map(e=>e.connectorId),...a?[a]:[]],r);return t?{connections:n,recentConnections:i}:{connections:n.filter(e=>e.connectorId.toLowerCase()===a?.toLowerCase()),recentConnections:[]}}},ap={checkNamespaceConnectorId:(e,t)=>ad.getConnectorId(e)===t,isSocialProvider:e=>ty.DEFAULT_REMOTE_FEATURES.socials.includes(e),connectWalletConnect:({walletConnect:e,connector:t,closeModalOnConnect:a=!0,redirectViewOnModalClose:n="Connect",onOpen:r,onConnect:i})=>new Promise((s,o)=>{if(e&&ad.setActiveConnector(t),r?.(tb.isMobile()&&e),n){let e=ae.subscribeKey("open",t=>{t||(an.state.view!==n&&an.replace(n),e(),o(Error("Modal closed")))})}let c=aF.subscribeKey("activeCaipAddress",e=>{e&&(i?.(),a&&ae.close(),c(),s(ts.parseCaipAddress(e)))})}),connectExternal:e=>new Promise((t,a)=>{let n=aF.subscribeKey("activeCaipAddress",e=>{e&&(ae.close(),n(),t(ts.parseCaipAddress(e)))});ag.connectExternal(e,e.chain).catch(()=>{n(),a(Error("Connection rejected"))})}),connectSocial({social:e,namespace:t,closeModalOnConnect:a=!0,onOpenFarcaster:n,onConnect:r}){let i;let s=!1,o=null,c=t||aF.state.activeChain,l=aF.subscribeKey("activeCaipAddress",e=>{e&&(a&&ae.close(),l())});return new Promise((t,a)=>{async function l(n){if(n.data?.resultUri){if(n.origin===eD.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",l,!1);try{let r=ad.getAuthConnector(c);if(r&&!s){i&&i.close(),s=!0;let o=n.data.resultUri;t5.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),tN.setConnectedSocialProvider(e),await ag.connectExternal({id:r.id,type:r.type,socialUri:o},r.chain);let c=aF.state.activeCaipAddress;if(!c){a(Error("Failed to connect"));return}t(ts.parseCaipAddress(c)),t5.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(t){t5.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:tb.parseError(t)}}),a(Error("Failed to connect"))}}else t5.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}}!async function(){if(t5.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),"farcaster"===e){n?.();let t=ae.subscribeKey("open",n=>{n||"farcaster"!==e||(a(Error("Popup closed")),r?.(),t())}),i=ad.getAuthConnector();if(i){let e=aF.getAccountData(c);if(!e?.farcasterUrl)try{let{url:e}=await i.provider.getFarcasterUri();aF.setAccountProp("farcasterUrl",e,c)}catch{a(Error("Failed to connect to farcaster"))}}}else{let t=ad.getAuthConnector();o=tb.returnOpenHref(`${eD.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(t){let{uri:n}=await t.provider.getSocialRedirectUri({provider:e});if(o&&n){o.location.href=n,i=o;let e=setInterval(()=>{i?.closed&&!s&&(a(Error("Popup closed")),clearInterval(e))},1e3);window.addEventListener("message",l,!1)}else o?.close(),a(Error("Failed to initiate social connection"))}}catch{a(Error("Failed to initiate social connection")),o?.close()}}}()})},connectEmail:({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:a,onConnect:n})=>new Promise((r,i)=>{if(a?.(),t){let e=ae.subscribeKey("open",a=>{a||(an.state.view!==t&&an.replace(t),e(),i(Error("Modal closed")))})}let s=aF.subscribeKey("activeCaipAddress",t=>{t&&(n?.(),e&&ae.close(),s(),r(ts.parseCaipAddress(t)))})}),async updateEmail(){let e=tN.getConnectedConnectorId(aF.state.activeChain),t=ad.getAuthConnector();if(!t)throw Error("No auth connector found");if(e!==eD.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let a=t.provider.getEmail()??"";return await ae.open({view:"UpdateEmailWallet",data:{email:a,redirectView:void 0}}),new Promise((e,n)=>{let r=setInterval(()=>{let n=t.provider.getEmail()??"";n!==a&&(ae.close(),clearInterval(r),i(),e({email:n}))},1e3),i=ae.subscribeKey("open",e=>{e||("Connect"!==an.state.view&&an.push("Connect"),clearInterval(r),i(),n(Error("Modal closed")))})})},canSwitchToSmartAccount:e=>aF.checkIfSmartAccountEnabled()&&aB(e)===tp.ACCOUNT_TYPES.EOA},ah=(0,tr.BX)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),am=tG({state:ah,subscribe:e=>(0,tr.B1)(ah,()=>e(ah)),setLastNetworkInView(e){ah.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw Error("Transactions can't be fetched without an accountAddress");ah.loading=!0;try{let t=await tL.fetchTransactions({account:e,cursor:ah.next,chainId:aF.state.activeCaipNetwork?.caipNetworkId}),a=am.filterSpamTransactions(t.data),n=am.filterByConnectedChain(a),r=[...ah.transactions,...n];ah.loading=!1,ah.transactions=r,ah.transactionsByYear=am.groupTransactionsByYearAndMonth(ah.transactionsByYear,n),ah.empty=0===r.length,ah.next=t.next?t.next:void 0}catch(a){let t=aF.state.activeChain;t5.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:tO.state.projectId,cursor:ah.next,isSmartAccount:aB(t)===tp.ACCOUNT_TYPES.SMART_ACCOUNT}}),tU.showError("Failed to fetch transactions"),ah.loading=!1,ah.empty=!0,ah.next=void 0}},groupTransactionsByYearAndMonth:(e={},t=[])=>(t.forEach(t=>{let a=new Date(t.metadata.minedAt).getFullYear(),n=new Date(t.metadata.minedAt).getMonth(),r=e[a]??{},i=(r[n]??[]).filter(e=>e.id!==t.id);e[a]={...r,[n]:[...i,t].sort((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime())}}),e),filterSpamTransactions:e=>e.filter(e=>!e.transfers.every(e=>e.nft_info?.flags.is_spam===!0)),filterByConnectedChain(e){let t=aF.state.activeCaipNetwork?.caipNetworkId;return e.filter(e=>e.metadata.chain===t)},clearCursor(){ah.next=void 0},resetTransactions(){ah.transactions=[],ah.transactionsByYear={},ah.lastNetworkInView=void 0,ah.loading=!1,ah.empty=!1,ah.next=void 0}},"API_ERROR"),af=(0,tr.BX)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),ag=tG({state:af,subscribe:e=>(0,tr.B1)(af,()=>e(af)),subscribeKey:(e,t)=>(0,ti.u$)(af,e,t),_getClient:()=>af._client,setClient(e){af._client=(0,tr.KR)(e)},initialize(e){let t=e.filter(e=>!!e.namespace).map(e=>e.namespace);ag.syncStorageConnections(t)},syncStorageConnections(e){let t=tN.getConnections();for(let a of e??Array.from(aF.state.chains.keys())){let e=t[a]??[],n=new Map(af.recentConnections);n.set(a,e),af.recentConnections=n}},getConnections:e=>e?af.connections.get(e)??[]:[],hasAnyConnection:e=>Array.from(ag.state.connections.values()).flatMap(e=>e).some(({connectorId:t})=>t===e),async connectWalletConnect({cache:e="auto"}={}){let t=tb.isTelegram()||tb.isSafari()&&tb.isIos();if("always"===e||"auto"===e&&t){if(r){await r,r=void 0;return}if(!tb.isPairingExpired(af?.wcPairingExpiry)){let e=af.wcUri;af.wcUri=e;return}r=ag._getClient()?.connectWalletConnect?.().catch(()=>void 0),ag.state.status="connecting",await r,r=void 0,af.wcPairingExpiry=void 0,ag.state.status="connected"}else await ag._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,a=!0){let n=await ag._getClient()?.connectExternal?.(e);a&&aF.setActiveNamespace(t);let r=ad.state.allConnectors.find(t=>t.id===e?.id),i="AUTH"===e.type?"email":"browser";return t5.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:i,name:r?.name||"Unknown",view:an.state.view,walletRank:r?.explorerWallet?.order}}),n},async reconnectExternal(e){await ag._getClient()?.reconnectExternal?.(e);let t=e.chain||aF.state.activeChain;t&&ad.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;ae.setLoading(!0,aF.state.activeChain);let a=ad.getAuthConnector();a&&(aF.setAccountProp("preferredAccountType",e,t),await a.provider.setPreferredAccount(e),tN.setPreferredAccountTypes(Object.entries(aF.state.chains).reduce((e,[t,a])=>{let n=aB(t);return void 0!==n&&(e[t]=n),e},{})),await ag.reconnectExternal(a),ae.setLoading(!1,aF.state.activeChain),t5.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:aF.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async e=>ag._getClient()?.signMessage(e),parseUnits:(e,t)=>ag._getClient()?.parseUnits(e,t),formatUnits:(e,t)=>ag._getClient()?.formatUnits(e,t),updateBalance:e=>ag._getClient()?.updateBalance(e),sendTransaction:async e=>ag._getClient()?.sendTransaction(e),getCapabilities:async e=>ag._getClient()?.getCapabilities(e),grantPermissions:async e=>ag._getClient()?.grantPermissions(e),walletGetAssets:async e=>ag._getClient()?.walletGetAssets(e)??{},estimateGas:async e=>ag._getClient()?.estimateGas(e),writeContract:async e=>ag._getClient()?.writeContract(e),getEnsAddress:async e=>ag._getClient()?.getEnsAddress(e),getEnsAvatar:async e=>ag._getClient()?.getEnsAvatar(e),checkInstalled:e=>ag._getClient()?.checkInstalled?.(e)||!1,resetWcConnection(){af.wcUri=void 0,af.wcPairingExpiry=void 0,af.wcLinking=void 0,af.recentWallet=void 0,af.status="disconnected",am.resetTransactions(),tN.deleteWalletConnectDeepLink(),tN.deleteRecentWallet()},resetUri(){af.wcUri=void 0,af.wcPairingExpiry=void 0,r=void 0},finalizeWcConnection(e){let{wcLinking:t,recentWallet:a}=ag.state;t&&tN.setWalletConnectDeepLink(t),a&&tN.setAppKitRecent(a),e&&t5.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:an.state.data?.wallet?.name||"Unknown",view:an.state.view,walletRank:a?.order}})},setWcBasic(e){af.wcBasic=e},setUri(e){af.wcUri=e,af.wcPairingExpiry=tb.getPairingExpiry()},setWcLinking(e){af.wcLinking=e},setWcError(e){af.wcError=e,af.buffering=!1},setRecentWallet(e){af.recentWallet=e},setBuffering(e){af.buffering=e},setStatus(e){af.status=e},setIsSwitchingConnection(e){af.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:a}={}){try{await ag._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:a})}catch(e){throw new t$("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},async disconnectConnector({id:e,namespace:t}){try{await ag._getClient()?.disconnectConnector({id:e,namespace:t})}catch(e){throw new t$("Failed to disconnect connector","INTERNAL_SDK_ERROR",e)}},setConnections(e,t){let a=new Map(af.connections);a.set(t,e),af.connections=a},async handleAuthAccountSwitch({address:e,namespace:t}){let a=aF.getAccountData(t),n=a?.user?.accounts?.find(e=>"smartAccount"===e.type),r=n&&n.address.toLowerCase()===e.toLowerCase()&&ap.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await ag.setPreferredAccountType(r,t)},async handleActiveConnection({connection:e,namespace:t,address:a}){let n=ad.getConnectorById(e.connectorId),r=e.connectorId===eD.CONNECTOR_ID.AUTH;if(!n)throw Error(`No connector found for connection: ${e.connectorId}`);if(r)a&&await ag.handleAuthAccountSwitch({address:a,namespace:t});else{let e=await ag.connectExternal({id:n.id,type:n.type,provider:n.provider,address:a,chain:t},t);return e?.address}return a},async handleDisconnectedConnection({connection:e,namespace:t,address:a,closeModalOnConnect:n}){let r;let i=ad.getConnectorById(e.connectorId),s=e.auth?.name?.toLowerCase(),o=e.connectorId===eD.CONNECTOR_ID.AUTH,c=e.connectorId===eD.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw Error(`No connector found for connection: ${e.connectorId}`);if(o){if(s&&ap.isSocialProvider(s)){let{address:e}=await ap.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){ae.open({view:"ConnectingFarcaster"})},onConnect(){an.replace("ProfileWallets")}});r=e}else{let{address:e}=await ap.connectEmail({closeModalOnConnect:n,onOpen(){ae.open({view:"EmailLogin"})},onConnect(){an.replace("ProfileWallets")}});r=e}}else if(c){let{address:e}=await ap.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(e){let t=e?"AllWallets":"ConnectingWalletConnect";ae.state.open?an.push(t):ae.open({view:t})},onConnect(){an.replace("ProfileWallets")}});r=e}else{let e=await ag.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:t},t);e&&(r=e.address)}return o&&a&&await ag.handleAuthAccountSwitch({address:a,namespace:t}),r},async switchConnection({connection:e,address:t,namespace:a,closeModalOnConnect:n,onChange:r}){let i;let s=aF.getAccountData(a)?.caipAddress;if(s){let{address:e}=ts.parseCaipAddress(s);i=e}let o=au.getConnectionStatus(e,a);switch(o){case"connected":case"active":{let n=await ag.handleActiveConnection({connection:e,namespace:a,address:t});if(i&&n){let e=n.toLowerCase()!==i.toLowerCase();r?.({address:n,namespace:a,hasSwitchedAccount:e,hasSwitchedWallet:"active"===o})}break}case"disconnected":{let i=await ag.handleDisconnectedConnection({connection:e,namespace:a,address:t,closeModalOnConnect:n});i&&r?.({address:i,namespace:a,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${o}`)}}}),aC={createBalance(e,t){let a={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:a.name,symbol:a.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:a.value,price:a.price,quantity:{decimals:a.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:a.decimals})},iconUrl:a.iconUrl}},convertHexToBalance:({hex:e,decimals:t})=>(0,eO.J)(BigInt(e),t),convertAddressToCAIP10Address:(e,t)=>`${t}:${e}`,createCAIP2ChainId:(e,t)=>`${t}:${parseInt(e,16)}`,getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let a=parseInt(t[1],10);return isNaN(a)?"0x0":`0x${a.toString(16)}`},isWalletGetAssetsResponse(e){return"object"==typeof e&&null!==e&&Object.values(e).every(e=>Array.isArray(e)&&e.every(e=>this.isValidAsset(e)))},isValidAsset:e=>"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"==typeof e.metadata&&null!==e.metadata&&"string"==typeof e.metadata.name&&"string"==typeof e.metadata.symbol&&"number"==typeof e.metadata.decimals&&"number"==typeof e.metadata.price&&"string"==typeof e.metadata.iconUrl};async function aE(){if(!s){let{createPublicClient:e,http:t,defineChain:n}=await Promise.all([a.e(9561),a.e(1310),a.e(7455)]).then(a.bind(a,59836));s={createPublicClient:e,http:t,defineChain:n}}return s}let ay={getBlockchainApiRpcUrl(e,t){let a=new URL("https://rpc.walletconnect.org/v1/");return a.searchParams.set("chainId",e),a.searchParams.set("projectId",t),a.toString()},async getViemChain(e){let{defineChain:t}=await aE(),{chainId:a}=ts.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(a)})},async createViemPublicClient(e){let{createPublicClient:t,http:a}=await aE(),n=tO.state.projectId,r=await ay.getViemChain(e);if(!r)throw Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:r,transport:a(ay.getBlockchainApiRpcUrl(e.caipNetworkId,n))})}},a_={async getMyTokensWithBalance(e){let t=aF.getAccountData()?.address,a=aF.state.activeCaipNetwork,n=ad.getConnectorId("eip155")===eD.CONNECTOR_ID.AUTH;if(!t||!a)return[];let r=`${a.caipNetworkId}:${t}`,i=tN.getBalanceCacheForCaipAddress(r);if(i)return i.balances;if(a.chainNamespace===eD.CHAIN.EVM&&n){let e=await this.getEIP155Balances(t,a);if(e)return this.filterLowQualityTokens(e)}let s=await tL.getBalance(t,a.caipNetworkId,e);return this.filterLowQualityTokens(s.balances)},async getEIP155Balances(e,t){try{let a=aC.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),n=await ag.getCapabilities(e);if(!n?.[a]?.assetDiscovery?.supported)return null;let r=await ag.walletGetAssets({account:e,chainFilter:[a]});if(!aC.isWalletGetAssetsResponse(r))return null;let i=(r[a]||[]).map(e=>aC.createBalance(e,t.caipNetworkId));return tN.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:i},timestamp:Date.now()}),i}catch(e){return null}},filterLowQualityTokens:e=>e.filter(e=>"0"!==e.quantity.decimals),async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:a}){let n=await ay.createViemPublicClient(a),{address:r}=ts.parseCaipAddress(e),[{result:i},{result:s},{result:o},{result:c}]=await n.multicall({contracts:[{address:t,functionName:"name",args:[],abi:tg.xw},{address:t,functionName:"symbol",args:[],abi:tg.xw},{address:t,functionName:"balanceOf",args:[r],abi:tg.xw},{address:t,functionName:"decimals",args:[],abi:tg.xw}]});return{name:i,symbol:s,decimals:c,balance:o&&c?(0,eO.J)(o,c):"0"}}},aw={adapters:{}},av={state:aw,initialize(e){aw.adapters={...e}},get:e=>aw.adapters[e]},aA={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},aN=(0,tr.BX)({providers:{...aA},providerIds:{...aA}}),ab={state:aN,subscribeKey:(e,t)=>(0,ti.u$)(aN,e,t),subscribe:e=>(0,tr.B1)(aN,()=>{e(aN)}),subscribeProviders:e=>(0,tr.B1)(aN.providers,()=>e(aN.providers)),setProvider(e,t){e&&t&&(aN.providers[e]=(0,tr.KR)(t))},getProvider(e){if(e)return aN.providers[e]},setProviderId(e,t){t&&(aN.providerIds[e]=t)},getProviderId(e){if(e)return aN.providerIds[e]},reset(){aN.providers={...aA},aN.providerIds={...aA}},resetChain(e){aN.providers[e]=void 0,aN.providerIds[e]=void 0}};var aI=a(99784);let aS={bigNumber:e=>new aI.A(e?e:0),multiply(e,t){if(void 0===e||void 0===t)return new aI.A(0);let a=new aI.A(e),n=new aI.A(t);return a.times(n)},toFixed:(e,t=2)=>void 0===e||""===e?new aI.A(0).toFixed(t):new aI.A(e).toFixed(t),formatNumberToLocalString:(e,t=2)=>void 0===e||""===e?"0.00":"number"==typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}),parseLocalStringToNumber(e){if(void 0===e||""===e)return 0;let t=e.replace(/,/gu,"");return new aI.A(t).toNumber()}},aT=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],aR=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],aO={getERC20Abi:e=>eD.USDT_CONTRACT_ADDRESSES.includes(e)?aR:aT},ak={async getTokenList(e){let t=await tL.fetchSwapTokens({chainId:e});return t?.tokens?.map(e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=aF.state.activeCaipNetwork;if(!e)return null;try{if("solana"===e.chainNamespace){let e=(await ag?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e}}return await tL.fetchGasPrice({chainId:e.caipNetworkId})}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:a,sourceTokenDecimals:n}){let r=await tL.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(r?.allowance&&a&&n){let e=ag.parseUnits(a,n)||0;return BigInt(r.allowance)>=e}return!1},async getMyTokensWithBalance(e){let t=await a_.getMyTokensWithBalance(e);return aF.setAccountProp("tokenBalance",t,aF.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens:e=>e?.map(e=>({...e,address:e?.address?e.address:aj(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[],async handleSwapError(e){try{let t=e?.cause;if(!t?.json)return;let a=await t.json(),n=a?.reasons?.[0]?.description;if(n?.includes("insufficient liquidity"))return"Insufficient liquidity";return}catch{return}}},aP=(0,tr.BX)({tokenBalances:[],loading:!1}),aU=tG({state:aP,subscribe:e=>(0,tr.B1)(aP,()=>e(aP)),subscribeKey:(e,t)=>(0,ti.u$)(aP,e,t),setToken(e){e&&(aP.token=(0,tr.KR)(e))},setTokenAmount(e){aP.sendTokenAmount=e},setReceiverAddress(e){aP.receiverAddress=e},setReceiverProfileImageUrl(e){aP.receiverProfileImageUrl=e},setReceiverProfileName(e){aP.receiverProfileName=e},setNetworkBalanceInUsd(e){aP.networkBalanceInUSD=e},setLoading(e){aP.loading=e},getSdkEventProperties:e=>({message:tb.parseError(e),isSmartAccount:aB(aF.state.activeChain)===tp.ACCOUNT_TYPES.SMART_ACCOUNT,token:aP.token?.symbol||"",amount:aP.sendTokenAmount??0,network:aF.state.activeCaipNetwork?.caipNetworkId||""}),async sendToken(){try{switch(aU.setLoading(!0),aF.state.activeCaipNetwork?.chainNamespace){case"eip155":await aU.sendEvmToken();return;case"solana":await aU.sendSolanaToken();return;default:throw Error("Unsupported chain")}}catch(e){if(ek.isUserRejectedRequestError(e))throw new eU(e);throw e}finally{aU.setLoading(!1)}},async sendEvmToken(){let e=aF.state.activeChain;if(!e)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let t=aB(e);if(!aU.state.sendTokenAmount||!aU.state.receiverAddress)throw Error("An amount and receiver address are required");if(!aU.state.token)throw Error("A token is required");if(aU.state.token?.address){t5.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===tp.ACCOUNT_TYPES.SMART_ACCOUNT,token:aU.state.token.address,amount:aU.state.sendTokenAmount,network:aF.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await aU.sendERC20Token({receiverAddress:aU.state.receiverAddress,tokenAddress:aU.state.token.address,sendTokenAmount:aU.state.sendTokenAmount,decimals:aU.state.token.quantity.decimals});e&&(aP.hash=e)}else{t5.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===tp.ACCOUNT_TYPES.SMART_ACCOUNT,token:aU.state.token.symbol||"",amount:aU.state.sendTokenAmount,network:aF.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await aU.sendNativeToken({receiverAddress:aU.state.receiverAddress,sendTokenAmount:aU.state.sendTokenAmount,decimals:aU.state.token.quantity.decimals});e&&(aP.hash=e)}},async fetchTokenBalance(e){aP.loading=!0;let t=aF.state.activeChain,a=aF.state.activeCaipNetwork?.caipNetworkId,n=aF.state.activeCaipNetwork?.chainNamespace,r=aF.getAccountData(t)?.caipAddress??aF.state.activeCaipAddress,i=r?tb.getPlainAddress(r):void 0;if(aP.lastRetry&&!tb.isAllowedRetry(aP.lastRetry,30*ty.ONE_SEC_MS))return aP.loading=!1,[];try{if(i&&a&&n){let e=await a_.getMyTokensWithBalance();return aP.tokenBalances=e,aP.lastRetry=void 0,e}}catch(t){aP.lastRetry=Date.now(),e?.(t),tU.showError("Token Balance Unavailable")}finally{aP.loading=!1}return[]},fetchNetworkBalance(){if(0===aP.tokenBalances.length)return;let e=ak.mapBalancesToSwapTokens(aP.tokenBalances);if(!e)return;let t=e.find(e=>e.address===aj());t&&(aP.networkBalanceInUSD=t?aS.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){an.pushTransactionStack({});let t=e.receiverAddress,a=aF.getAccountData()?.address,n=ag.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),r=await ag.sendTransaction({chainNamespace:eD.CHAIN.EVM,to:t,address:a,data:"0x",value:n??BigInt(0)});return t5.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:aB("eip155")===tp.ACCOUNT_TYPES.SMART_ACCOUNT,token:aU.state.token?.symbol||"",amount:e.sendTokenAmount,network:aF.state.activeCaipNetwork?.caipNetworkId||"",hash:r||""}}),ag._getClient()?.updateBalance("eip155"),aU.resetSend(),{hash:r}},async sendERC20Token(e){an.pushTransactionStack({onSuccess(){an.replace("Account")}});let t=ag.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),a=aF.getAccountData()?.address;if(a&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let n=tb.getPlainAddress(e.tokenAddress);if(!n)throw Error("SendController:sendERC20Token - tokenAddress is required");let r=await ag.writeContract({fromAddress:a,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:aO.getERC20Abi(n),chainNamespace:eD.CHAIN.EVM});return t5.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:aB("eip155")===tp.ACCOUNT_TYPES.SMART_ACCOUNT,token:aU.state.token?.symbol||"",amount:e.sendTokenAmount,network:aF.state.activeCaipNetwork?.caipNetworkId||"",hash:r||""}}),aU.resetSend(),{hash:r}}return{hash:void 0}},async sendSolanaToken(){let e;if(!aU.state.sendTokenAmount||!aU.state.receiverAddress)throw Error("An amount and receiver address are required");an.pushTransactionStack({onSuccess(){an.replace("Account")}}),aU.state.token&&aU.state.token.address!==ty.SOLANA_NATIVE_TOKEN_ADDRESS&&(e=tb.isCaipAddress(aU.state.token.address)?tb.getPlainAddress(aU.state.token.address):aU.state.token.address);let t=await ag.sendTransaction({chainNamespace:"solana",tokenMint:e,to:aU.state.receiverAddress,value:aU.state.sendTokenAmount});t&&(aP.hash=t),ag._getClient()?.updateBalance("solana"),t5.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:aU.state.token?.symbol||"",amount:aU.state.sendTokenAmount,network:aF.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),aU.resetSend()},resetSend(){aP.token=void 0,aP.sendTokenAmount=void 0,aP.receiverAddress=void 0,aP.receiverProfileImageUrl=void 0,aP.receiverProfileName=void 0,aP.loading=!1,aP.tokenBalances=[]}}),ax={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},aD={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},aM=(0,tr.BX)({chains:(0,ti.zC)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),aL={state:aM,subscribe:e=>(0,tr.B1)(aM,()=>{e(aM)}),subscribeKey:(e,t)=>(0,ti.u$)(aM,e,t),subscribeAccountStateProp(e,t,a){let n=a||aM.activeChain;return n?(0,ti.u$)(aM.chains.get(n)?.accountState||{},e,t):()=>void 0},subscribeChainProp(e,t,a){let n;return(0,tr.B1)(aM.chains,()=>{let r=a||aM.activeChain;if(r){let a=aM.chains.get(r)?.[e];n!==a&&(n=a,t(a))}})},initialize(e,t,a){let{chainId:n,namespace:r}=tN.getActiveNetworkProps(),i=t?.find(e=>e.id.toString()===n?.toString()),s=e.find(e=>e?.namespace===r)||e?.[0],o=e.map(e=>e.namespace).filter(e=>void 0!==e),c=new Set(tO.state.enableEmbedded?[...o]:[...t?.map(e=>e.chainNamespace)??[]]);e?.length!==0&&s||(aM.noAdapters=!0),!aM.noAdapters&&(aM.activeChain=s?.namespace,aM.activeCaipNetwork=i,aF.setChainNetworkData(s?.namespace,{caipNetwork:i}),aM.activeChain&&t7.set({activeChain:s?.namespace})),c.forEach(e=>{let n=t?.filter(t=>t.chainNamespace===e),r=tN.getPreferredAccountTypes()||{},i={...tO.state.defaultAccountTypes,...r};aF.state.chains.set(e,{namespace:e,networkState:(0,tr.BX)({...aD,caipNetwork:n?.[0]}),accountState:(0,tr.BX)({...ax,preferredAccountType:i[e]}),caipNetworks:n??[],...a}),aF.setRequestedCaipNetworks(n??[],e)})},removeAdapter(e){if(aM.activeChain===e){let t=Array.from(aM.chains.entries()).find(([t])=>t!==e);if(t){let e=t[1]?.caipNetworks?.[0];e&&aF.setActiveCaipNetwork(e)}}aM.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},a){if(!e.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");aM.chains.set(e.namespace,{namespace:e.namespace,networkState:{...aD,caipNetwork:a[0]},accountState:{...ax},caipNetworks:a,connectionControllerClient:t}),aF.setRequestedCaipNetworks(a?.filter(t=>t.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=aM.chains.get(e.chainNamespace);if(t){let a=[...t.caipNetworks||[]];t.caipNetworks?.find(t=>t.id===e.id)||a.push(e),aM.chains.set(e.chainNamespace,{...t,caipNetworks:a}),aF.setRequestedCaipNetworks(a,e.chainNamespace),ad.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let a=aM.chains.get(e);if(a){let n=aM.activeCaipNetwork?.id===t,r=[...a.caipNetworks?.filter(e=>e.id!==t)||[]];n&&a?.caipNetworks?.[0]&&aF.setActiveCaipNetwork(a.caipNetworks[0]),aM.chains.set(e,{...a,caipNetworks:r}),aF.setRequestedCaipNetworks(r||[],e),0===r.length&&ad.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let a=aM.chains.get(e);a&&(a.networkState={...a.networkState||aD,...t},aM.chains.set(e,a))},setChainAccountData(e,t,a=!0){if(!e)throw Error("Chain is required to update chain account data");let n=aM.chains.get(e);if(n){let a={...n.accountState||ax,...t};aM.chains.set(e,{...n,accountState:a}),(1===aM.chains.size||aM.activeChain===e)&&t.caipAddress&&(aM.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;let a=aM.chains.get(e);if(a){let n={...a.networkState||aD,...t};aM.chains.set(e,{...a,networkState:n})}},setAccountProp(e,t,a,n=!0){aF.setChainAccountData(a,{[e]:t},n)},setActiveNamespace(e){aM.activeChain=e;let t=e?aM.chains.get(e):void 0,a=t?.networkState?.caipNetwork;a?.id&&e&&(aM.activeCaipAddress=t?.accountState?.caipAddress,aM.activeCaipNetwork=a,aF.setChainNetworkData(e,{caipNetwork:a}),tN.setActiveCaipNetworkId(a?.caipNetworkId),t7.set({activeChain:e,selectedNetworkId:a?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;let t=aM.activeChain===e.chainNamespace;t||aF.setIsSwitchingNamespace(!0);let a=aM.chains.get(e.chainNamespace);aM.activeChain=e.chainNamespace,aM.activeCaipNetwork=e,aF.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let n=a?.accountState?.address;if(n)aM.activeCaipAddress=`${e.chainNamespace}:${e.id}:${n}`;else if(t&&aM.activeCaipAddress){let{address:t}=ts.parseCaipAddress(aM.activeCaipAddress);n=t,aM.activeCaipAddress=`${e.caipNetworkId}:${n}`}else aM.activeCaipAddress=void 0;aF.setChainAccountData(e.chainNamespace,{address:n,caipAddress:aM.activeCaipAddress}),aU.resetSend(),t7.set({activeChain:aM.activeChain,selectedNetworkId:aM.activeCaipNetwork?.caipNetworkId}),tN.setActiveCaipNetworkId(e.caipNetworkId),aF.checkIfSupportedNetwork(e.chainNamespace)||!tO.state.enableNetworkSwitch||tO.state.allowUnsupportedChain||ag.state.wcBasic||aF.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=aM.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==aF.state.activeChain,a=aF.getNetworkData(e)?.caipNetwork,n=aF.getCaipNetworkByNamespace(e,a?.id);t&&n&&await aF.switchActiveNetwork(n)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let a=aF.state.activeChain;if(!a)throw Error("ChainController:switchActiveNetwork - namespace is required");let n="AUTH"===ab.getProviderId(aM.activeChain),r=aF.getAccountData(a)?.address,i=eD.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(r&&e.chainNamespace===a||n&&i){let t=av.get(e.chainNamespace);if(!t)throw Error("Adapter not found");await t.switchNetwork({caipNetwork:e})}aF.setActiveCaipNetwork(e)}catch(e){if(t)throw e}t5.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){let t=e||aM.activeChain;if(!t)throw Error("Chain is required to get connection controller client");let a=aM.chains.get(t);if(!a?.connectionControllerClient)throw Error("ConnectionController client not set");return a.connectionControllerClient},getNetworkProp(e,t){let a=aM.chains.get(t)?.networkState;if(a)return a[e]},getRequestedCaipNetworks(e){let t=aM.chains.get(e),{approvedCaipNetworkIds:a=[],requestedCaipNetworks:n=[]}=t?.networkState||{};return tb.sortRequestedNetworks(a,n).filter(e=>e?.id)},getAllRequestedCaipNetworks(){let e=[];return aM.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let a=aF.getRequestedCaipNetworks(t.namespace);e.push(...a)}),e},setRequestedCaipNetworks(e,t){aF.setAdapterNetworkState(t,{requestedCaipNetworks:e});let a=Array.from(new Set(aF.getAllRequestedCaipNetworks().map(e=>e.chainNamespace)));ad.filterByNamespaces(a)},getAllApprovedCaipNetworkIds(){let e=[];return aM.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let a=aF.getApprovedCaipNetworkIds(t.namespace);e.push(...a)}),e},getActiveCaipNetwork:e=>e?aM.chains.get(e)?.networkState?.caipNetwork:aM.activeCaipNetwork,getActiveCaipAddress:()=>aM.activeCaipAddress,getApprovedCaipNetworkIds(e){let t=aM.chains.get(e);return t?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){aF.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){let a=t||aM.activeCaipNetwork?.caipNetworkId,n=aF.getRequestedCaipNetworks(e);return!n.length||n?.some(e=>e.caipNetworkId===a)},checkIfSupportedChainId(e){if(!aM.activeChain)return!0;let t=aF.getRequestedCaipNetworks(aM.activeChain);return t?.some(t=>t.id===e)},checkIfSmartAccountEnabled(){let e=eM.caipNetworkIdToNumber(aM.activeCaipNetwork?.caipNetworkId);if(!aM.activeChain||!e)return!1;let t=tf.get(tu.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[];return!!t?.includes(e.toString())},showUnsupportedChainUI(){ae.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=aM.activeCaipNetwork;return!!(e?.chainNamespace&&ty.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){aF.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){if(!e)throw Error("Chain is required to set account prop");let t=aF.state.chains.get(e)?.accountState?.preferredAccountType,a=tO.state.defaultAccountTypes[e];aM.activeCaipAddress=void 0,aF.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:a||t,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ad.removeConnectorId(e)},setIsSwitchingNamespace(e){aM.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e;let t=[];if(aM.chains.forEach(e=>{eD.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>t===e.namespace)&&e.namespace&&t.push(e.namespace)}),t.length>0){let e=t[0];return e?aM.chains.get(e)?.caipNetworks?.[0]:void 0}},getAccountData(e){let t=e||aM.activeChain;if(t)return aF.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||aM.activeChain;if(t)return aF.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let a=aF.state.chains.get(e),n=a?.caipNetworks?.find(e=>e.id.toString()===t?.toString());return n||a?.networkState?.caipNetwork||a?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=ad.state.filterByNamespace;return(e?[aM.chains.get(e)]:Array.from(aM.chains.values())).flatMap(e=>e?.caipNetworks||[]).map(e=>e.caipNetworkId)},getCaipNetworks:e=>e?aF.getRequestedCaipNetworks(e):aF.getAllRequestedCaipNetworks(),getCaipNetworkById:(e,t)=>aL.getCaipNetworks(t).find(t=>t.id.toString()===e.toString()||t.caipNetworkId.toString()===e.toString()),setLastConnectedSIWECaipNetwork(e){aM.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork:()=>aM.lastConnectedSIWECaipNetwork,async fetchTokenBalance(e){let t=aF.getAccountData();if(!t)return[];let a=aF.state.activeCaipNetwork?.caipNetworkId,n=aF.state.activeCaipNetwork?.chainNamespace,r=aF.state.activeCaipAddress,i=r?tb.getPlainAddress(r):void 0;if(aF.setAccountProp("balanceLoading",!0,n),t.lastRetry&&!tb.isAllowedRetry(t.lastRetry,30*ty.ONE_SEC_MS))return aF.setAccountProp("balanceLoading",!1,n),[];try{if(i&&a&&n){let e=await a_.getMyTokensWithBalance();return aF.setAccountProp("tokenBalance",e,n),aF.setAccountProp("lastRetry",void 0,n),aF.setAccountProp("balanceLoading",!1,n),e}}catch(t){aF.setAccountProp("lastRetry",Date.now(),n),e?.(t),tU.showError("Token Balance Unavailable")}finally{aF.setAccountProp("balanceLoading",!1,n)}return[]},isCaipNetworkDisabled(e){let t=e.chainNamespace,a=!!aF.getAccountData(t)?.caipAddress,n=aF.getAllApprovedCaipNetworkIds(),r=!1!==aF.getNetworkProp("supportsAllNetworks",t),i=ad.getConnectorId(t),s=ad.getAuthConnector(),o=i===eD.CONNECTOR_ID.AUTH&&s;return!!a&&!r&&!o&&!n?.includes(e.caipNetworkId)}},aF=tG(aL);function aj(){let e=aF.state.activeCaipNetwork?.chainNamespace||"eip155",t=aF.state.activeCaipNetwork?.id||1,a=ty.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${a}`}function aB(e){return aF.getAccountData(e)?.preferredAccountType}function aW(e){return e?aF.state.chains.get(e)?.networkState?.caipNetwork:aF.state.activeCaipNetwork}let aH={convertEVMChainIdToCoinType(e){if(e>=0x80000000)throw Error("Invalid chainId");return(0x80000000|e)>>>0}},aK=(0,tr.BX)({suggestions:[],loading:!1}),aq=tG({state:aK,subscribe:e=>(0,tr.B1)(aK,()=>e(aK)),subscribeKey:(e,t)=>(0,ti.u$)(aK,e,t),async resolveName(e){try{return await tL.lookupEnsName(e)}catch(e){throw Error(e?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await tL.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{return aK.loading=!0,aK.suggestions=[],aK.suggestions=(await tL.getEnsNameSuggestions(e)).suggestions||[],aK.suggestions}catch(e){throw Error(aq.parseEnsApiError(e,"Error fetching name suggestions"))}finally{aK.loading=!1}},async getNamesForAddress(e){try{if(!aF.state.activeCaipNetwork)return[];let t=tN.getEnsFromCacheForAddress(e);if(t)return t;let a=await tL.reverseLookupEnsName({address:e});return tN.updateEnsCache({address:e,ens:a,timestamp:Date.now()}),a}catch(e){throw Error(aq.parseEnsApiError(e,"Error fetching names for address"))}},async registerName(e){let t=aF.state.activeCaipNetwork,a=aF.getAccountData(t?.chainNamespace)?.address,n=ad.getAuthConnector();if(!t)throw Error("Network not found");if(!a||!n)throw Error("Address or auth connector not found");aK.loading=!0;try{let n=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});an.pushTransactionStack({onCancel(){an.replace("RegisterAccountName")}});let r=await ag.signMessage(n);aK.loading=!1;let i=t.id;if(!i)throw Error("Network not found");let s=aH.convertEVMChainIdToCoinType(Number(i));await tL.registerEnsName({coinType:s,address:a,signature:r,message:n}),aF.setAccountProp("profileName",e,t.chainNamespace),tN.updateEnsCache({address:a,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),an.replace("RegisterAccountNameSuccess")}catch(a){let t=aq.parseEnsApiError(a,`Error registering name ${e}`);throw an.replace("RegisterAccountName"),Error(t)}finally{aK.loading=!1}},validateName:e=>/^[a-zA-Z0-9-]{4,}$/u.test(e),parseEnsApiError:(e,t)=>e?.reasons?.[0]?.description||t});function a$(e){try{return new URL(e)}catch{return null}}let aV={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},aG={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace:e=>aV[e]||[],createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};let a={...e},n=new Set;if(t.methods&&Object.keys(t.methods).forEach(e=>n.add(e)),t.chains&&Object.keys(t.chains).forEach(e=>n.add(e)),t.events&&Object.keys(t.events).forEach(e=>n.add(e)),t.rpcMap&&Object.keys(t.rpcMap).forEach(e=>{let[t]=e.split(":");t&&n.add(t)}),n.forEach(e=>{a[e]||(a[e]=this.createDefaultNamespace(e))}),t.methods&&Object.entries(t.methods).forEach(([e,t])=>{a[e]&&(a[e].methods=t)}),t.chains&&Object.entries(t.chains).forEach(([e,t])=>{a[e]&&(a[e].chains=t)}),t.events&&Object.entries(t.events).forEach(([e,t])=>{a[e]&&(a[e].events=t)}),t.rpcMap){let e=new Set;Object.entries(t.rpcMap).forEach(([t,n])=>{let[r,i]=t.split(":");r&&i&&a[r]&&(a[r].rpcMap||(a[r].rpcMap={}),e.has(r)||(a[r].rpcMap={},e.add(r)),a[r].rpcMap[i]=n)})}return a},createNamespaces(e,t){let a=e.reduce((e,t)=>{let{id:a,chainNamespace:n,rpcUrls:r}=t,i=r.default.http[0];e[n]||(e[n]=this.createDefaultNamespace(n));let s=`${n}:${a}`,o=e[n];switch(o.chains.push(s),s){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":o.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":o.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K")}return o?.rpcMap&&i&&(o.rpcMap[a]=i),e},{});return this.applyNamespaceOverrides(a,t)},resolveReownName:async e=>{let t=await aq.resolveName(e),a=t?.addresses?Object.values(t.addresses):[];return a[0]?.address||!1},getChainsFromNamespaces:(e={})=>Object.values(e).flatMap(e=>Array.from(new Set([...e.chains||[],...e.accounts.map(e=>{let[t,a]=e.split(":");return`${t}:${a}`})]))),isSessionEventData:e=>"object"==typeof e&&null!==e&&"id"in e&&"topic"in e&&"params"in e&&"object"==typeof e.params&&null!==e.params&&"chainId"in e.params&&"event"in e.params&&"object"==typeof e.params.event&&null!==e.params.event,isUserRejectedRequestError(e){try{if("object"==typeof e&&null!==e){let t="number"==typeof e.code,a=t&&e.code===aG.RPC_ERROR_CODE.USER_REJECTED_METHODS,n=t&&e.code===aG.RPC_ERROR_CODE.USER_REJECTED;return a||n}return!1}catch{return!1}},isOriginAllowed(e,t,a){let n=[...t,...a];if(0===t.length)return!0;let r=a$(e);if(!r)return n.some(t=>!t.includes("*")&&t===e);if("localhost"===r.hostname||"127.0.0.1"===r.hostname)return!0;for(let t of n)if(t.includes("*")){if(function(e,t,a){let n,r,i=a,s=i.indexOf("://");-1!==s&&(n=i.slice(0,s),i=i.slice(s+3));let o=i.indexOf("/");-1!==o&&(i=i.slice(0,o));let c=i,l=c.lastIndexOf(":");-1!==l&&(r=c.slice(l+1),c=c.slice(0,l));let d=c.split(".");for(let e of d)if(e.includes("*")&&"*"!==e)return!1;let u=e.protocol.replace(/:$/u,"");if(n&&n!==u||void 0!==r&&"*"!==r&&r!==e.port)return!1;let p=function(e){let t=e.indexOf("://");if(-1===t)return null;let a=e.slice(0,t),n=t+3,r=e.indexOf("/",n);-1===r&&(r=e.length);let i=e.slice(n,r),s=i.lastIndexOf(":");return -1===s?{scheme:a,host:i}:{scheme:a,host:i.slice(0,s),port:i.slice(s+1)}}(t),h=(p?p.host:e.hostname).split(".");if(d.length!==h.length)return!1;for(let e=d.length-1;e>=0;e-=1){let t=d[e],a=h[e];if("*"!==t&&t!==a)return!1}return!0}(r,e,t))return!0}else if(function(e,t){if(t.includes("://")){let a=a$(t);return!!a&&a.origin===e}let{host:a,port:n}=function(e){let t=e.split("/"),a=t.length>0&&void 0!==t[0]?t[0]:"",n=a.lastIndexOf(":");return -1===n?{host:a}:{host:a.slice(0,n),port:a.slice(n+1)}}(t),r=e.indexOf("://");if(-1!==r){let t=r+3,i=e.indexOf("/",t);-1===i&&(i=e.length);let s=e.slice(t,i);return void 0!==n?`${a}:${n}`===s:a===s.split(":")[0]}let i=a$(e);return!!i&&(void 0!==n?a===i.hostname&&n===(i.port||void 0):a===i.hostname)}(e,t))return!0;return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:a,onDisconnect:n,onAccountsChanged:r,onChainChanged:i,onDisplayUri:s}){a&&e.on("connect",()=>{a(aG.getWalletConnectAccounts(e,t))}),n&&e.on("disconnect",()=>{n()}),r&&e.on("accountsChanged",a=>{try{let n=e.session?.namespaces?.[t]?.accounts||[],i=e.rpcProviders?.[t]?.getDefaultChain(),s=a.map(e=>{let a=n.find(a=>a.includes(`${t}:${i}:${e}`));if(!a)return;let{chainId:r,chainNamespace:s}=ts.parseCaipAddress(a);return{address:e,chainId:r,chainNamespace:s}}).filter(e=>void 0!==e);s.length>0&&r(s)}catch(e){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,a,e)}}),i&&e.on("chainChanged",e=>{i(e)}),s&&e.on("display_uri",e=>{s(e)})},getWalletConnectAccounts(e,t){let a=new Set,n=e?.session?.namespaces?.[t]?.accounts?.map(e=>ts.parseCaipAddress(e)).filter(({address:e})=>!a.has(e.toLowerCase())&&(a.add(e.toLowerCase()),!0));return n&&n.length>0?n:[]}},aZ=[eD.CONNECTOR_ID.AUTH,eD.CONNECTOR_ID.WALLET_CONNECT];class aY{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=e=>aF.getCaipNetworks(e),this.getConnectorId=e=>ad.getConnectorId(e),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:t}){let a=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===t?.toString());e&&a&&this.addConnection({connectorId:eD.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:a})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:eD.CONNECTOR_ID.AUTH,type:"AUTH",name:eD.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){let t=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(e=>!t.has(e.id)&&(t.add(e.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){let t=new Set;this.availableConnections=[...e,...this.availableConnections].filter(e=>!t.has(e.connectorId.toLowerCase())&&(t.add(e.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(t=>t.connectorId.toLowerCase()!==e.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,t){aF.setAccountProp("status",e,t)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(t)}off(e,t){let a=this.eventListeners.get(e);a&&a.delete(t)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,t){let a=this.eventListeners.get(e);a&&a.forEach(e=>e(t))}async connectWalletConnect(e){try{let e=this.getWalletConnectConnector();return{clientId:(await e.connectWalletConnect()).clientId}}catch(e){if(aG.isUserRejectedRequestError(e))throw new eU(e);throw e}}async switchNetwork(e){let{caipNetwork:t}=e,a=ab.getProviderId(t.chainNamespace),n=ab.getProvider(t.chainNamespace);if(!n)throw Error("Provider not found");if("WALLET_CONNECT"===a){n.setDefaultChain(t.caipNetworkId);return}if("AUTH"===a){let e=ad.getAuthConnector()?.provider;if(!e)throw Error("Auth provider not found");let a=aB(t.chainNamespace);await e.switchNetwork({chainId:t.caipNetworkId});let n=await e.getUser({chainId:t.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",n)}}getWalletConnectConnector(){let e=this.connectors.find(e=>"walletConnect"===e.id);if(!e)throw Error("WalletConnectConnector not found");return e}onConnect(e,t){if(e.length>0){let{address:a,chainId:n}=tb.getAccount(e[0]),r=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===n?.toString()),i=this.connectors.find(e=>e.id===t);a&&(this.emit("accountChanged",{address:a,chainId:n,connector:i}),this.addConnection({connectorId:t,accounts:e.map(e=>{let{address:t}=tb.getAccount(e);return{address:t}}),caipNetwork:r}))}}onAccountsChanged(e,t,a=!0){if(e.length>0){let{address:a}=tb.getAccount(e[0]),n=this.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors});a&&this.getConnectorId(eD.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emit("accountChanged",{address:a,chainId:n?.caipNetwork?.id,connector:n?.connector}),this.addConnection({connectorId:t,accounts:e.map(e=>{let{address:t}=tb.getAccount(e);return{address:t}}),caipNetwork:n?.caipNetwork})}else a&&this.onDisconnect(t)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),this.getConnectorId(eD.CHAIN.EVM)?.toLowerCase()===e.toLowerCase()&&this.emitFirstAvailableConnection(),0===this.connections.length&&this.emit("disconnect")}onChainChanged(e,t){let a="string"==typeof e&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),n=this.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors}),r=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===a);n&&this.addConnection({connectorId:t,accounts:n.accounts,caipNetwork:r}),this.getConnectorId(eD.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emit("switchNetwork",{chainId:a})}listenProviderEvents(e,t){if(aZ.includes(e))return;let a=t=>this.onAccountsChanged(t,e),n=t=>this.onChainChanged(t,e),r=()=>this.onDisconnect(e);this.providerHandlers[e]||(t.on("disconnect",r),t.on("accountsChanged",a),t.on("chainChanged",n),this.providerHandlers[e]={provider:t,disconnect:r,accountsChanged:a,chainChanged:n})}removeProviderListeners(e){if(this.providerHandlers[e]){let{provider:t,disconnect:a,accountsChanged:n,chainChanged:r}=this.providerHandlers[e];t.removeListener("disconnect",a),t.removeListener("accountsChanged",n),t.removeListener("chainChanged",r),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){let e=this.getConnection({connections:this.connections,connectors:this.connectors});if(e){let[t]=e.accounts;this.emit("accountChanged",{address:t?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}getConnection({address:e,connectorId:t,connections:a,connectors:n}){if(t){let r=a.find(e=>e.connectorId.toLowerCase()===t.toLowerCase());if(!r)return null;let i=n.find(e=>e.id.toLowerCase()===r.connectorId.toLowerCase()),s=e?r.accounts.find(t=>t.address.toLowerCase()===e.toLowerCase()):r.accounts[0];return{...r,account:s,connector:i}}let r=a.find(e=>e.accounts.length>0&&n.some(t=>t.id.toLowerCase()===e.connectorId.toLowerCase()));if(r){let[e]=r.accounts,t=n.find(e=>e.id.toLowerCase()===r.connectorId.toLowerCase());return{...r,account:e,connector:t}}return null}}let aJ=null,az={getSIWX:()=>tO.state.siwx,async initializeIfEnabled(e=aF.getActiveCaipAddress()){let t=tO.state.siwx;if(!(t&&e))return;let[a,n,r]=e.split(":");if(aF.checkIfSupportedNetwork(a,`${a}:${n}`))try{if(tO.state.remoteFeatures?.emailCapture){let e=aF.getAccountData(a)?.user;await ae.open({view:"DataCapture",data:{email:e?.email??void 0}});return}if(aJ&&await aJ,(await t.getSessions(`${a}:${n}`,r)).length)return;await ae.open({view:"SIWXSignMessage"})}catch(e){console.error("SIWXUtil:initializeIfEnabled",e),t5.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(e)}),await ag._getClient()?.disconnect().catch(console.error),an.reset("Connect"),tU.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=aF.getActiveCaipAddress()){if(!tO.state.siwx||!e)return!0;let{chainNamespace:t,chainId:a,address:n}=ts.parseCaipAddress(e),r=`${t}:${a}`;return(await az.getSessions({address:n,caipNetworkId:r})).length>0},async requestSignMessage(){let e=tO.state.siwx,t=tb.getPlainAddress(aF.getActiveCaipAddress()),a=aW();if(!e)throw Error("SIWX is not enabled");if(!t)throw Error("No ActiveCaipAddress found");if(!a)throw Error("No ActiveCaipNetwork or client found");try{let n=await e.createMessage({chainId:a.caipNetworkId,accountAddress:t}),r=n.toString(),i="";e.signMessage?i=await e.signMessage({message:r,chainId:a.caipNetworkId,accountAddress:t}):(ad.getConnectorId(a.chainNamespace)===eD.CONNECTOR_ID.AUTH&&an.pushTransactionStack({}),i=await ag.signMessage(r)||""),await e.addSession({data:n,message:r,signature:i}),aF.setLastConnectedSIWECaipNetwork(a),ae.close(),t5.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(e){ae.state.open&&"ApproveTransaction"!==an.state.view||await ae.open({view:"SIWXSignMessage"}),tU.showError("Error signing message"),t5.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(e)}),console.error("SWIXUtil:requestSignMessage",e)}},async cancelSignMessage(){try{let e=this.getSIWX();if(e?.getRequired?.()){let t=aF.getLastConnectedSIWECaipNetwork();if(t){let a=await e?.getSessions(t?.caipNetworkId,tb.getPlainAddress(aF.getActiveCaipAddress())||"");a&&a.length>0?await aF.switchActiveNetwork(t):await ag.disconnect()}else await ag.disconnect()}else ae.close();ae.close(),t5.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){let e=this.getSIWX(),t=aF.getAllRequestedCaipNetworks(),a=[];return await Promise.all(t.map(async t=>{let n=await e?.getSessions(t.caipNetworkId,tb.getPlainAddress(aF.getActiveCaipAddress())||"");n&&a.push(...n)})),a},async getSessions(e){let t=tO.state.siwx,a=e?.address;if(!a){let e=aF.getActiveCaipAddress();a=tb.getPlainAddress(e)}let n=e?.caipNetworkId;if(!n){let e=aF.getActiveCaipNetwork();n=e?.caipNetworkId}return t&&a&&n?t.getSessions(n,a):[]},async isSIWXCloseDisabled(){let e=this.getSIWX();if(e){let t="ApproveTransaction"===an.state.view,a="SIWXSignMessage"===an.state.view;if(t||a)return e.getRequired?.()&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:a,preferredAccountType:n,chainNamespace:r}){let i=az.getSIWX(),s=aW();if(!i||!r.includes(eD.CHAIN.EVM)||tO.state.remoteFeatures?.emailCapture){let r=await e.connect({chainId:t,socialUri:a,preferredAccountType:n});return{address:r.address,chainId:r.chainId,accounts:r.accounts}}let o=`${r}:${t}`,c=await i.createMessage({chainId:o,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},d=await e.connect({chainId:t,socialUri:a,siwxMessage:l,preferredAccountType:n});if(l.accountAddress=d.address,l.serializedMessage=d.message||"",d.signature&&d.message){let e=az.addEmbeddedWalletSession(l,d.message,d.signature);await e}return aF.setLastConnectedSIWECaipNetwork(s),{address:d.address,chainId:d.chainId,accounts:d.accounts}},async addEmbeddedWalletSession(e,t,a){if(aJ)return aJ;let n=az.getSIWX();return n?aJ=n.addSession({data:e,message:t,signature:a}).finally(()=>{aJ=null}):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:a}){let n=az.getSIWX(),r=aW(),i=new Set(t.map(e=>e.split(":")[0]));if(!n||1!==i.size||!i.has("eip155"))return!1;let s=await n.createMessage({chainId:aW()?.caipNetworkId||"",accountAddress:""}),o=await e.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:a,chains:[s.chainId,...t.filter(e=>e!==s.chainId)]});tU.showLoading("Authenticating...",{autoClose:!1});let c={...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(aF.setAccountProp("connectedWalletInfo",c,Array.from(i)[0]),o?.auths?.length){let t=o.auths.map(t=>{let a=e.client.formatAuthMessage({request:t.p,iss:t.p.iss});return{data:{...t.p,accountAddress:t.p.iss.split(":").slice(-1).join(""),chainId:t.p.iss.split(":").slice(2,4).join(":"),uri:t.p.aud??"",version:t.p.version||s.version,expirationTime:t.p.exp,issuedAt:t.p.iat,notBefore:t.p.nbf},message:a,signature:t.s.s,cacao:t}});try{await n.setSessions(t),r&&aF.setLastConnectedSIWECaipNetwork(r),t5.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:az.getSIWXEventProperties()})}catch(t){throw console.error("SIWX:universalProviderAuth - failed to set sessions",t),t5.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:az.getSIWXEventProperties(t)}),await e.disconnect().catch(console.error),t}finally{tU.hide()}}return!0},getSIWXEventProperties(e){let t=aF.state.activeChain;if(!t)throw Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:aF.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:aB(t)===tp.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?tb.parseError(e):void 0}},async clearSessions(){let e=this.getSIWX();e&&await e.setSessions([])}};class aX{constructor({provider:e,namespace:t}){this.id=eD.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=aF.getCaipNetworks.bind(aF),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=t}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){let e=this.getCaipNetworks(),t=tO.state.universalProviderConfigOverride,a=aG.createNamespaces(e,t);await this.provider.connect({optionalNamespaces:a})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){let e=this.chains.map(e=>e.caipNetworkId);return az.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:aQ})}}let aQ=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];var a0=a(36241),a1=a(61498);let a5={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:eD.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage:(e,t)=>`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${e} is outdated. Latest version is ${t}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`},a3={ConnectorExplorerIds:{[eD.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[eD.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[eD.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[eD.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[eD.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[eD.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[a5.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[a5.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[a5.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[a5.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[a5.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[a5.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[a5.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[a5.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[a5.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[a5.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[a5.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[a5.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[a5.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",0xaa36a7:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",0x4e454152:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[eD.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[eD.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[eD.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[eD.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[eD.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[eD.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[eD.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[eD.CONNECTOR_ID.INJECTED]:"Browser Wallet",[eD.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[eD.CONNECTOR_ID.COINBASE]:"Coinbase",[eD.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[eD.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[eD.CONNECTOR_ID.LEDGER]:"Ledger",[eD.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[eD.CONNECTOR_ID.INJECTED]:"INJECTED",[eD.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[eD.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[eD.CONNECTOR_ID.AUTH]:"AUTH",[a5.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,0xaa36a7,10,420,42161,421613,137,80001,42220,0x4e454152,0x4e454153,56,97,43114,43113,100,8453,84531,7777777,999,324,280]};function a2(e,t){let a=new URL("https://rpc.walletconnect.org/v1/");return a.searchParams.set("chainId",e),a.searchParams.set("projectId",t),a.toString()}let a4=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],a9={extendRpcUrlWithProjectId(e,t){let a=!1;try{a="rpc.walletconnect.org"===new URL(e).host}catch(e){a=!1}if(a){let a=new URL(e);return a.searchParams.has("projectId")||a.searchParams.set("projectId",t),a.toString()}return e},isCaipNetwork:e=>"chainNamespace"in e&&"caipNetworkId"in e,getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:eD.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${eD.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,a){let n=e.rpcUrls?.default?.http?.[0];return a4.includes(t)?a2(t,a):n||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:a,customRpcUrls:n}){let r=this.getChainNamespace(e),i=this.getCaipNetworkId(e),s=e.rpcUrls?.default?.http?.[0],o=this.getDefaultRpcUrl(e,i,a),c=e?.rpcUrls?.chainDefault?.http?.[0]||s,l=n?.[i]?.map(e=>e.url)||[],d=[...l,...o?[o]:[]],u=[...l];return c&&!u.includes(c)&&u.push(c),{...e,chainNamespace:r,caipNetworkId:i,assets:{imageId:a3.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:d},chainDefault:{http:u}}}},extendCaipNetworks:(e,{customNetworkImageUrls:t,projectId:a,customRpcUrls:n})=>e.map(e=>a9.extendCaipNetwork(e,{customNetworkImageUrls:t,customRpcUrls:n,projectId:a})),getViemTransport(e,t,a){let n=[];return a?.forEach(e=>{n.push(a0.L(e.url,e.config))}),a4.includes(e.caipNetworkId)&&n.push((0,a0.L)(a2(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(e=>{n.push(a0.L(e))}),(0,a1.Np)(n)},extendWagmiTransports(e,t,a){if(a4.includes(e.caipNetworkId)){let n=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return(0,a1.Np)([a,(0,a0.L)(n)])}return a},getUnsupportedNetwork:e=>({id:e.split(":")[1],caipNetworkId:e,name:eD.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}),getCaipNetworkFromStorage(e){let t=tN.getActiveCaipNetworkId(),a=aF.getAllRequestedCaipNetworks(),n=Array.from(aF.state.chains?.keys()||[]),r=t?.split(":")[0],i=!!r&&n.includes(r),s=a?.find(e=>e.caipNetworkId===t);return i&&!s&&t?this.getUnsupportedNetwork(t):s||e||a?.[0]}},a6={getCaipTokens(e){if(!e)return;let t={};return Object.entries(e).forEach(([e,a])=>{t[`${a5.EIP155}:${e}`]=a}),t},isLowerCaseMatch:(e,t)=>e?.toLowerCase()===t?.toLowerCase(),getActiveNamespaceConnectedToAuth(){let e=aF.state.activeChain;return eD.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>ad.getConnectorId(t)===eD.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:a}){let n=0;return new Promise(r=>{async function i(){return(n+=1,await e())?r(!0):n>=a?r(!1):(setTimeout(i,t),null)}i()})},userChainIdToChainNamespace(e){if("number"==typeof e)return eD.CHAIN.EVM;let[t]=e.split(":");return t},getOtherAuthNamespaces:e=>e?eD.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(t=>t!==e):[],getConnectorStorageInfo(e,t){let a=tN.getConnections()[t]??[];return{hasDisconnected:tN.isConnectorDisconnected(e,t),hasConnected:a.some(t=>a6.isLowerCaseMatch(t.connectorId,e))}}},a7=(0,tr.BX)({message:"",variant:"info",open:!1}),a8=tG({state:a7,subscribeKey:(e,t)=>(0,ti.u$)(a7,e,t),open(e,t){let{debug:a}=tO.state,{code:n,displayMessage:r,debugMessage:i}=e;r&&a&&(a7.message=r,a7.variant=t,a7.open=!0),i&&console.error("function"==typeof i?i():i,n?{code:n}:void 0)},warn(e,t,a){a7.open=!0,a7.message=e,a7.variant="warning",t&&console.warn(t,a)},close(){a7.open=!1,a7.message="",a7.variant="info"}}),ne={EmbeddedWalletAbortController:new AbortController,ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${tA()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${tO.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}}};!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let a of e)t[a]=a;return t},e.getValidEnumValues=t=>{let a=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of a)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t},e.find=(e,t)=>{for(let a of e)if(t(a))return a},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(c||(c={})),(l||(l={})).mergeShapes=(e,t)=>({...e,...t});let nt=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),na=e=>{switch(typeof e){case"undefined":return nt.undefined;case"string":return nt.string;case"number":return isNaN(e)?nt.nan:nt.number;case"boolean":return nt.boolean;case"function":return nt.function;case"bigint":return nt.bigint;case"symbol":return nt.symbol;case"object":if(Array.isArray(e))return nt.array;if(null===e)return nt.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return nt.promise;if("undefined"!=typeof Map&&e instanceof Map)return nt.map;if("undefined"!=typeof Set&&e instanceof Set)return nt.set;if("undefined"!=typeof Date&&e instanceof Date)return nt.date;return nt.object;default:return nt.unknown}},nn=c.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class nr extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},a={_errors:[]},n=e=>{for(let r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(n);else if("invalid_return_type"===r.code)n(r.returnTypeError);else if("invalid_arguments"===r.code)n(r.argumentsError);else if(0===r.path.length)a._errors.push(t(r));else{let e=a,n=0;for(;n<r.path.length;){let a=r.path[n];n===r.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(t(r))):e[a]=e[a]||{_errors:[]},e=e[a],n++}}};return n(this),a}toString(){return this.message}get message(){return JSON.stringify(this.issues,c.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},a=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):a.push(e(n));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}nr.create=e=>new nr(e);let ni=(e,t)=>{let a;switch(e.code){case nn.invalid_type:a=e.received===nt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case nn.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,c.jsonStringifyReplacer)}`;break;case nn.unrecognized_keys:a=`Unrecognized key(s) in object: ${c.joinValues(e.keys,", ")}`;break;case nn.invalid_union:a="Invalid input";break;case nn.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${c.joinValues(e.options)}`;break;case nn.invalid_enum_value:a=`Invalid enum value. Expected ${c.joinValues(e.options)}, received '${e.received}'`;break;case nn.invalid_arguments:a="Invalid function arguments";break;case nn.invalid_return_type:a="Invalid function return type";break;case nn.invalid_date:a="Invalid date";break;case nn.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:c.assertNever(e.validation):a="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case nn.too_small:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case nn.too_big:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case nn.custom:a="Invalid input";break;case nn.invalid_intersection_types:a="Intersection results could not be merged";break;case nn.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case nn.not_finite:a="Number must be finite";break;default:a=t.defaultError,c.assertNever(e)}return{message:a}},ns=ni;function no(){return ns}let nc=e=>{let{data:t,path:a,errorMaps:n,issueData:r}=e,i=[...a,...r.path||[]],s={...r,path:i},o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...r,path:i,message:r.message||o}};function nl(e,t){let a=nc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,no(),ni].filter(e=>!!e)});e.common.issues.push(a)}class nd{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let a=[];for(let n of t){if("aborted"===n.status)return nu;"dirty"===n.status&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){let a=[];for(let e of t)a.push({key:await e.key,value:await e.value});return nd.mergeObjectSync(e,a)}static mergeObjectSync(e,t){let a={};for(let n of t){let{key:t,value:r}=n;if("aborted"===t.status||"aborted"===r.status)return nu;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==r.value||n.alwaysSet)&&(a[t.value]=r.value)}return{status:e.value,value:a}}}let nu=Object.freeze({status:"aborted"}),np=e=>({status:"dirty",value:e}),nh=e=>({status:"valid",value:e}),nm=e=>"aborted"===e.status,nf=e=>"dirty"===e.status,ng=e=>"valid"===e.status,nC=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(d||(d={}));class nE{constructor(e,t,a,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ny=(e,t)=>{if(ng(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new nr(e.common.issues);return this._error=t,this._error}}};function n_(e){if(!e)return{};let{errorMap:t,invalid_type_error:a,required_error:n,description:r}=e;if(t&&(a||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:r}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=n?n:t.defaultError}:{message:null!=a?a:t.defaultError},description:r}}class nw{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return na(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nd,ctx:{common:e.parent.common,data:e.data,parsedType:na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(nC(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;let n={common:{issues:[],async:null!==(a=null==t?void 0:t.async)&&void 0!==a&&a,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:na(e)},r=this._parseSync({data:e,path:n.path,parent:n});return ny(n,r)}async parseAsync(e,t){let a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){let a={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:na(e)},n=this._parse({data:e,path:a.path,parent:a});return ny(a,await (nC(n)?n:Promise.resolve(n)))}refine(e,t){let a=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let r=e(t),i=()=>n.addIssue({code:nn.custom,...a(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(i(),!1)):!!r||(i(),!1)})}refinement(e,t){return this._refinement((a,n)=>!!e(a)||(n.addIssue("function"==typeof t?t(a,n):t),!1))}_refinement(e){return new n4({schema:this,typeName:u.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return n9.create(this,this._def)}nullable(){return n6.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nH.create(this,this._def)}promise(){return n2.create(this,this._def)}or(e){return nq.create([this,e],this._def)}and(e){return nG.create(this,e,this._def)}transform(e){return new n4({...n_(this._def),schema:this,typeName:u.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new n7({...n_(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:u.ZodDefault})}brand(){return new ra({typeName:u.ZodBranded,type:this,...n_(this._def)})}catch(e){return new n8({...n_(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:u.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return rn.create(this,e)}readonly(){return rr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let nv=/^c[^\s-]{8,}$/i,nA=/^[a-z][a-z0-9]*$/,nN=/^[0-9A-HJKMNP-TV-Z]{26}$/,nb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nI=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nS=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,nT=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nR=e=>e.precision?e.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class nO extends nw{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==nt.string){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.string,received:t.parsedType}),nu}let a=new nd;for(let s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if("max"===s.kind)e.data.length>s.value&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if("length"===s.kind){let n=e.data.length>s.value,r=e.data.length<s.value;(n||r)&&(t=this._getOrReturnCtx(e,t),n?nl(t,{code:nn.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):r&&nl(t,{code:nn.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if("email"===s.kind)nI.test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{validation:"email",code:nn.invalid_string,message:s.message}),a.dirty());else if("emoji"===s.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:nn.invalid_string,message:s.message}),a.dirty());else if("uuid"===s.kind)nb.test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:nn.invalid_string,message:s.message}),a.dirty());else if("cuid"===s.kind)nv.test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:nn.invalid_string,message:s.message}),a.dirty());else if("cuid2"===s.kind)nA.test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:nn.invalid_string,message:s.message}),a.dirty());else if("ulid"===s.kind)nN.test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:nn.invalid_string,message:s.message}),a.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(n){nl(t=this._getOrReturnCtx(e,t),{validation:"url",code:nn.invalid_string,message:s.message}),a.dirty()}else if("regex"===s.kind)s.regex.lastIndex=0,s.regex.test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{validation:"regex",code:nn.invalid_string,message:s.message}),a.dirty());else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(nl(t=this._getOrReturnCtx(e,t),{code:nn.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(nl(t=this._getOrReturnCtx(e,t),{code:nn.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(nl(t=this._getOrReturnCtx(e,t),{code:nn.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty());else if("datetime"===s.kind)nR(s).test(e.data)||(nl(t=this._getOrReturnCtx(e,t),{code:nn.invalid_string,validation:"datetime",message:s.message}),a.dirty());else if("ip"===s.kind){var n,r;n=e.data,!(("v4"===(r=s.version)||!r)&&nS.test(n)||("v6"===r||!r)&&nT.test(n))&&(nl(t=this._getOrReturnCtx(e,t),{validation:"ip",code:nn.invalid_string,message:s.message}),a.dirty())}else c.assertNever(s);return{status:a.value,value:e.data}}_regex(e,t,a){return this.refinement(t=>e.test(t),{validation:t,code:nn.invalid_string,...d.errToObj(a)})}_addCheck(e){return new nO({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...d.errToObj(e)})}url(e){return this._addCheck({kind:"url",...d.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...d.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...d.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...d.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...d.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...d.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...d.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...d.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...d.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...d.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...d.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...d.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...d.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...d.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...d.errToObj(t)})}nonempty(e){return this.min(1,d.errToObj(e))}trim(){return new nO({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new nO({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new nO({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}nO.create=e=>{var t;return new nO({checks:[],typeName:u.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...n_(e)})};class nk extends nw{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==nt.number){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.number,received:t.parsedType}),nu}let a=new nd;for(let n of this._def.checks)"int"===n.kind?c.isInteger(e.data)||(nl(t=this._getOrReturnCtx(e,t),{code:nn.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):"multipleOf"===n.kind?0!==function(e,t){let a=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,r=a>n?a:n;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}(e.data,n.value)&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(nl(t=this._getOrReturnCtx(e,t),{code:nn.not_finite,message:n.message}),a.dirty()):c.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,a,n){return new nk({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:d.toString(n)}]})}_addCheck(e){return new nk({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:d.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&c.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===t||a.value>t)&&(t=a.value):"max"===a.kind&&(null===e||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}nk.create=e=>new nk({checks:[],typeName:u.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...n_(e)});class nP extends nw{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==nt.bigint){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.bigint,received:t.parsedType}),nu}let a=new nd;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):c.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,a,n){return new nP({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:d.toString(n)}]})}_addCheck(e){return new nP({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}nP.create=e=>{var t;return new nP({checks:[],typeName:u.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...n_(e)})};class nU extends nw{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==nt.boolean){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.boolean,received:t.parsedType}),nu}return nh(e.data)}}nU.create=e=>new nU({typeName:u.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...n_(e)});class nx extends nw{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==nt.date){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.date,received:t.parsedType}),nu}if(isNaN(e.data.getTime()))return nl(this._getOrReturnCtx(e),{code:nn.invalid_date}),nu;let a=new nd;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),a.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(nl(t=this._getOrReturnCtx(e,t),{code:nn.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),a.dirty()):c.assertNever(n);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nx({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}nx.create=e=>new nx({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:u.ZodDate,...n_(e)});class nD extends nw{_parse(e){if(this._getType(e)!==nt.symbol){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.symbol,received:t.parsedType}),nu}return nh(e.data)}}nD.create=e=>new nD({typeName:u.ZodSymbol,...n_(e)});class nM extends nw{_parse(e){if(this._getType(e)!==nt.undefined){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.undefined,received:t.parsedType}),nu}return nh(e.data)}}nM.create=e=>new nM({typeName:u.ZodUndefined,...n_(e)});class nL extends nw{_parse(e){if(this._getType(e)!==nt.null){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.null,received:t.parsedType}),nu}return nh(e.data)}}nL.create=e=>new nL({typeName:u.ZodNull,...n_(e)});class nF extends nw{constructor(){super(...arguments),this._any=!0}_parse(e){return nh(e.data)}}nF.create=e=>new nF({typeName:u.ZodAny,...n_(e)});class nj extends nw{constructor(){super(...arguments),this._unknown=!0}_parse(e){return nh(e.data)}}nj.create=e=>new nj({typeName:u.ZodUnknown,...n_(e)});class nB extends nw{_parse(e){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.never,received:t.parsedType}),nu}}nB.create=e=>new nB({typeName:u.ZodNever,...n_(e)});class nW extends nw{_parse(e){if(this._getType(e)!==nt.undefined){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.void,received:t.parsedType}),nu}return nh(e.data)}}nW.create=e=>new nW({typeName:u.ZodVoid,...n_(e)});class nH extends nw{_parse(e){let{ctx:t,status:a}=this._processInputParams(e),n=this._def;if(t.parsedType!==nt.array)return nl(t,{code:nn.invalid_type,expected:nt.array,received:t.parsedType}),nu;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,r=t.data.length<n.exactLength.value;(e||r)&&(nl(t,{code:e?nn.too_big:nn.too_small,minimum:r?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(nl(t,{code:nn.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(nl(t,{code:nn.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((e,a)=>n.type._parseAsync(new nE(t,e,t.path,a)))).then(e=>nd.mergeArray(a,e));let r=[...t.data].map((e,a)=>n.type._parseSync(new nE(t,e,t.path,a)));return nd.mergeArray(a,r)}get element(){return this._def.type}min(e,t){return new nH({...this._def,minLength:{value:e,message:d.toString(t)}})}max(e,t){return new nH({...this._def,maxLength:{value:e,message:d.toString(t)}})}length(e,t){return new nH({...this._def,exactLength:{value:e,message:d.toString(t)}})}nonempty(e){return this.min(1,e)}}nH.create=(e,t)=>new nH({type:e,minLength:null,maxLength:null,exactLength:null,typeName:u.ZodArray,...n_(t)});class nK extends nw{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=c.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==nt.object){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.object,received:t.parsedType}),nu}let{status:t,ctx:a}=this._processInputParams(e),{shape:n,keys:r}=this._getCached(),i=[];if(!(this._def.catchall instanceof nB&&"strip"===this._def.unknownKeys))for(let e in a.data)r.includes(e)||i.push(e);let s=[];for(let e of r){let t=n[e],r=a.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new nE(a,r,a.path,e)),alwaysSet:e in a.data})}if(this._def.catchall instanceof nB){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:a.data[e]}});else if("strict"===e)i.length>0&&(nl(a,{code:nn.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=a.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new nE(a,n,a.path,t)),alwaysSet:t in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let a=await t.key;e.push({key:a,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>nd.mergeObjectSync(t,e)):nd.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return d.errToObj,new nK({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,a)=>{var n,r,i,s;let o=null!==(i=null===(r=(n=this._def).errorMap)||void 0===r?void 0:r.call(n,t,a).message)&&void 0!==i?i:a.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=d.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new nK({...this._def,unknownKeys:"strip"})}passthrough(){return new nK({...this._def,unknownKeys:"passthrough"})}extend(e){return new nK({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nK({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:u.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new nK({...this._def,catchall:e})}pick(e){let t={};return c.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(t[a]=this.shape[a])}),new nK({...this._def,shape:()=>t})}omit(e){let t={};return c.objectKeys(this.shape).forEach(a=>{e[a]||(t[a]=this.shape[a])}),new nK({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof nK){let a={};for(let n in t.shape){let r=t.shape[n];a[n]=n9.create(e(r))}return new nK({...t._def,shape:()=>a})}if(t instanceof nH)return new nH({...t._def,type:e(t.element)});if(t instanceof n9)return n9.create(e(t.unwrap()));if(t instanceof n6)return n6.create(e(t.unwrap()));if(t instanceof nZ)return nZ.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};return c.objectKeys(this.shape).forEach(a=>{let n=this.shape[a];e&&!e[a]?t[a]=n:t[a]=n.optional()}),new nK({...this._def,shape:()=>t})}required(e){let t={};return c.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])t[a]=this.shape[a];else{let e=this.shape[a];for(;e instanceof n9;)e=e._def.innerType;t[a]=e}}),new nK({...this._def,shape:()=>t})}keyof(){return n1(c.objectKeys(this.shape))}}nK.create=(e,t)=>new nK({shape:()=>e,unknownKeys:"strip",catchall:nB.create(),typeName:u.ZodObject,...n_(t)}),nK.strictCreate=(e,t)=>new nK({shape:()=>e,unknownKeys:"strict",catchall:nB.create(),typeName:u.ZodObject,...n_(t)}),nK.lazycreate=(e,t)=>new nK({shape:e,unknownKeys:"strip",catchall:nB.create(),typeName:u.ZodObject,...n_(t)});class nq extends nw{_parse(e){let{ctx:t}=this._processInputParams(e),a=this._def.options;if(t.common.async)return Promise.all(a.map(async e=>{let a={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;let a=e.map(e=>new nr(e.ctx.common.issues));return nl(t,{code:nn.invalid_union,unionErrors:a}),nu});{let e;let n=[];for(let r of a){let a={...t,common:{...t.common,issues:[]},parent:null},i=r._parseSync({data:t.data,path:t.path,parent:a});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:a}),a.common.issues.length&&n.push(a.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let r=n.map(e=>new nr(e));return nl(t,{code:nn.invalid_union,unionErrors:r}),nu}}get options(){return this._def.options}}nq.create=(e,t)=>new nq({options:e,typeName:u.ZodUnion,...n_(t)});let n$=e=>{if(e instanceof nQ)return n$(e.schema);if(e instanceof n4)return n$(e.innerType());if(e instanceof n0)return[e.value];if(e instanceof n5)return e.options;if(e instanceof n3)return Object.keys(e.enum);else if(e instanceof n7)return n$(e._def.innerType);else if(e instanceof nM)return[void 0];else if(e instanceof nL)return[null];else return null};class nV extends nw{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.object)return nl(t,{code:nn.invalid_type,expected:nt.object,received:t.parsedType}),nu;let a=this.discriminator,n=t.data[a],r=this.optionsMap.get(n);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(nl(t,{code:nn.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),nu)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,a){let n=new Map;for(let a of t){let t=n$(a.shape[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let r of t){if(n.has(r))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);n.set(r,a)}}return new nV({typeName:u.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...n_(a)})}}class nG extends nw{_parse(e){let{status:t,ctx:a}=this._processInputParams(e),n=(e,n)=>{if(nm(e)||nm(n))return nu;let r=function e(t,a){let n=na(t),r=na(a);if(t===a)return{valid:!0,data:t};if(n===nt.object&&r===nt.object){let n=c.objectKeys(a),r=c.objectKeys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...a};for(let n of r){let r=e(t[n],a[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===nt.array&&r===nt.array){if(t.length!==a.length)return{valid:!1};let n=[];for(let r=0;r<t.length;r++){let i=e(t[r],a[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}if(n===nt.date&&r===nt.date&&+t==+a)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return r.valid?((nf(e)||nf(n))&&t.dirty(),{status:t.value,value:r.data}):(nl(a,{code:nn.invalid_intersection_types}),nu)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}nG.create=(e,t,a)=>new nG({left:e,right:t,typeName:u.ZodIntersection,...n_(a)});class nZ extends nw{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==nt.array)return nl(a,{code:nn.invalid_type,expected:nt.array,received:a.parsedType}),nu;if(a.data.length<this._def.items.length)return nl(a,{code:nn.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nu;!this._def.rest&&a.data.length>this._def.items.length&&(nl(a,{code:nn.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...a.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new nE(a,e,a.path,t)):null}).filter(e=>!!e);return a.common.async?Promise.all(n).then(e=>nd.mergeArray(t,e)):nd.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new nZ({...this._def,rest:e})}}nZ.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new nZ({items:e,typeName:u.ZodTuple,rest:null,...n_(t)})};class nY extends nw{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==nt.object)return nl(a,{code:nn.invalid_type,expected:nt.object,received:a.parsedType}),nu;let n=[],r=this._def.keyType,i=this._def.valueType;for(let e in a.data)n.push({key:r._parse(new nE(a,e,a.path,e)),value:i._parse(new nE(a,a.data[e],a.path,e))});return a.common.async?nd.mergeObjectAsync(t,n):nd.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,a){return new nY(t instanceof nw?{keyType:e,valueType:t,typeName:u.ZodRecord,...n_(a)}:{keyType:nO.create(),valueType:e,typeName:u.ZodRecord,...n_(t)})}}class nJ extends nw{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==nt.map)return nl(a,{code:nn.invalid_type,expected:nt.map,received:a.parsedType}),nu;let n=this._def.keyType,r=this._def.valueType,i=[...a.data.entries()].map(([e,t],i)=>({key:n._parse(new nE(a,e,a.path,[i,"key"])),value:r._parse(new nE(a,t,a.path,[i,"value"]))}));if(a.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let a of i){let n=await a.key,r=await a.value;if("aborted"===n.status||"aborted"===r.status)return nu;("dirty"===n.status||"dirty"===r.status)&&t.dirty(),e.set(n.value,r.value)}return{status:t.value,value:e}})}{let e=new Map;for(let a of i){let n=a.key,r=a.value;if("aborted"===n.status||"aborted"===r.status)return nu;("dirty"===n.status||"dirty"===r.status)&&t.dirty(),e.set(n.value,r.value)}return{status:t.value,value:e}}}}nJ.create=(e,t,a)=>new nJ({valueType:t,keyType:e,typeName:u.ZodMap,...n_(a)});class nz extends nw{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==nt.set)return nl(a,{code:nn.invalid_type,expected:nt.set,received:a.parsedType}),nu;let n=this._def;null!==n.minSize&&a.data.size<n.minSize.value&&(nl(a,{code:nn.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&a.data.size>n.maxSize.value&&(nl(a,{code:nn.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let r=this._def.valueType;function i(e){let a=new Set;for(let n of e){if("aborted"===n.status)return nu;"dirty"===n.status&&t.dirty(),a.add(n.value)}return{status:t.value,value:a}}let s=[...a.data.values()].map((e,t)=>r._parse(new nE(a,e,a.path,t)));return a.common.async?Promise.all(s).then(e=>i(e)):i(s)}min(e,t){return new nz({...this._def,minSize:{value:e,message:d.toString(t)}})}max(e,t){return new nz({...this._def,maxSize:{value:e,message:d.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}nz.create=(e,t)=>new nz({valueType:e,minSize:null,maxSize:null,typeName:u.ZodSet,...n_(t)});class nX extends nw{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.function)return nl(t,{code:nn.invalid_type,expected:nt.function,received:t.parsedType}),nu;function a(e,a){return nc({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,no(),ni].filter(e=>!!e),issueData:{code:nn.invalid_arguments,argumentsError:a}})}function n(e,a){return nc({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,no(),ni].filter(e=>!!e),issueData:{code:nn.invalid_return_type,returnTypeError:a}})}let r={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof n2){let e=this;return nh(async function(...t){let s=new nr([]),o=await e._def.args.parseAsync(t,r).catch(e=>{throw s.addIssue(a(t,e)),s}),c=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(c,r).catch(e=>{throw s.addIssue(n(c,e)),s})})}{let e=this;return nh(function(...t){let s=e._def.args.safeParse(t,r);if(!s.success)throw new nr([a(t,s.error)]);let o=Reflect.apply(i,this,s.data),c=e._def.returns.safeParse(o,r);if(!c.success)throw new nr([n(o,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nX({...this._def,args:nZ.create(e).rest(nj.create())})}returns(e){return new nX({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,a){return new nX({args:e||nZ.create([]).rest(nj.create()),returns:t||nj.create(),typeName:u.ZodFunction,...n_(a)})}}class nQ extends nw{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}nQ.create=(e,t)=>new nQ({getter:e,typeName:u.ZodLazy,...n_(t)});class n0 extends nw{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return nl(t,{received:t.data,code:nn.invalid_literal,expected:this._def.value}),nu}return{status:"valid",value:e.data}}get value(){return this._def.value}}function n1(e,t){return new n5({values:e,typeName:u.ZodEnum,...n_(t)})}n0.create=(e,t)=>new n0({value:e,typeName:u.ZodLiteral,...n_(t)});class n5 extends nw{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),a=this._def.values;return nl(t,{expected:c.joinValues(a),received:t.parsedType,code:nn.invalid_type}),nu}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),a=this._def.values;return nl(t,{received:t.data,code:nn.invalid_enum_value,options:a}),nu}return nh(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return n5.create(e)}exclude(e){return n5.create(this.options.filter(t=>!e.includes(t)))}}n5.create=n1;class n3 extends nw{_parse(e){let t=c.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==nt.string&&a.parsedType!==nt.number){let e=c.objectValues(t);return nl(a,{expected:c.joinValues(e),received:a.parsedType,code:nn.invalid_type}),nu}if(-1===t.indexOf(e.data)){let e=c.objectValues(t);return nl(a,{received:a.data,code:nn.invalid_enum_value,options:e}),nu}return nh(e.data)}get enum(){return this._def.values}}n3.create=(e,t)=>new n3({values:e,typeName:u.ZodNativeEnum,...n_(t)});class n2 extends nw{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==nt.promise&&!1===t.common.async?(nl(t,{code:nn.invalid_type,expected:nt.promise,received:t.parsedType}),nu):nh((t.parsedType===nt.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}n2.create=(e,t)=>new n2({type:e,typeName:u.ZodPromise,...n_(t)});class n4 extends nw{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===u.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:a}=this._processInputParams(e),n=this._def.effect||null,r={addIssue:e=>{nl(a,e),e.fatal?t.abort():t.dirty()},get path(){return a.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===n.type){let e=n.transform(a.data,r);return a.common.issues.length?{status:"dirty",value:a.data}:a.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:a.path,parent:a})):this._def.schema._parseSync({data:e,path:a.path,parent:a})}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,r);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(a=>"aborted"===a.status?nu:("dirty"===a.status&&t.dirty(),e(a.value).then(()=>({status:t.value,value:a.value}))));{let n=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===n.status?nu:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(e=>ng(e)?Promise.resolve(n.transform(e.value,r)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!ng(e))return e;let i=n.transform(e.value,r);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}c.assertNever(n)}}n4.create=(e,t,a)=>new n4({schema:e,typeName:u.ZodEffects,effect:t,...n_(a)}),n4.createWithPreprocess=(e,t,a)=>new n4({schema:t,effect:{type:"preprocess",transform:e},typeName:u.ZodEffects,...n_(a)});class n9 extends nw{_parse(e){return this._getType(e)===nt.undefined?nh(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}n9.create=(e,t)=>new n9({innerType:e,typeName:u.ZodOptional,...n_(t)});class n6 extends nw{_parse(e){return this._getType(e)===nt.null?nh(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}n6.create=(e,t)=>new n6({innerType:e,typeName:u.ZodNullable,...n_(t)});class n7 extends nw{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return t.parsedType===nt.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}n7.create=(e,t)=>new n7({innerType:e,typeName:u.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...n_(t)});class n8 extends nw{_parse(e){let{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return nC(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new nr(a.common.issues)},input:a.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new nr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}n8.create=(e,t)=>new n8({innerType:e,typeName:u.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...n_(t)});class re extends nw{_parse(e){if(this._getType(e)!==nt.nan){let t=this._getOrReturnCtx(e);return nl(t,{code:nn.invalid_type,expected:nt.nan,received:t.parsedType}),nu}return{status:"valid",value:e.data}}}re.create=e=>new re({typeName:u.ZodNaN,...n_(e)});let rt=Symbol("zod_brand");class ra extends nw{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class rn extends nw{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?nu:"dirty"===e.status?(t.dirty(),np(e.value)):this._def.out._parseAsync({data:e.value,path:a.path,parent:a})})();{let e=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?nu:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:a.path,parent:a})}}static create(e,t){return new rn({in:e,out:t,typeName:u.ZodPipeline})}}class rr extends nw{_parse(e){let t=this._def.innerType._parse(e);return ng(t)&&(t.value=Object.freeze(t.value)),t}}rr.create=(e,t)=>new rr({innerType:e,typeName:u.ZodReadonly,...n_(t)});let ri=(e,t={},a)=>e?nF.create().superRefine((n,r)=>{var i,s;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:a)||void 0===s||s,c="string"==typeof e?{message:e}:e;r.addIssue({code:"custom",...c,fatal:o})}}):nF.create(),rs={object:nK.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(u||(u={}));let ro=nO.create,rc=nk.create,rl=re.create,rd=nP.create,ru=nU.create,rp=nx.create,rh=nD.create,rm=nM.create,rf=nL.create,rg=nF.create,rC=nj.create,rE=nB.create,ry=nW.create,r_=nH.create,rw=nK.create,rv=nK.strictCreate,rA=nq.create,rN=nV.create,rb=nG.create,rI=nZ.create,rS=nY.create,rT=nJ.create,rR=nz.create,rO=nX.create,rk=nQ.create,rP=n0.create,rU=n5.create,rx=n3.create,rD=n2.create,rM=n4.create,rL=n9.create,rF=n6.create,rj=n4.createWithPreprocess,rB=rn.create;var rW=Object.freeze({__proto__:null,defaultErrorMap:ni,setErrorMap:function(e){ns=e},getErrorMap:no,makeIssue:nc,EMPTY_PATH:[],addIssueToContext:nl,ParseStatus:nd,INVALID:nu,DIRTY:np,OK:nh,isAborted:nm,isDirty:nf,isValid:ng,isAsync:nC,get util(){return c},get objectUtil(){return l},ZodParsedType:nt,getParsedType:na,ZodType:nw,ZodString:nO,ZodNumber:nk,ZodBigInt:nP,ZodBoolean:nU,ZodDate:nx,ZodSymbol:nD,ZodUndefined:nM,ZodNull:nL,ZodAny:nF,ZodUnknown:nj,ZodNever:nB,ZodVoid:nW,ZodArray:nH,ZodObject:nK,ZodUnion:nq,ZodDiscriminatedUnion:nV,ZodIntersection:nG,ZodTuple:nZ,ZodRecord:nY,ZodMap:nJ,ZodSet:nz,ZodFunction:nX,ZodLazy:nQ,ZodLiteral:n0,ZodEnum:n5,ZodNativeEnum:n3,ZodPromise:n2,ZodEffects:n4,ZodTransformer:n4,ZodOptional:n9,ZodNullable:n6,ZodDefault:n7,ZodCatch:n8,ZodNaN:re,BRAND:rt,ZodBranded:ra,ZodPipeline:rn,ZodReadonly:rr,custom:ri,Schema:nw,ZodSchema:nw,late:rs,get ZodFirstPartyTypeKind(){return u},coerce:{string:e=>nO.create({...e,coerce:!0}),number:e=>nk.create({...e,coerce:!0}),boolean:e=>nU.create({...e,coerce:!0}),bigint:e=>nP.create({...e,coerce:!0}),date:e=>nx.create({...e,coerce:!0})},any:rg,array:r_,bigint:rd,boolean:ru,date:rp,discriminatedUnion:rN,effect:rM,enum:rU,function:rO,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ri(t=>t instanceof e,t),intersection:rb,lazy:rk,literal:rP,map:rT,nan:rl,nativeEnum:rx,never:rE,null:rf,nullable:rF,number:rc,object:rw,oboolean:()=>ru().optional(),onumber:()=>rc().optional(),optional:rL,ostring:()=>ro().optional(),pipeline:rB,preprocess:rj,promise:rD,record:rS,set:rR,strictObject:rv,string:ro,symbol:rh,transformer:rM,tuple:rI,undefined:rm,union:rA,unknown:rC,void:ry,NEVER:nu,ZodIssueCode:nn,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:nr});let rH=rW.object({message:rW.string()});function rK(e){return rW.literal(tu[e])}let rq=rW.object({serializedMessage:rW.string().optional(),accountAddress:rW.string(),chainId:rW.string(),notBefore:rW.string().optional(),domain:rW.string(),uri:rW.string(),version:rW.string(),nonce:rW.string(),statement:rW.string().optional(),resources:rW.array(rW.string()).optional(),requestId:rW.string().optional(),issuedAt:rW.string().optional(),expirationTime:rW.string().optional()});rW.object({accessList:rW.array(rW.string()),blockHash:rW.string().nullable(),blockNumber:rW.string().nullable(),chainId:rW.string().or(rW.number()),from:rW.string(),gas:rW.string(),hash:rW.string(),input:rW.string().nullable(),maxFeePerGas:rW.string(),maxPriorityFeePerGas:rW.string(),nonce:rW.string(),r:rW.string(),s:rW.string(),to:rW.string(),transactionIndex:rW.string().nullable(),type:rW.string(),v:rW.string(),value:rW.string()});let r$=rW.object({chainId:rW.string().or(rW.number()),rpcUrl:rW.optional(rW.string())}),rV=rW.object({email:rW.string().email()}),rG=rW.object({otp:rW.string()}),rZ=rW.object({uri:rW.string(),preferredAccountType:rW.optional(rW.string()),chainId:rW.optional(rW.string().or(rW.number())),siwxMessage:rW.optional(rq),rpcUrl:rW.optional(rW.string())}),rY=rW.object({chainId:rW.optional(rW.string().or(rW.number())),preferredAccountType:rW.optional(rW.string()),socialUri:rW.optional(rW.string()),siwxMessage:rW.optional(rq),rpcUrl:rW.optional(rW.string())}),rJ=rW.object({provider:rW.enum(["google","github","apple","facebook","x","discord"])}),rz=rW.object({email:rW.string().email()}),rX=rW.object({otp:rW.string()}),rQ=rW.object({otp:rW.string()}),r0=rW.object({themeMode:rW.optional(rW.enum(["light","dark"])),themeVariables:rW.optional(rW.record(rW.string(),rW.string().or(rW.number()))),w3mThemeVariables:rW.optional(rW.record(rW.string(),rW.string()))}),r1=rW.object({metadata:rW.object({name:rW.string(),description:rW.string(),url:rW.string(),icons:rW.array(rW.string())}).optional(),sdkVersion:rW.string().optional(),sdkType:rW.string().optional(),projectId:rW.string()}),r5=rW.object({type:rW.string()}),r3=rW.object({action:rW.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),r2=rW.object({url:rW.string()}),r4=rW.object({userName:rW.string()}),r9=rW.object({email:rW.string().optional().nullable(),address:rW.string(),chainId:rW.string().or(rW.number()),accounts:rW.array(rW.object({address:rW.string(),type:rW.enum([tp.ACCOUNT_TYPES.EOA,tp.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:rW.string().optional().nullable(),preferredAccountType:rW.optional(rW.string()),signature:rW.string().optional(),message:rW.string().optional(),siwxMessage:rW.optional(rq)}),r6=rW.object({action:rW.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),r7=rW.object({email:rW.string().email().optional().nullable(),address:rW.string(),chainId:rW.string().or(rW.number()),smartAccountDeployed:rW.optional(rW.boolean()),accounts:rW.array(rW.object({address:rW.string(),type:rW.enum([tp.ACCOUNT_TYPES.EOA,tp.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:rW.optional(rW.string()),signature:rW.string().optional(),message:rW.string().optional(),siwxMessage:rW.optional(rq)}),r8=rW.object({uri:rW.string()}),ie=rW.object({isConnected:rW.boolean()}),it=rW.object({chainId:rW.string().or(rW.number())}),ia=rW.object({chainId:rW.string().or(rW.number())}),ir=rW.object({newEmail:rW.string().email()}),ii=rW.object({smartAccountEnabledNetworks:rW.array(rW.number())});rW.object({address:rW.string(),isDeployed:rW.boolean()});let is=rW.object({version:rW.string().optional()}),io=rW.object({type:rW.string(),address:rW.string()}),ic=rW.any(),il=rW.object({method:rW.literal("eth_accounts")}),id=rW.object({method:rW.literal("eth_blockNumber")}),iu=rW.object({method:rW.literal("eth_call"),params:rW.array(rW.any())}),ip=rW.object({method:rW.literal("eth_chainId")}),ih=rW.object({method:rW.literal("eth_estimateGas"),params:rW.array(rW.any())}),im=rW.object({method:rW.literal("eth_feeHistory"),params:rW.array(rW.any())}),ig=rW.object({method:rW.literal("eth_gasPrice")}),iC=rW.object({method:rW.literal("eth_getAccount"),params:rW.array(rW.any())}),iE=rW.object({method:rW.literal("eth_getBalance"),params:rW.array(rW.any())}),iy=rW.object({method:rW.literal("eth_getBlockByHash"),params:rW.array(rW.any())}),i_=rW.object({method:rW.literal("eth_getBlockByNumber"),params:rW.array(rW.any())}),iw=rW.object({method:rW.literal("eth_getBlockReceipts"),params:rW.array(rW.any())}),iv=rW.object({method:rW.literal("eth_getBlockTransactionCountByHash"),params:rW.array(rW.any())}),iA=rW.object({method:rW.literal("eth_getBlockTransactionCountByNumber"),params:rW.array(rW.any())}),iN=rW.object({method:rW.literal("eth_getCode"),params:rW.array(rW.any())}),ib=rW.object({method:rW.literal("eth_getFilterChanges"),params:rW.array(rW.any())}),iI=rW.object({method:rW.literal("eth_getFilterLogs"),params:rW.array(rW.any())}),iS=rW.object({method:rW.literal("eth_getLogs"),params:rW.array(rW.any())}),iT=rW.object({method:rW.literal("eth_getProof"),params:rW.array(rW.any())}),iR=rW.object({method:rW.literal("eth_getStorageAt"),params:rW.array(rW.any())}),iO=rW.object({method:rW.literal("eth_getTransactionByBlockHashAndIndex"),params:rW.array(rW.any())}),ik=rW.object({method:rW.literal("eth_getTransactionByBlockNumberAndIndex"),params:rW.array(rW.any())}),iP=rW.object({method:rW.literal("eth_getTransactionByHash"),params:rW.array(rW.any())}),iU=rW.object({method:rW.literal("eth_getTransactionCount"),params:rW.array(rW.any())}),ix=rW.object({method:rW.literal("eth_getTransactionReceipt"),params:rW.array(rW.any())}),iD=rW.object({method:rW.literal("eth_getUncleCountByBlockHash"),params:rW.array(rW.any())}),iM=rW.object({method:rW.literal("eth_getUncleCountByBlockNumber"),params:rW.array(rW.any())}),iL=rW.object({method:rW.literal("eth_maxPriorityFeePerGas")}),iF=rW.object({method:rW.literal("eth_newBlockFilter")}),ij=rW.object({method:rW.literal("eth_newFilter"),params:rW.array(rW.any())}),iB=rW.object({method:rW.literal("eth_newPendingTransactionFilter")}),iW=rW.object({method:rW.literal("eth_sendRawTransaction"),params:rW.array(rW.any())}),iH=rW.object({method:rW.literal("eth_syncing"),params:rW.array(rW.any())}),iK=rW.object({method:rW.literal("eth_uninstallFilter"),params:rW.array(rW.any())}),iq=rW.object({method:rW.literal("personal_sign"),params:rW.array(rW.any())}),i$=rW.object({method:rW.literal("eth_signTypedData_v4"),params:rW.array(rW.any())}),iV=rW.object({method:rW.literal("eth_sendTransaction"),params:rW.array(rW.any())}),iG=rW.object({method:rW.literal("solana_signMessage"),params:rW.object({message:rW.string(),pubkey:rW.string()})}),iZ=rW.object({method:rW.literal("solana_signTransaction"),params:rW.object({transaction:rW.string()})}),iY=rW.object({method:rW.literal("solana_signAllTransactions"),params:rW.object({transactions:rW.array(rW.string())})}),iJ=rW.object({method:rW.literal("solana_signAndSendTransaction"),params:rW.object({transaction:rW.string(),options:rW.object({skipPreflight:rW.boolean().optional(),preflightCommitment:rW.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:rW.number().optional(),minContextSlot:rW.number().optional()}).optional()})}),iz=rW.object({method:rW.literal("wallet_sendCalls"),params:rW.array(rW.object({chainId:rW.string().or(rW.number()).optional(),from:rW.string().optional(),version:rW.string().optional(),capabilities:rW.any().optional(),calls:rW.array(rW.object({to:rW.string().startsWith("0x"),data:rW.string().startsWith("0x").optional(),value:rW.string().optional()}))}))}),iX=rW.object({method:rW.literal("wallet_getCallsStatus"),params:rW.array(rW.string())}),iQ=rW.object({method:rW.literal("wallet_getCapabilities"),params:rW.array(rW.string().or(rW.number()).optional()).optional()}),i0=rW.object({method:rW.literal("wallet_grantPermissions"),params:rW.array(rW.any())}),i1=rW.object({method:rW.literal("wallet_revokePermissions"),params:rW.any()}),i5=rW.object({method:rW.literal("wallet_getAssets"),params:rW.any()}),i3=rW.object({token:rW.string()}),i2=rW.object({id:rW.string().optional()}),i4={appEvent:i2.extend({type:rK("APP_SWITCH_NETWORK"),payload:r$}).or(i2.extend({type:rK("APP_CONNECT_EMAIL"),payload:rV})).or(i2.extend({type:rK("APP_CONNECT_DEVICE")})).or(i2.extend({type:rK("APP_CONNECT_OTP"),payload:rG})).or(i2.extend({type:rK("APP_CONNECT_SOCIAL"),payload:rZ})).or(i2.extend({type:rK("APP_GET_FARCASTER_URI")})).or(i2.extend({type:rK("APP_CONNECT_FARCASTER")})).or(i2.extend({type:rK("APP_GET_USER"),payload:rW.optional(rY)})).or(i2.extend({type:rK("APP_GET_SOCIAL_REDIRECT_URI"),payload:rJ})).or(i2.extend({type:rK("APP_SIGN_OUT")})).or(i2.extend({type:rK("APP_IS_CONNECTED"),payload:rW.optional(i3)})).or(i2.extend({type:rK("APP_GET_CHAIN_ID")})).or(i2.extend({type:rK("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(i2.extend({type:rK("APP_INIT_SMART_ACCOUNT")})).or(i2.extend({type:rK("APP_SET_PREFERRED_ACCOUNT"),payload:r5})).or(i2.extend({type:rK("APP_RPC_REQUEST"),payload:iq.or(i5).or(il).or(id).or(iu).or(ip).or(ih).or(im).or(ig).or(iC).or(iE).or(iy).or(i_).or(iw).or(iv).or(iA).or(iN).or(ib).or(iI).or(iS).or(iT).or(iR).or(iO).or(ik).or(iP).or(iU).or(ix).or(iD).or(iM).or(iL).or(iF).or(ij).or(iB).or(iW).or(iH).or(iK).or(iq).or(i$).or(iV).or(iG).or(iZ).or(iY).or(iJ).or(iX).or(iz).or(iQ).or(i0).or(i1).and(rW.object({chainId:rW.string().or(rW.number()).optional(),chainNamespace:rW.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:rW.string().optional()}))})).or(i2.extend({type:rK("APP_UPDATE_EMAIL"),payload:rz})).or(i2.extend({type:rK("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:rX})).or(i2.extend({type:rK("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:rQ})).or(i2.extend({type:rK("APP_SYNC_THEME"),payload:r0})).or(i2.extend({type:rK("APP_SYNC_DAPP_DATA"),payload:r1})).or(i2.extend({type:rK("APP_RELOAD")})).or(i2.extend({type:rK("APP_RPC_ABORT")})),frameEvent:i2.extend({type:rK("FRAME_SWITCH_NETWORK_ERROR"),payload:rH}).or(i2.extend({type:rK("FRAME_SWITCH_NETWORK_SUCCESS"),payload:ia})).or(i2.extend({type:rK("FRAME_CONNECT_EMAIL_SUCCESS"),payload:r3})).or(i2.extend({type:rK("FRAME_CONNECT_EMAIL_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:r2})).or(i2.extend({type:rK("FRAME_GET_FARCASTER_URI_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:r4})).or(i2.extend({type:rK("FRAME_CONNECT_FARCASTER_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_CONNECT_OTP_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_CONNECT_OTP_SUCCESS")})).or(i2.extend({type:rK("FRAME_CONNECT_DEVICE_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_CONNECT_DEVICE_SUCCESS")})).or(i2.extend({type:rK("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:r9})).or(i2.extend({type:rK("FRAME_CONNECT_SOCIAL_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_GET_USER_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_GET_USER_SUCCESS"),payload:r7})).or(i2.extend({type:rK("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:r8})).or(i2.extend({type:rK("FRAME_SIGN_OUT_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_SIGN_OUT_SUCCESS")})).or(i2.extend({type:rK("FRAME_IS_CONNECTED_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_IS_CONNECTED_SUCCESS"),payload:ie})).or(i2.extend({type:rK("FRAME_GET_CHAIN_ID_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_GET_CHAIN_ID_SUCCESS"),payload:it})).or(i2.extend({type:rK("FRAME_RPC_REQUEST_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_RPC_REQUEST_SUCCESS"),payload:ic})).or(i2.extend({type:rK("FRAME_SESSION_UPDATE"),payload:i3})).or(i2.extend({type:rK("FRAME_UPDATE_EMAIL_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_UPDATE_EMAIL_SUCCESS"),payload:r6})).or(i2.extend({type:rK("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(i2.extend({type:rK("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:ir})).or(i2.extend({type:rK("FRAME_SYNC_THEME_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_SYNC_THEME_SUCCESS")})).or(i2.extend({type:rK("FRAME_SYNC_DAPP_DATA_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(i2.extend({type:rK("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:ii})).or(i2.extend({type:rK("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:io})).or(i2.extend({type:rK("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_READY"),payload:is})).or(i2.extend({type:rK("FRAME_RELOAD_ERROR"),payload:rH})).or(i2.extend({type:rK("FRAME_RELOAD_SUCCESS")}))};function i9(e,t={}){return"string"==typeof t?.type&&t?.type?.includes(e)}class i6{constructor({projectId:e,isAppClient:t=!1,chainId:a="eip155:1",enableLogger:n=!0,enableCloudAuthAccount:r=!1,rpcUrl:i=eD.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{let e=document.getElementById("w3m-iframe");this.iframe&&!e&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(e,t,a)=>{function n({data:a}){if(!i9(tu.FRAME_EVENT_KEY,a))return;let r=i4.frameEvent.safeParse(a);if(!r.success){console.warn("W3mFrame: invalid frame event",r.error.message);return}r.data?.id===e&&(t(r.data),window.removeEventListener("message",n))}tm.isClient&&(window.addEventListener("message",n),a.addEventListener("abort",()=>{window.removeEventListener("message",n)}))},onFrameEvent:e=>{tm.isClient&&window.addEventListener("message",({data:t})=>{if(!i9(tu.FRAME_EVENT_KEY,t))return;let a=i4.frameEvent.safeParse(t);a.success?e(a.data):console.warn("W3mFrame: invalid frame event",a.error.message)})},onAppEvent:e=>{tm.isClient&&window.addEventListener("message",({data:t})=>{if(!i9(tu.APP_EVENT_KEY,t))return;let a=i4.appEvent.safeParse(t);a.success||console.warn("W3mFrame: invalid app event",a.error.message),e(t)})},postAppEvent:e=>{if(tm.isClient){if(!this.iframe?.contentWindow)throw Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(e,"*")}},postFrameEvent:e=>{if(tm.isClient){if(!parent)throw Error("W3mFrame: parent is not set");parent.postMessage(e,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}}),this.rpcUrl=i,t&&(this.frameLoadPromise=new Promise((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}}),tm.isClient)){let t=document.createElement("iframe");t.id="w3m-iframe",t.src=function({projectId:e,chainId:t,enableLogger:a,rpcUrl:n=eD.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:r=!1}){let i=new URL(tc);i.searchParams.set("projectId",e),i.searchParams.set("chainId",String(t)),i.searchParams.set("version",td),i.searchParams.set("enableLogger",String(a)),i.searchParams.set("rpcUrl",n);let s=tf.get("dapp_smart_account_version");return s&&("v6"===s||"v7"===s)&&(console.warn(">> AppKit - Forcing smart account version",s),i.searchParams.set("smartAccountVersion",s)),r&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}({projectId:e,chainId:a,enableLogger:n,rpcUrl:this.rpcUrl,enableCloudAuthAccount:r}),t.name="w3m-secure-iframe",t.style.position="fixed",t.style.zIndex="999999",t.style.display="none",t.style.border="none",t.style.animationDelay="0s, 50ms",t.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",t.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=t,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(e=>{"@w3m-frame/READY"===e.type&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){return Object.assign({},...["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(e=>({[e]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${e}&projectId=${this.projectId}`,chainId:e}})))}}var i7=a(19655);class i8{constructor(e){let t=(0,i7.iP)({level:tl}),{logger:a,chunkLoggerController:n}=(0,i7.D5)({opts:t});this.logger=(0,i7.U5)(a,this.constructor.name),this.chunkLoggerController=n,"undefined"!=typeof window&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class se{constructor({projectId:e,chainId:t,enableLogger:a=!0,onTimeout:n,abortController:r,getActiveCaipNetwork:i,getCaipNetworks:s,enableCloudAuthAccount:o,metadata:c,sdkVersion:l,sdkType:d}){this.openRpcRequests=new Map,this.isInitialized=!1,a&&(this.w3mLogger=new i8(e)),this.abortController=r,this.getActiveCaipNetwork=i,this.getCaipNetworks=s;let u=this.getRpcUrl(t);this.projectId=e,this.sdkVersion=l,this.sdkType=d,this.metadata=c,this.w3mFrame=new i6({projectId:e,isAppClient:!0,chainId:t,enableLogger:a,rpcUrl:u,enableCloudAuthAccount:o}),this.onTimeout=n,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(t=>{t.type===tu.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!tf.get(tu.EMAIL_LOGIN_USED_KEY)}getEmail(){return tf.get(tu.EMAIL)}getUsername(){return tf.get(tu.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:tu.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{tm.checkIfAllowedToTriggerEmail(),await this.init();let t=await this.appEvent({type:tu.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting email"),e}}async connectDevice(){try{return this.appEvent({type:tu.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:tu.APP_CONNECT_OTP,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting otp"),e}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};let e=await this.appEvent({type:tu.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{let e=await this.appEvent({type:tu.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:tu.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting social redirect uri"),e}}async updateEmail(e){try{let t=await this.appEvent({type:tu.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email"),e}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:tu.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email primary otp"),e}}async updateEmailSecondaryOtp(e){try{let t=await this.appEvent({type:tu.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(t.newEmail),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email secondary otp"),e}}async syncTheme(e){try{return this.appEvent({type:tu.APP_SYNC_THEME,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing theme"),e}}async syncDappData(e){try{return this.appEvent({type:tu.APP_SYNC_DAPP_DATA,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing dapp data"),e}}async getSmartAccountEnabledNetworks(){try{let e=await this.appEvent({type:tu.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:tu.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error setting preferred account"),e}}async connect(e){if(e?.socialUri)try{await this.init();let t=this.getRpcUrl(e.chainId),a=await this.appEvent({type:tu.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:t}});return a.userName&&this.setSocialLoginSuccess(a.userName),this.setLoginSuccess(a.email),this.setLastUsedChainId(a.chainId),this.user=a,a}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting social"),e}else try{let t=e?.chainId||this.getLastUsedChainId()||1,a=await this.getUser({chainId:t,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(t)});return this.setLoginSuccess(a.email),this.setLastUsedChainId(a.chainId),this.user=a,a}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}}async getUser(e){try{await this.init();let t=e?.chainId||this.getLastUsedChainId()||1,a=await this.appEvent({type:tu.APP_GET_USER,payload:{...e,chainId:t,rpcUrl:this.getRpcUrl(t)}});return this.user=a,a}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}}async connectSocial({uri:e,chainId:t,preferredAccountType:a}){try{await this.init();let n=this.getRpcUrl(t),r=await this.appEvent({type:tu.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:t,rpcUrl:n,preferredAccountType:a}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting social"),e}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:tu.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{let e=await this.appEvent({type:tu.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{let t=this.getRpcUrl(e),a=await this.appEvent({type:tu.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:t}});return this.setLastUsedChainId(a.chainId),a}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error switching network"),e}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async e=>{let t=setTimeout(()=>{e()},3e3);await this.appEvent({type:tu.APP_SIGN_OUT}),clearTimeout(t),e()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){try{if(tp.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();let t=e.chainNamespace||"eip155",a=this.getActiveCaipNetwork(t)?.id;e.chainNamespace=t,e.chainId=a,e.rpcUrl=this.getRpcUrl(a),this.rpcRequestHandler?.(e);let n=await this.appEvent({type:tu.APP_RPC_REQUEST,payload:e});return this.rpcSuccessHandler?.(n,e),n}catch(t){throw this.rpcErrorHandler?.(t,e),this.w3mLogger?.logger.error({error:t},"Error requesting"),t}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===tu.FRAME_IS_CONNECTED_SUCCESS&&t.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===tu.FRAME_IS_CONNECTED_ERROR&&e(),t.type!==tu.FRAME_IS_CONNECTED_SUCCESS||t.payload.isConnected||e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===tu.FRAME_GET_USER_SUCCESS&&e(t.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===tu.FRAME_CONNECT_SOCIAL_SUCCESS&&e(t.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===tu.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(t.payload):t.type===tu.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:tp.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:t})=>{tp.SAFE_RPC_METHODS.includes(t)||e.abort(),await this.appEvent({type:tu.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let t,a;function n(e){return e.replace("@w3m-app/","")}let r=[tu.APP_SYNC_DAPP_DATA,tu.APP_SYNC_THEME,tu.APP_SET_PREFERRED_ACCOUNT],i=n(e.type);return this.w3mFrame.iframeIsReady||r.includes(e.type)||(a=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(a),[tu.APP_CONNECT_EMAIL,tu.APP_CONNECT_DEVICE,tu.APP_CONNECT_OTP,tu.APP_CONNECT_SOCIAL,tu.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(i)&&(t=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((n,r)=>{let s=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:s},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:s});let o=new AbortController;"RPC_REQUEST"===i&&this.openRpcRequests.set(s,{...e.payload,abortController:o}),o.signal.addEventListener("abort",()=>{"RPC_REQUEST"===i?r(Error("Request was aborted")):"GET_FARCASTER_URI"!==i&&r(Error("Something went wrong"))});let c=(e,o)=>{e.id===s&&(o?.logger.info?.({framEvent:e,id:s},"Received frame response"),this.openRpcRequests.delete(e.id),e.type===`@w3m-frame/${i}_SUCCESS`?(t&&clearTimeout(t),a&&clearTimeout(a),"payload"in e&&n(e.payload),n(void 0)):e.type===`@w3m-frame/${i}_ERROR`&&(t&&clearTimeout(t),a&&clearTimeout(a),"payload"in e&&r(Error(e.payload?.message||"An error occurred")),r(Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(s,e=>c(e,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){tf.set(tu.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){tf.set(tu.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&tf.set(tu.EMAIL,e),tf.set(tu.EMAIL_LOGIN_USED_KEY,"true"),tf.delete(tu.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){tf.delete(tu.EMAIL_LOGIN_USED_KEY),tf.delete(tu.EMAIL),tf.delete(tu.LAST_USED_CHAIN_KEY),tf.delete(tu.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&tf.set(tu.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){let e=tf.get(tu.LAST_USED_CHAIN_KEY)??void 0,t=Number(e);return isNaN(t)?e:t}persistSmartAccountEnabledNetworks(e){tf.set(tu.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let t=void 0===e?void 0:"eip155";"string"==typeof e&&(t=e.includes(":")?ts.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?"eip155":"solana");let a=this.getCaipNetworks(t),n=e?a.find(t=>String(t.id)===String(e)||t.caipNetworkId===e):a[0];return n?.rpcUrls.default.http?.[0]}}class st{constructor(){}static getInstance({projectId:e,chainId:t,enableLogger:a,onTimeout:n,abortController:r,getActiveCaipNetwork:i,getCaipNetworks:s}){let{metadata:o,sdkVersion:c,sdkType:l}=tO.getSnapshot();return st.instance||(st.instance=new se({projectId:e,chainId:t,enableLogger:a,onTimeout:n,abortController:r,getActiveCaipNetwork:i,getCaipNetworks:s,enableCloudAuthAccount:!!tO.state.remoteFeatures?.emailCapture,metadata:o,sdkVersion:c,sdkType:l})),st.instance}}function sa(e){let t,a,n,r,i,s,o;let c=e.isNewChainsStale??!0;return(0,b.U)(l=>({id:"walletConnect",name:"WalletConnect",type:sa.type,provider:e.universalProvider,async setup(){let e=await this.getProvider().catch(()=>null);e&&(r||(r=this.onConnect.bind(this),e.on("connect",r)),s||(s=this.onSessionDelete.bind(this),e.on("session_delete",s)))},async connect({...e}={}){try{let t=aF.getCaipNetworks(),c=await this.getProvider();if(!c)throw new N.N;i||(i=this.onDisplayUri,c.on("display_uri",i));let l=await this.isChainsStale();c.session&&l&&await c.disconnect();let d=tO.state.universalProviderConfigOverride;if(!c.session||l){let a=aG.createNamespaces(t,d);await c.connect({optionalNamespaces:a,..."pairingTopic"in e?{pairingTopic:e.pairingTopic}:{}}),this.setRequestedChainsIds(t.map(e=>Number(e.id)))}let u=await this.getAccounts(),p=await this.getChainId(),h=c.session?.namespaces?.eip155?.chains,m=h?.some(e=>Number(e.split(":")[1])===p),f=1;m?f=p:h?.[0]&&(f=Number(h[0].split(":")[1])),i&&(c.removeListener("display_uri",i),i=void 0),r&&(c.removeListener("connect",r),r=void 0),a||(a=this.onAccountsChanged.bind(this),c.on("accountsChanged",a)),n||(n=this.onChainChanged.bind(this),c.on("chainChanged",n)),o||(o=this.onDisconnect.bind(this),c.on("disconnect",o)),s||(s=this.onSessionDelete.bind(this),c.on("session_delete",s));let g=d?.defaultChain;return c.setDefaultChain(g??`eip155:${f}`),{accounts:u,chainId:f}}catch(e){if(/(user rejected|connection request reset)/i.test(e?.message))throw new y.vx(e);throw e}},async disconnect(){let e=await this.getProvider();try{await e?.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{n&&(e?.removeListener("chainChanged",n),n=void 0),o&&(e?.removeListener("disconnect",o),o=void 0),r||(r=this.onConnect.bind(this),e?.on("connect",r)),a&&(e?.removeListener("accountsChanged",a),a=void 0),s&&(e?.removeListener("session_delete",s),s=void 0),this.setRequestedChainsIds([])}},async getAccounts(){let e=await this.getProvider();if(!e?.session?.namespaces)return[];let t=e?.session?.namespaces[eD.CHAIN.EVM]?.accounts,a=t?.map(e=>e.split(":")[2])??[],n=new Set;return a.filter(e=>{let t=e?.toLowerCase();return!n.has(t)&&(n.add(t),!0)})},async getProvider({chainId:a}={}){t||(t=e.universalProvider,t?.events.setMaxListeners(Number.POSITIVE_INFINITY));let n=tN.getActiveNamespace(),r=aF.getActiveCaipNetwork()?.id;if(a&&r!==a&&n){let e=tN.getStoredActiveCaipNetworkId(),t=n?aF.getCaipNetworks(n):[],a=t?.find(t=>t.id===e);a&&a.chainNamespace===eD.CHAIN.EVM&&await this.switchChain?.({chainId:Number(a.id)})}return t},async getChainId(){let e=aF.getActiveCaipNetwork(eD.CHAIN.EVM)?.id;if(e)return e;let t=await this.getProvider(),a=t.session?.namespaces[eD.CHAIN.EVM]?.chains?.[0],n=aF.getCaipNetworks().find(e=>e.id===a);return n?.id},async isAuthorized(){try{let[e,t]=await Promise.all([this.getAccounts(),this.getProvider()]);if(!e.length)return!1;if(await this.isChainsStale()&&t.session)return await t.disconnect().catch(()=>{}),!1;return!0}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let a=await this.getProvider();if(!a)throw new N.N;let n=aF.getCaipNetworks().find(e=>e.id===t);if(!n)throw new y.ch(new A.nk);try{await a.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,v.cK)(t)}]}),n?.caipNetworkId&&a.setDefaultChain(n?.caipNetworkId),l.emitter.emit("change",{chainId:Number(t)});let e=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...e,t]),{...n,id:n.id}}catch(r){if(/(?:user rejected)/iu.test(r.message))throw new y.vx(r);try{let r;r=e?.blockExplorerUrls?e.blockExplorerUrls:n.blockExplorers?.default.url?[n.blockExplorers?.default.url]:[];let i=n.rpcUrls?.chainDefault?.http||[],s={blockExplorerUrls:r,chainId:(0,v.cK)(t),chainName:n.name,iconUrls:e?.iconUrls,nativeCurrency:n.nativeCurrency,rpcUrls:i};await a.request({method:"wallet_addEthereumChain",params:[s]});let o=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...o,t]),{...n,id:n.id}}catch(e){throw new y.vx(e)}}},onAccountsChanged(e){0===e.length?this.onDisconnect():l.emitter.emit("change",{accounts:e.map(e=>(0,E.b)(e))})},onChainChanged(e){let t=Number(e);l.emitter.emit("change",{chainId:t})},onConnect(e){this.setRequestedChainsIds(aF.getCaipNetworks().map(e=>Number(e.id)))},async onDisconnect(e){this.setRequestedChainsIds([]),l.emitter.emit("disconnect");let t=await this.getProvider();a&&(t.removeListener("accountsChanged",a),a=void 0),n&&(t.removeListener("chainChanged",n),n=void 0),o&&(t.removeListener("disconnect",o),o=void 0),s&&(t.removeListener("session_delete",s),s=void 0),r||(r=this.onConnect.bind(this),t.on("connect",r))},onDisplayUri(e){l.emitter.emit("message",{type:"display_uri",data:e})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){if(!t?.session?.namespaces)return[];let e=t?.session?.namespaces[eD.CHAIN.EVM]?.accounts;return e?.map(e=>Number.parseInt(e.split(":")[1]??""))??[]},async getRequestedChainsIds(){return[...new Set(await l.storage?.getItem(this.requestedChainsStorageKey)??[])]},async isChainsStale(){if(!c)return!1;let e=l.chains.map(e=>e.id),t=this.getNamespaceChainsIds();if(t.length&&!t.some(t=>e.includes(t)))return!1;let a=await this.getRequestedChainsIds();return!e.every(e=>a.includes(Number(e)))},async setRequestedChainsIds(e){await l.storage?.setItem(this.requestedChainsStorageKey,e)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}sa.type="walletConnect";let sn=(0,tr.BX)({pendingTransactions:0}),sr={state:sn,subscribeKey:(e,t)=>(0,ti.u$)(sn,e,t),increase(e){sn[e]+=1},decrease(e){sn[e]-=1},reset(e){sn[e]=0}};async function si(e){if(tb.isSafeApp()){let{safe:t}=await a.e(7660).then(a.bind(a,37660));if(t&&!e.some(e=>"safe"===e.type))return t()}return null}async function ss(e){try{let{baseAccount:t}=await a.e(7660).then(a.bind(a,37660));if(t&&!e.some(e=>"baseAccount"===e.id))return t()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}let so={enable:!1,pollingInterval:3e4};class sc extends aY{constructor(e){let t=a9.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=eD.CHAIN.EVM,this.adapterType=eD.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...so,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:t}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){let t=this.getWagmiConnector(e.id);if(!t)return{accounts:[]};if(t.id===eD.CONNECTOR_ID.AUTH){let e=await t.getProvider();if(!e?.user)return{accounts:[]};let{address:a,accounts:n}=e.user;return Promise.resolve({accounts:(n||[{address:a,type:"eoa"}]).map(e=>tb.createAccount("eip155",e.address,e.type))})}let{addresses:a,address:n}=o(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(a||[n])].map(e=>tb.createAccount("eip155",e||"","eoa"))})}checkChainId(){let{chainId:e}=o(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(t=>t.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(e=>e.chainNamespace===eD.CHAIN.EVM);let t={},a=[...e.connectors??[]];this.wagmiChains.forEach(a=>{let n=e.transports?.[a.id],r=a9.getCaipNetworkId(a);n?t[a.id]=a9.extendWagmiTransports(a,e.projectId,n):t[a.id]=a9.getViemTransport(a,e.projectId,e.customRpcUrls?.[r])}),this.wagmiConfig=function(e){let t;let{multiInjectedProviderDiscovery:a=!0,storage:r=function(e){let{deserialize:t=k,key:a="wagmi",serialize:n=x,storage:r=D}=e;function i(e){return e instanceof Promise?e.then(e=>e).catch(()=>null):e}return{...r,key:a,async getItem(e,n){let s=r.getItem(`${a}.${e}`),o=await i(s);return o?t(o)??null:n??null},async setItem(e,t){let s=`${a}.${e}`;null===t?await i(r.removeItem(s)):await i(r.setItem(s,n(t)))},async removeItem(e){await i(r.removeItem(`${a}.${e}`))}}}({storage:function(){let e="undefined"!=typeof window&&window.localStorage?window.localStorage:D;return{getItem:t=>e.getItem(t),removeItem(t){e.removeItem(t)},setItem(t,a){try{e.setItem(t,a)}catch{}}}}()}),syncConnectedChain:i=!0,ssr:s=!1,...o}=e,c="undefined"!=typeof window&&a?function(){let e=new Set,t=[],a=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(a=>{t.some(({info:e})=>e.uuid===a.info.uuid)||(t=[...t,a],e.forEach(e=>e(t,{added:[a]})))}),n=a();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n?.(),n=a()},subscribe:(a,{emitImmediately:n}={})=>(e.add(a),n&&a(t,{added:t}),()=>e.delete(a))}}():void 0,l=C(()=>o.chains),d=C(()=>{let e=[],t=new Set;for(let a of o.connectors??[]){let n=u(a);if(e.push(n),!s&&n.rdns)for(let e of"string"==typeof n.rdns?[n.rdns]:n.rdns)t.add(e)}if(!s&&c)for(let a of c.getProviders())t.has(a.info.rdns)||e.push(u(m(a)));return e});function u(e){let t=new O(function(e=11){if(!n||M+e>512){n="",M=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(M,M+++e)}()),a={...e({emitter:t,chains:l.getState(),storage:r,transports:o.transports}),emitter:t,uid:t.uid};return t.on("connect",N),a.setup?.(),a}function m(e){let{info:t}=e,a=e.provider;return I({target:{...t,id:t.rdns,provider:a}})}let g=new Map;function E(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let y="0.0.0-canary-";t=L.r.startsWith(y)?Number.parseInt(L.r.replace(y,""),10):Number.parseInt(L.r.split(".")[0]??"0",10);let _=C(h(r?f(E,{migrate(e,a){if(a===t)return e;let n=E(),r=w(e,n.chainId);return{...n,chainId:r}},name:"store",partialize:e=>({connections:{__type:"Map",value:Array.from(e.connections.entries()).map(([e,t])=>{let{id:a,name:n,type:r,uid:i}=t.connector;return[e,{...t,connector:{id:a,name:n,type:r,uid:i}}]})},chainId:e.chainId,current:e.current}),merge(e,t){"object"==typeof e&&e&&"status"in e&&delete e.status;let a=w(e,t.chainId);return{...t,...e,chainId:a}},skipHydration:s,storage:r,version:t}):E));function w(e,t){return e&&"object"==typeof e&&"chainId"in e&&"number"==typeof e.chainId&&l.getState().some(t=>t.id===e.chainId)?e.chainId:t}function v(e){_.setState(t=>{let a=t.connections.get(e.uid);return a?{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts??a.accounts,chainId:e.chainId??a.chainId,connector:a.connector})}:t})}function N(e){"connecting"!==_.getState().status&&"reconnecting"!==_.getState().status&&_.setState(t=>{let a=d.getState().find(t=>t.uid===e.uid);return a?(a.emitter.listenerCount("connect")&&a.emitter.off("connect",v),a.emitter.listenerCount("change")||a.emitter.on("change",v),a.emitter.listenerCount("disconnect")||a.emitter.on("disconnect",b),{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts,chainId:e.chainId,connector:a}),current:e.uid,status:"connected"}):t})}function b(e){_.setState(t=>{let a=t.connections.get(e.uid);if(a){let e=a.connector;e.emitter.listenerCount("change")&&a.connector.emitter.off("change",v),e.emitter.listenerCount("disconnect")&&a.connector.emitter.off("disconnect",b),e.emitter.listenerCount("connect")||a.connector.emitter.on("connect",N)}if(t.connections.delete(e.uid),0===t.connections.size)return{...t,connections:new Map,current:null,status:"disconnected"};let n=t.connections.values().next().value;return{...t,connections:new Map(t.connections),current:n.connector.uid}})}return _.setState(E()),i&&_.subscribe(({connections:e,current:t})=>t?e.get(t)?.chainId:void 0,e=>{if(l.getState().some(t=>t.id===e))return _.setState(t=>({...t,chainId:e??t.chainId}))}),c?.subscribe(e=>{let t=new Set,a=new Set;for(let e of d.getState())if(t.add(e.id),e.rdns)for(let t of"string"==typeof e.rdns?[e.rdns]:e.rdns)a.add(t);let n=[];for(let r of e){if(a.has(r.info.rdns))continue;let e=u(m(r));t.has(e.id)||n.push(e)}(!r||_.persist.hasHydrated())&&d.setState(e=>[...e,...n],!0)}),{get chains(){return l.getState()},get connectors(){return d.getState()},storage:r,getClient:function(e={}){let t;let a=e.chainId??_.getState().chainId,n=l.getState().find(e=>e.id===a);if(e.chainId&&!n)throw new A.nk;{let e=g.get(_.getState().chainId);if(e&&!n)return e;if(!n)throw new A.nk}{let e=g.get(a);if(e)return e}if(o.client)t=o.client({chain:n});else{let e=n.id,a=l.getState().map(e=>e.id),r={};for(let[t,n]of Object.entries(o))if("chains"!==t&&"client"!==t&&"connectors"!==t&&"transports"!==t){if("object"==typeof n){if(e in n)r[t]=n[e];else{if(a.some(e=>e in n))continue;r[t]=n}}else r[t]=n}t=(0,p.U)({...r,chain:n,batch:r.batch??{multicall:!0},transport:t=>o.transports[e]({...t,connectors:d})})}return g.set(a,t),t},get state(){return _.getState()},setState(e){let t;t="function"==typeof e?e(_.getState()):e;let a=E();"object"!=typeof t&&(t=a),Object.keys(a).some(e=>!(e in t))&&(t=a),_.setState(t,!0)},subscribe:(e,t,a)=>_.subscribe(e,t,a?{...a,fireImmediately:a.emitImmediately}:void 0),_internal:{mipd:c,async revalidate(){let e=_.getState(),t=e.connections,a=e.current;for(let[,e]of t){let n=e.connector;n.isAuthorized&&await n.isAuthorized()||(t.delete(n.uid),a!==n.uid||(a=null))}_.setState(e=>({...e,connections:t,current:a}))},store:_,ssr:!!s,syncConnectedChain:i,transports:o.transports,chains:{setState(e){let t="function"==typeof e?e(l.getState()):e;if(0!==t.length)return l.setState(t,!0)},subscribe:e=>l.subscribe(e)},connectors:{providerDetailToConnector:m,setup:u,setState:e=>d.setState("function"==typeof e?e(d.getState()):e,!0),subscribe:e=>d.subscribe(e)},events:{change:v,connect:N,disconnect:b}}}}({...e,chains:this.wagmiChains,connectors:a,transports:t})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=function(e,t){let a,n;let{syncConnectedChain:r=e._internal.syncConnectedChain,...i}=t,s=t=>(a&&a(),a=j(e.getClient({chainId:t}),F.u,"watchPendingTransactions")(i)),o=s(t.chainId);return r&&!t.chainId&&(n=e.subscribe(({chainId:e})=>e,async e=>s(e))),()=>{o?.(),n?.()}}(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),sr.increase("pendingTransactions")}});let e=sr.subscribeKey("pendingTransactions",t=>{t>=eD.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),e())})}setupWatchers(){!function(e,t){let{onChange:a}=t;e.subscribe(()=>H(e),a,{equalityFn:B})}(this.wagmiConfig,{onChange:e=>{this.clearConnections(),this.addConnection(...e.map(e=>{let t=this.getCaipNetworks().find(t=>t.id===e.chainId),a=e.connector.id===eD.CONNECTOR_ID.AUTH;return{accounts:e.accounts.map(e=>({address:this.toChecksummedAddress(e)})),caipNetwork:t,connectorId:e.connector.id,auth:a?{name:tN.getConnectedSocialProvider(),username:tN.getConnectedSocialUsername()}:void 0}}))}}),function(e,t){let{onChange:a}=t;e.subscribe(()=>o(e),a,{equalityFn(e,t){let{connector:a,...n}=e,{connector:r,...i}=t;return B(n,i)&&a?.id===r?.id&&a?.uid===r?.uid}})}(this.wagmiConfig,{onChange:(e,t)=>{if("disconnected"===e.status&&t.address&&this.emit("disconnect"),e?.chainId&&e?.chainId!==t?.chainId&&this.emit("switchNetwork",{chainId:e.chainId}),"connected"===e.status){let a=e.address!==t?.address,n=e.connector.id!==t.connector?.id,r="connected"!==t.status;(a||n||r)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:e.address,chainId:e.chainId,connector:e.connector}))}}})}async addThirdPartyConnectors(){let e=[],{enableCoinbase:t}=tO.state||{};if(!1!==t){let t=await ss(this.wagmiConfig.connectors);t&&e.push(t)}let a=await si(this.wagmiConfig.connectors);a&&e.push(a),await Promise.all(e.map(e=>{let t=this.configureInternalConnector(e);return this.addWagmiConnector(t)}))}addWagmiConnectors(){let e=[];!1!==tO.state.enableInjected&&e.push(I({shimDisconnect:!0}));let{features:t,remoteFeatures:a,projectId:n,enableAuthLogger:r}=tO.state,i=a?.email??t?.email??!0,s=a?.socials??t?.socials,o=Array.isArray(s)&&s?.length>0;(i||o)&&e.push(function(e){let t,a,n=[];function r(e){let t=aF.getCaipNetworks(eD.CHAIN.EVM),a=Number(eM.parseEvmChainId(e));if(!t.some(t=>String(t.id)===String(e))){let e=aF.getActiveCaipNetwork(eD.CHAIN.EVM)?.id||t[0]?.id;e&&Number.isInteger(Number(e))&&(a=Number(e))}if(!a)throw Error("ChainId not found in networks");return a}async function i(a={}){let s=(t||(t=st.getInstance({projectId:e.options.projectId,chainId:aW()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,onTimeout:e=>{"iframe_load_failed"===e?a8.open(ne.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):"iframe_request_timeout"===e?a8.open(ne.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):"unverified_domain"===e&&a8.open(ne.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:ne.EmbeddedWalletAbortController,getActiveCaipNetwork:e=>aW(e),getCaipNetworks:e=>aF.getCaipNetworks(e)})),t),o=a.chainId;if(a.isReconnecting){let t=eM.parseEvmChainId(s.getLastUsedChainId()||""),a=e.chains?.[0].id;if(!(o=t||a))throw Error("ChainId not found in provider")}let c=aB("eip155"),{address:l,chainId:d,accounts:u}=await az.authConnectorAuthenticate({authConnector:s,chainId:o,preferredAccountType:c,socialUri:a.socialUri,chainNamespace:eD.CHAIN.EVM});n=u?.map(e=>e.address)||[l];let p=r(d);return{accounts:n,account:l,chainId:p,chain:{id:p,unsupported:!1}}}return(0,b.U)(t=>({id:eD.CONNECTOR_ID.AUTH,name:eD.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:eD.CHAIN.EVM,async connect(e={}){if(a){let t=await a;return{accounts:e.withCapabilities?t.accounts.map(e=>({address:e,capabilities:{}})):t.accounts,chainId:t.chainId}}a||(a=new Promise(t=>{t(i(e))}));let t=await a;return a=void 0,{accounts:e.withCapabilities?t.accounts.map(e=>({address:e,capabilities:{}})):t.accounts,chainId:t.chainId}},async disconnect(){let e=await this.getProvider();await e.disconnect()},getAccounts:()=>n?.length?(t.emitter.emit("change",{accounts:n}),Promise.resolve(n)):Promise.resolve([]),async getProvider(){return this.provider||(this.provider=st.getInstance({projectId:e.options.projectId,chainId:aW()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,abortController:ne.EmbeddedWalletAbortController,onTimeout:e=>{"iframe_load_failed"===e?a8.open(ne.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):"iframe_request_timeout"===e?a8.open(ne.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):"unverified_domain"===e&&a8.open(ne.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:e=>aW(e),getCaipNetworks:e=>aF.getCaipNetworks(e)})),Promise.resolve(this.provider)},async getChainId(){let e=await this.getProvider(),{chainId:t}=await e.getChainId();return r(t)},async isAuthorized(){let e=aF.state.activeChain===eD.CHAIN.EVM;return(!eD.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(e=>ad.getConnectorId(e)===eD.CONNECTOR_ID.AUTH)||!!e)&&Promise.resolve((await this.getProvider()).getLoginEmailUsed())},async switchChain({chainId:e}){try{let a=t.chains.find(t=>t.id===e);if(!a)throw new y.ch(Error("chain not found on connector."));let r=await this.getProvider(),i=aB("eip155"),s=await r.connect({chainId:e,preferredAccountType:i});return n=s?.accounts?.map(e=>e.address)||[s.address],t.emitter.emit("change",{chainId:Number(e),accounts:n}),a}catch(e){if(e instanceof Error)throw new y.ch(e);throw e}},onAccountsChanged(e){0===e.length?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(E.b)})},onChainChanged(e){let a=Number(e);t.emitter.emit("change",{chainId:a})},async onDisconnect(e){let t=await this.getProvider();await t.disconnect()}}))}({chains:this.wagmiChains,options:{projectId:n,enableAuthLogger:r}})),e.forEach(e=>{this.configureInternalConnector(e)})}configureInternalConnector(e){let t=this.wagmiConfig._internal.connectors.setup(e);return this.wagmiConfig._internal.connectors.setState(e=>[...e,t]),t}async handleAccountChanged({address:e,chainId:t,connector:a}){if(!this.namespace)throw Error("WagmiAdapter:handleAccountChanged - namespace is required");let n=await a.getProvider().catch(()=>void 0);this.emit("accountChanged",{address:this.toChecksummedAddress(e),chainId:t,connector:{id:a.id,name:a3.ConnectorNamesMap[a.id]??a.name,imageId:a3.ConnectorImageIds[a.id],type:a3.ConnectorTypesMap[a.type]??"EXTERNAL",info:a.id===eD.CONNECTOR_ID.INJECTED?void 0:{rdns:a.id},provider:n,chain:this.namespace,chains:[]}})}async signMessage(e){try{return{signature:await Z(this.wagmiConfig,{message:e.message,account:e.address})}}catch(e){throw Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){let{chainId:t,address:a}=o(this.wagmiConfig),n=this.wagmiChains?.find(e=>e.id===t),r={account:a,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chain:n,type:"legacy",parameters:["nonce"]};await J(this.wagmiConfig,r);let i=await ed(this.wagmiConfig,r);return await ef(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){let{caipNetwork:t,...a}=e,n=Number(eM.caipNetworkIdToNumber(t.caipNetworkId)),r=this.wagmiChains?.find(e=>e.id===n);return{hash:await ey(this.wagmiConfig,{chain:r,address:a.tokenAddress,account:a.fromAddress,abi:a.abi,functionName:a.method,args:a.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await ew(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch(e){throw Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return function(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new eR({value:e});let[a,n="0"]=e.split("."),r=a.startsWith("-");if(r&&(a=a.slice(1)),n=n.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${n}`))&&(a=`${BigInt(a)+1n}`),n="";else if(n.length>t){let[e,r,i]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],s=Math.round(Number(`${r}.${i}`));(n=s>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${s}`).length>t&&(n=n.slice(1),a=`${BigInt(a)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${r?"-":""}${a}${n}`)}(e.value,e.decimals)}formatUnits(e){return(0,eO.J)(e.value,e.decimals)}async addWagmiConnector(e){let t;if(!this.namespace)throw Error("WagmiAdapter:addWagmiConnector - namespace is required");let{enableEIP6963:a}=tO.state||{};if(e.type===eD.CONNECTOR_ID.INJECTED&&!1===a||e.id===eD.CONNECTOR_ID.AUTH||e.id===eD.CONNECTOR_ID.WALLET_CONNECT)return;e.id!==eD.CONNECTOR_ID.BASE_ACCOUNT&&(t=await e.getProvider().catch(()=>void 0));let n=tY.state.connectorImages;this.addConnector({id:e.id,explorerId:a3.ConnectorExplorerIds[e.id],imageUrl:n?.[e.id]??e.icon,name:a3.ConnectorNamesMap[e.id]??e.name,imageId:a3.ConnectorImageIds[e.id],type:a3.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===eD.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:t,chain:this.namespace,chains:[]})}async syncConnectors(){!function(e,t){let{onChange:a}=t;e._internal.connectors.subscribe((e,t)=>{a(Object.values(e),t)})}(this.wagmiConfig,{onChange:e=>{e.forEach(e=>this.addWagmiConnector(e))}}),this.addWagmiConnectors(),await Promise.all(this.wagmiConfig.connectors.map(e=>this.addWagmiConnector(e))),await this.addThirdPartyConnectors()}async syncConnections(){let e=this.connectors.filter(e=>{let{hasDisconnected:t,hasConnected:a}=a6.getConnectorStorageInfo(e.id,this.namespace);return!t&&a}).map(e=>this.getWagmiConnector(e.id)).filter(Boolean);await eA(this.wagmiConfig,{connectors:e})}async syncConnection(e){let{id:t,chainId:a}=e,n=H(this.wagmiConfig).find(e=>e.connector.id===t),r=this.getWagmiConnector(t),i=await r?.getProvider();if(tb.isSafeApp()&&t===eD.CONNECTOR_ID.SAFE&&!n?.accounts.length){let e=this.getWagmiConnector("safe");if(e){let t=await eN(this.wagmiConfig,{connector:e,chainId:Number(a)}),r=await e.getProvider();return{chainId:Number(a),address:this.toChecksummedAddress(t.accounts[0]),provider:r,type:n?.connector.type?.toUpperCase(),id:n?.connector.id}}}return{chainId:Number(n?.chainId),address:this.toChecksummedAddress(n?.accounts[0]),provider:i,type:n?.connector.type?.toUpperCase(),id:n?.connector.id}}async connectWalletConnect(e){try{let t=this.getWalletConnectConnector();await t.authenticate();let a=this.getWagmiConnector("walletConnect");if(!a)throw Error("UniversalAdapter:connectWalletConnect - connector not found");let n=await eN(this.wagmiConfig,{connector:a,chainId:e?Number(e):void 0});return n.chainId!==Number(e)&&await eb(this.wagmiConfig,{chainId:n.chainId}),{clientId:await t.provider.client.core.crypto.getClientId()}}catch(e){if(e instanceof y.vx||ek.isUserRejectedRequestError(e))throw new eU(e);throw e}}async connect(e){try{let{id:t,address:a,provider:n,type:r,info:i,chainId:s,socialUri:o}=e,c=this.getWagmiConnector(t);if(!c)throw Error("connectionControllerClient:connectExternal - connector is undefined");n&&i&&c.id===eD.CONNECTOR_ID.EIP6963&&c.setEip6963Wallet?.({provider:n,info:i});let l=this.wagmiConfig.state?.connections?.get(c.uid);if(l){await this.wagmiConfig.storage?.setItem("recentConnectorId",c.id);let e=[...l.accounts].sort((e,t)=>a6.isLowerCaseMatch(e,a)?-1:+!!a6.isLowerCaseMatch(t,a));return this.wagmiConfig?.setState(t=>({...t,connections:new Map(t.connections).set(c.uid,{accounts:e,chainId:l.chainId,connector:l.connector}),current:c.uid,status:"connected"})),{address:this.toChecksummedAddress(e[0]),chainId:l.chainId,provider:n,type:r,id:t}}let d=await eN(this.wagmiConfig,{connector:c,chainId:s?Number(s):void 0,socialUri:o}),u=n??await c.getProvider();return{address:this.toChecksummedAddress(d.accounts[0]),chainId:d.chainId,provider:u,type:r,id:t}}catch(e){if(e instanceof y.vx||ek.isUserRejectedRequestError(e))throw new eU(e);throw e}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(e=>({accounts:e.accounts.map(e=>({address:this.toChecksummedAddress(e)})),connectorId:e.connector.id}))}async reconnect(e){let{id:t}=e,a=this.getWagmiConnector(t);if(!a)throw Error("connectionControllerClient:connectExternal - connector is undefined");await eA(this.wagmiConfig,{connectors:[a]})}async getBalance(e){let t=e.address,a=this.getCaipNetworks().find(t=>t.id===e.chainId);if(!t)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(a&&this.wagmiConfig){let t=`${a.caipNetworkId}:${e.address}`,n=this.balancePromises[t];if(n)return n;let r=tN.getNativeBalanceCacheForCaipAddress(t);return r?{balance:r.balance,symbol:r.symbol}:(this.balancePromises[t]=new Promise(async n=>{try{let r=Number(e.chainId),i=await eS(this.wagmiConfig,{address:e.address,chainId:r,token:e.tokens?.[a.caipNetworkId]?.address});tN.updateNativeBalanceCache({caipAddress:t,balance:i.formatted,symbol:i.symbol,timestamp:Date.now()}),n({balance:i.formatted,symbol:i.symbol})}catch(e){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",e),n({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[t]}),this.balancePromises[t]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(e){if(e.id){let t=this.getWagmiConnector(e.id),a=H(this.wagmiConfig).find(t=>a6.isLowerCaseMatch(t.connector.id,e.id));return(await eT(this.wagmiConfig,{connector:t}),!1===tO.state.enableReconnect&&this.deleteConnection(e.id),a)?{connections:[{accounts:a.accounts.map(e=>({address:this.toChecksummedAddress(e)})),connectorId:a.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){let e=H(this.wagmiConfig),t=await Promise.allSettled(e.map(async e=>{let t=this.getWagmiConnector(e.connector.id);return t&&await eT(this.wagmiConfig,{connector:t}),e}));return this.wagmiConfig.state.connections.clear(),{connections:t.filter(e=>"fulfilled"===e.status).map(({value:e})=>({accounts:e.accounts.map(e=>({address:this.toChecksummedAddress(e)})),connectorId:e.connector.id}))}}async switchNetwork(e){let{caipNetwork:t}=e,a=this.wagmiConfig.chains.find(e=>e.id.toString()===t.id.toString());if(!a)throw Error("connectionControllerClient:switchNetwork - wagmiChain is undefined");let{name:n,nativeCurrency:r,rpcUrls:i,blockExplorers:s,id:o}=a,c=t.rpcUrls?.chainDefault?.http?.[0]??i.default.http[0]??"",l=s?.default.url??t.blockExplorers?.default?.url??"",d=r??t.nativeCurrency,u=n??t.name;await eb(this.wagmiConfig,{chainId:o,addEthereumChainParameter:{chainName:u,nativeCurrency:d,rpcUrls:[c],blockExplorerUrls:[l]}}),await super.switchNetwork(e)}async getCapabilities(e){if(!this.wagmiConfig)throw Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");let t=H(this.wagmiConfig)[0],a=t?this.getWagmiConnector(t.connector.id):null;if(!a)throw Error("connectionControllerClient:getCapabilities - connector is undefined");let n=await a.getProvider();if(!n)throw Error("connectionControllerClient:getCapabilities - provider is undefined");return await n.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");let t=H(this.wagmiConfig)[0],a=t?this.getWagmiConnector(t.connector.id):null;if(!a)throw Error("connectionControllerClient:grantPermissions - connector is undefined");let n=await a.getProvider();if(!n)throw Error("connectionControllerClient:grantPermissions - provider is undefined");return n.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");let t=H(this.wagmiConfig)[0],a=t?this.getWagmiConnector(t.connector.id):null;if(!a)throw Error("connectionControllerClient:revokePermissions - connector is undefined");let n=await a.getProvider();if(!n)throw Error("connectionControllerClient:revokePermissions - provider is undefined");return n.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");let t=H(this.wagmiConfig)[0],a=t?this.getWagmiConnector(t.connector.id):null;if(!a)throw Error("connectionControllerClient:walletGetAssets - connector is undefined");let n=await a.getProvider();if(!n)throw Error("connectionControllerClient:walletGetAssets - provider is undefined");return n.request({method:"wallet_getAssets",params:[e]})}setAuthProvider(e){if(!this.namespace)throw Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:eD.CONNECTOR_ID.AUTH,type:"AUTH",name:eD.CONNECTOR_NAMES.AUTH,provider:e,imageId:a3.ConnectorImageIds[eD.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(e){e.on("connect",()=>{let e=H(this.wagmiConfig),t=this.getWagmiConnector("walletConnect");if(t&&!e.find(e=>e.connector.id===t.id)){if("eip155"===aF.state.activeChain)return;eA(this.wagmiConfig,{connectors:[t]})}});let t=sa({universalProvider:e});return this.configureInternalConnector(t),this.addConnector(new aX({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}toChecksummedAddress(e){return(0,E.o)(e.toLowerCase())}}},50431:(e,t,a)=>{"use strict";a.d(t,{T:()=>r,Z:()=>i});var n=a(7441);class r extends n.C{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class i extends n.C{constructor({docsPath:e,metaMessages:t,type:a}){super(`Account type "${a}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},51362:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var n=a(12115),r="(prefers-color-scheme: dark)",i=n.createContext(void 0),s={setTheme:e=>{},themes:[]},o=()=>{var e;return null!=(e=n.useContext(i))?e:s},c=null,l=(e,t)=>{let a;try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t},d=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},u=e=>(e||(e=window.matchMedia(r)),e.matches?"dark":"light")},63625:(e,t,a)=>{"use strict";a.d(t,{f:()=>s});var n=a(36444),r=a(69432),i=a(81757);function s(e){if(!e||0===e.length)return[];let t=[];for(let a=0;a<e.length;a++){let{address:s,storageKeys:o}=e[a];for(let e=0;e<o.length;e++)if(o[e].length-2!=64)throw new r.fZ({storageKey:o[e]});if(!(0,i.P)(s,{strict:!1}))throw new n.M({address:s});t.push([s,o])}return t}},68370:(e,t,a)=>{"use strict";a.d(t,{M:()=>n});let n={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}}},77752:(e,t,a)=>{"use strict";a.d(t,{HF:()=>l,aj:()=>o,gC:()=>s,nM:()=>i,nk:()=>r,xU:()=>c});var n=a(95782);class r extends n.C{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class i extends n.C{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class s extends n.C{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}n.C;class o extends n.C{constructor({address:e,connector:t}){super(`Account "${e}" not found for connector "${t.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class c extends n.C{constructor({connectionChainId:e,connectorChainId:t}){super(`The current chain of the connector (id: ${t}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class l extends n.C{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:"During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`. All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored. This error commonly occurs for connectors that asynchronously inject after reconnection has already started."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}},90113:(e,t,a)=>{"use strict";a.d(t,{N:()=>r,V:()=>i});var n=a(95782);class r extends n.C{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class i extends n.C{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}},95782:(e,t,a)=>{"use strict";a.d(t,{C:()=>c});var n,r,i=a(40194);let s=()=>`@wagmi/core@${i.r}`;var o=function(e,t,a,n){if("a"===a&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};class c extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return s()}constructor(e,t={}){super(),n.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});let a=t.cause instanceof c?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof c&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: ${this.docsBaseUrl}${r}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...a?[`Details: ${a}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=a,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return o(this,n,"m",r).call(this,this,e)}}n=new WeakSet,r=function e(t,a){return a?.(t)?t:t.cause?o(this,n,"m",e).call(this,t.cause,a):t}},97002:(e,t,a)=>{"use strict";a.d(t,{AFn:()=>R,p5R:()=>O,rCZ:()=>k.r});var n=a(68370);async function r(e,t){return BigInt(await e.request({method:"eth_gasPrice",params:[t]}))}async function i(e,t){return BigInt(await e.request({method:"eth_maxPriorityFeePerGas",params:[t]}))}var s=a(27493),o=a(17327),c=a(12914),l=a(76743),d=a(54335);function u(e){return 0===e||0n===e||null==e||"0"===e||""===e||"string"==typeof e&&("0x"===(0,d.B)(e).toLowerCase()||"0x00"===(0,d.B)(e).toLowerCase())}function p(e){return"cip64"===e.type||void 0!==e.maxFeePerGas&&void 0!==e.maxPriorityFeePerGas&&!u(e.feeCurrency)}let h={block:(0,o.R)({format:e=>({transactions:e.transactions?.map(e=>"string"==typeof e?e:{...c.uP(e),...e.gatewayFee?{gatewayFee:s.uU(e.gatewayFee),gatewayFeeRecipient:e.gatewayFeeRecipient}:{},feeCurrency:e.feeCurrency})})}),transaction:(0,c.gU)({format(e){if("0x7e"===e.type)return{isSystemTx:e.isSystemTx,mint:e.mint?(0,s.uU)(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};let t={feeCurrency:e.feeCurrency};return"0x7b"===e.type?t.type="cip64":("0x7c"===e.type&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?(0,s.uU)(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:(0,l.bm)({format(e){let t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),p(e)&&(t.type="0x7b"),t}})};var m=a(88579),f=a(36444),g=a(7441),C=a(30445),E=a(42264),y=a(20068),_=a(81757),w=a(79731),v=a(67622),A=a(53369),N=a(63625),b=a(7387);let I=m.Ao,S={blockTime:1e3,contracts:n.M,formatters:h,serializers:{transaction:function(e,t){return p(e)?function(e,t){!function(e){let{chainId:t,maxPriorityFeePerGas:a,gasPrice:n,maxFeePerGas:r,to:i,feeCurrency:s}=e;if(t<=0)throw new C.qD({chainId:t});if(i&&!(0,_.P)(i))throw new f.M({address:i});if(n)throw new g.C("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(!u(r)&&r>I)throw new E.BG({maxFeePerGas:r});if(!u(a)&&!u(r)&&a>r)throw new E.lN({maxFeePerGas:r,maxPriorityFeePerGas:a});if(!u(s)&&!(0,_.P)(s))throw new g.C("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(u(s))throw new g.C("`feeCurrency` must be provided for CIP-64 transactions.")}(e);let{chainId:a,gas:n,nonce:r,to:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:l,feeCurrency:d,data:p}=e,h=[(0,v.nj)(a),r?(0,v.nj)(r):"0x",c?(0,v.nj)(c):"0x",o?(0,v.nj)(o):"0x",n?(0,v.nj)(n):"0x",i??"0x",s?(0,v.nj)(s):"0x",p??"0x",(0,N.f)(l),d,...(0,b.Z)(e,t)];return(0,w.aP)(["0x7b",(0,A.EQ)(h)])}(e,t):(0,y.bQ)(e,t)}},fees:{estimateFeesPerGas:async e=>{if(!e.request?.feeCurrency)return null;let[t,a]=await Promise.all([r(e.client,e.request.feeCurrency),i(e.client,e.request.feeCurrency)]);return{maxFeePerGas:e.multiply(t-a)+a,maxPriorityFeePerGas:a}}}};var T=a(22732);let R=(0,T.x)({...S,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0xc81517}},testnet:!1}),O=(0,T.x)({...S,id:44787,name:"Alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"A-CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Alfajores Explorer",url:"https://celo-alfajores.blockscout.com",apiUrl:"https://celo-alfajores.blockscout.com/api"}},contracts:{...S.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0xde4e29},portal:{17e3:{address:"0x82527353927d8D069b3B452904c942dA149BA381",blockCreated:2411324}},disputeGameFactory:{17e3:{address:"0xE28AAdcd9883746c0e5068F58f9ea06027b214cb",blockCreated:2411324}},l2OutputOracle:{17e3:{address:"0x4a2635e9e4f6e45817b1D402ac4904c1d1752438",blockCreated:2411324}},l1StandardBridge:{17e3:{address:"0xD1B0E0581973c9eB7f886967A606b9441A897037",blockCreated:2411324}}},testnet:!0});var k=a(37200);function P(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}P({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),P({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"}),P({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),P({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),P({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),P({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0})}}]);